"use strict";(()=>{var e={};e.id=5614,e.ids=[5614],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},59094:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>d,patchFetch:()=>m,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var o={};r.r(o),r.d(o,{POST:()=>u});var s=r(49303),n=r(88716),a=r(60670),i=r(87070),p=r(64837);async function u(e){try{let{targetUrl:t,topic:r}=await e.json();if(!t||!r)return i.NextResponse.json({error:"targetUrl and topic are required"},{status:400});let o=process.env.SCRAPING_BEE_API;if(!o)return i.NextResponse.json({error:"SCRAPING_BEE_API environment variable is not set."},{status:500});let s=await fetch(`https://app.scrapingbee.com/api/v1/?api_key=${o}&url=${encodeURIComponent(t)}`);if(!s.ok){let e=await s.text();return console.error("ScrapingBee error:",e),i.NextResponse.json({error:"Failed to scrape target URL"},{status:s.status})}let n=(await s.text()).substring(0,2e3),a=`Based on the following content from a blog (${t}):

"""
${n}
"""

Generate a personalized guest post pitch for a blog post about "${r}". The pitch should be concise, highlight why the topic is relevant to their audience, and suggest a unique angle. Also, try to infer a contact person or general contact email if possible from the content.`,u=await (0,p.B)(a);return i.NextResponse.json({pitch:u},{status:200})}catch(e){return console.error("Error generating guest post pitch:",e),i.NextResponse.json({error:"Failed to generate guest post pitch"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/generate-guest-post-pitch/route",pathname:"/api/generate-guest-post-pitch",filename:"route",bundlePath:"app/api/generate-guest-post-pitch/route"},resolvedPagePath:"/Users/test/startups/zenith/src/app/api/generate-guest-post-pitch/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:h}=c,d="/api/generate-guest-post-pitch/route";function m(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},64837:(e,t,r)=>{r.d(t,{B:()=>a});var o=r(11258);let s=process.env.GEMINI_PAID_KEYS||"";if(!s)throw Error("GEMINI_PAID_KEYS environment variable is not set.");let n=new o.$D(s);async function a(e){let t=n.getGenerativeModel({model:"gemini-pro"}),r=await t.generateContent(e);return(await r.response).text()}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,5972,1258],()=>r(59094));module.exports=o})();