(()=>{var e={};e.id=7210,e.ids=[7210],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},64443:(e,r,o)=>{"use strict";o.r(r),o.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>g,tree:()=>c}),o(43114),o(74614),o(35866);var t=o(23191),s=o(88716),n=o(37922),a=o.n(n),i=o(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);o.d(r,l);let c=["",{children:["facebook-pages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,43114)),"/Users/test/startups/zenith/src/app/facebook-pages/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,74614)),"/Users/test/startups/zenith/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,35866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/test/startups/zenith/src/app/facebook-pages/page.tsx"],d="/facebook-pages/page",p={require:o,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/facebook-pages/page",pathname:"/facebook-pages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44943:(e,r,o)=>{Promise.resolve().then(o.t.bind(o,12994,23)),Promise.resolve().then(o.t.bind(o,96114,23)),Promise.resolve().then(o.t.bind(o,9727,23)),Promise.resolve().then(o.t.bind(o,79671,23)),Promise.resolve().then(o.t.bind(o,41868,23)),Promise.resolve().then(o.t.bind(o,84759,23))},8221:(e,r,o)=>{Promise.resolve().then(o.bind(o,55596))},10358:(e,r,o)=>{Promise.resolve().then(o.bind(o,20301))},35047:(e,r,o)=>{"use strict";var t=o(77389);o.o(t,"useRouter")&&o.d(r,{useRouter:function(){return t.useRouter}}),o.o(t,"useSearchParams")&&o.d(r,{useSearchParams:function(){return t.useSearchParams}})},20301:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>a});var t=o(10326),s=o(17577),n=o(35047);function a(){let[e,r]=(0,s.useState)(null),[o,a]=(0,s.useState)(null),i=(0,n.useRouter)(),l=async()=>{if(e)try{let r=await fetch(`https://graph.facebook.com/v19.0/me?access_token=${e}`),o=await r.json();console.log("Token test response:",o),alert(`Token valid! User: ${o.name||"Unknown"}`)}catch(e){console.error("Token test failed:",e),alert("Token test failed. Check console for details.")}};return(0,t.jsxs)("div",{style:{padding:"20px",fontFamily:"sans-serif"},children:[t.jsx("h1",{children:"Facebook Pages Management"}),e?(0,t.jsxs)("div",{children:[t.jsx("p",{style:{color:"green"},children:"✓ Access token found! Redirecting to dashboard..."}),(0,t.jsxs)("p",{children:["Token length: ",o?.tokenLength," characters"]}),(0,t.jsxs)("p",{children:["Auth completed: ",o?.authCompleted?"Yes":"No"]}),(0,t.jsxs)("div",{style:{marginTop:"20px"},children:[t.jsx("button",{onClick:l,style:{padding:"10px 15px",backgroundColor:"#4267B2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Test Token Validity"}),t.jsx("button",{onClick:()=>{localStorage.removeItem("facebook_access_token"),localStorage.removeItem("facebook_auth_completed"),r(null),a(null),console.log("Tokens cleared from localStorage"),alert("Tokens cleared!")},style:{padding:"10px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Tokens"})]})]}):(0,t.jsxs)("div",{children:[t.jsx("p",{style:{color:"red"},children:"✗ No access token found."}),t.jsx("p",{children:"Please log in with Facebook first."}),t.jsx("button",{onClick:()=>i.push("/login"),style:{padding:"10px 15px",backgroundColor:"#4267B2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Log in with Facebook"})]}),(0,t.jsxs)("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[t.jsx("h3",{children:"Debug Information"}),t.jsx("p",{children:"Check browser console for detailed logs."}),t.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 12px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Refresh Page"})]})]})}},55596:(e,r,o)=>{"use strict";o.d(r,{Providers:()=>i});var t=o(10326),s=o(74690),n=o(35607),a=o(39577);function i({children:e}){return t.jsx(a.zf,{client:n.ZP,children:t.jsx(s.H,{children:e})})}},74690:(e,r,o)=>{"use strict";o.d(r,{H:()=>i,a:()=>l});var t=o(10326),s=o(17577),n=o(42357);o(71632);let a=(0,s.createContext)(void 0);function i({children:e}){let[r,o]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0),c=async()=>{try{console.log("AuthProvider: Logging out user"),await (0,n.TX)(),localStorage.removeItem("facebook_access_token"),localStorage.removeItem("facebook_auth_completed"),localStorage.removeItem("supabase_access_token"),localStorage.removeItem("supabase_refresh_token"),o(null)}catch(e){console.error("AuthProvider: Error logging out:",e),localStorage.removeItem("facebook_access_token"),localStorage.removeItem("facebook_auth_completed"),localStorage.removeItem("supabase_access_token"),localStorage.removeItem("supabase_refresh_token"),o(null)}};return console.log("AuthProvider: Rendering with state",{user:r,loading:i}),t.jsx(a.Provider,{value:{user:r,loading:i,logout:c},children:e})}function l(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return console.log("useAuth: Returning context",e),e}},42357:(e,r,o)=>{"use strict";o.d(r,{TX:()=>i,a$:()=>s,eu:()=>a,pH:()=>n});var t=o(71632);async function s(e,r){console.log("Registering user with email:",e);let{data:o,error:s}=await t.O.auth.signUp({email:e,password:r});if(s)throw console.error("Registration error:",s),Error(s.message);return console.log("Registration successful:",o),o}async function n(e,r){console.log("Logging in user with email:",e);let{data:o,error:s}=await t.O.auth.signInWithPassword({email:e,password:r});if(s)throw console.error("Login error:",s),Error(s.message);return console.log("Login successful:",o),o}async function a(){let e=`${window.location.origin}/auth/callback`;console.log("Initiating Facebook OAuth with redirect URL:",e);let{data:r,error:o}=await t.O.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:e,queryParams:{scope:"public_profile,email,pages_show_list,pages_manage_posts"}}});if(o){if(console.error("Facebook OAuth error:",o),console.error("Error details:",{message:o.message,status:o.status,name:o.name}),o.message.includes("external provider")){console.log("Trying with basic scopes...");let{data:r,error:o}=await t.O.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:e,queryParams:{scope:"public_profile,email,pages_show_list,pages_manage_posts"}}});if(o)throw console.error("Retry failed:",o),Error(o.message);return console.log("Retry successful:",r),r}throw Error(o.message)}return console.log("Facebook OAuth initiated successfully:",r),r}async function i(){console.log("Logging out user");let{error:e}=await t.O.auth.signOut();if(e)throw console.error("Logout error:",e),Error(e.message);return console.log("Logout successful"),!0}},71632:(e,r,o)=>{"use strict";o.d(r,{O:()=>t});let t=(0,o(47939).eI)("https://qfpvsyhtijwxkmyrqswa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")},43114:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>t});let t=(0,o(68570).createProxy)(String.raw`/Users/test/startups/zenith/src/app/facebook-pages/page.tsx#default`)},74614:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>l,metadata:()=>i});var t=o(19510),s=o(45317),n=o.n(s);o(5023);let a=(0,o(68570).createProxy)(String.raw`/Users/test/startups/zenith/src/components/Providers.tsx#Providers`),i={title:"Zenith - Social Media Automation Platform",description:"Generated by create next app"};function l({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:n().className,children:t.jsx(a,{children:e})})})}},5023:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[8948,6058],()=>o(64443));module.exports=t})();