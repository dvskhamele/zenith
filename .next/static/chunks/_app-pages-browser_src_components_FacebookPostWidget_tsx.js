"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_components_FacebookPostWidget_tsx"],{

/***/ "(app-pages-browser)/./src/components/FacebookPostWidget.tsx":
/*!***********************************************!*\
  !*** ./src/components/FacebookPostWidget.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FacebookPostWidget; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_facebookService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/facebookService */ \"(app-pages-browser)/./src/services/facebookService.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction FacebookPostWidget() {\n    _s();\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [posting, setPosting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [result, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const publishToFacebook = async ()=>{\n        if (!content.trim()) {\n            setResult({\n                error: \"Please enter some content to publish\"\n            });\n            return;\n        }\n        setPosting(true);\n        setResult(null);\n        try {\n            console.log(\"Publishing to Facebook...\");\n            // Get token from localStorage\n            const token =  true ? localStorage.getItem(\"facebook_access_token\") : 0;\n            // Publish to Facebook using the service\n            const response = await _services_facebookService__WEBPACK_IMPORTED_MODULE_2__.facebookService.publishPost(content, undefined, token);\n            console.log(\"Published successfully:\", response);\n            setResult({\n                success: \"Post published to Facebook successfully!\"\n            });\n            setContent(\"\");\n        } catch (error) {\n            console.error(\"Error publishing to Facebook:\", error);\n            setResult({\n                error: error.message || \"Failed to publish to Facebook. Please try again.\"\n            });\n        } finally{\n            setPosting(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-slate-800 rounded-xl p-6 border border-slate-700\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"text-lg font-semibold text-white mb-4\",\n                children: \"Post to Facebook\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                lineNumber: 42,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                    value: content,\n                    onChange: (e)=>setContent(e.target.value),\n                    placeholder: \"What's on your mind?\",\n                    className: \"w-full p-3 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                    rows: 4\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                lineNumber: 44,\n                columnNumber: 7\n            }, this),\n            result && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-3 rounded-lg \".concat(result.success ? \"bg-green-500/20 text-green-300\" : \"bg-red-500/20 text-red-300\"),\n                children: result.success || result.error\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                lineNumber: 55,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: publishToFacebook,\n                disabled: posting || !content.trim(),\n                className: \"w-full bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",\n                children: posting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                    className: \"opacity-25\",\n                                    cx: \"12\",\n                                    cy: \"12\",\n                                    r: \"10\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                                    lineNumber: 72,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    className: \"opacity-75\",\n                                    fill: \"currentColor\",\n                                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                                    lineNumber: 73,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                            lineNumber: 71,\n                            columnNumber: 13\n                        }, this),\n                        \"Posting to Facebook...\"\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-4 h-4 mr-2\",\n                            fill: \"currentColor\",\n                            viewBox: \"0 0 24 24\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                                lineNumber: 80,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 13\n                        }, this),\n                        \"Post to Facebook\"\n                    ]\n                }, void 0, true)\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n                lineNumber: 64,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/test/startups/zenith/src/components/FacebookPostWidget.tsx\",\n        lineNumber: 41,\n        columnNumber: 5\n    }, this);\n}\n_s(FacebookPostWidget, \"4eYZ+4U9knB3jVqpbFWjrflM7Y4=\");\n_c = FacebookPostWidget;\nvar _c;\n$RefreshReg$(_c, \"FacebookPostWidget\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZhY2Vib29rUG9zdFdpZGdldC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVpQztBQUM0QjtBQUU5QyxTQUFTRTs7SUFDdEIsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdKLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ0ssU0FBU0MsV0FBVyxHQUFHTiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNPLFFBQVFDLFVBQVUsR0FBR1IsK0NBQVFBLENBQTRDO0lBRWhGLE1BQU1TLG9CQUFvQjtRQUN4QixJQUFJLENBQUNOLFFBQVFPLElBQUksSUFBSTtZQUNuQkYsVUFBVTtnQkFBRUcsT0FBTztZQUF1QztZQUMxRDtRQUNGO1FBRUFMLFdBQVc7UUFDWEUsVUFBVTtRQUVWLElBQUk7WUFDRkksUUFBUUMsR0FBRyxDQUFDO1lBRVosOEJBQThCO1lBQzlCLE1BQU1DLFFBQVEsS0FBa0IsR0FBY0MsYUFBYUMsT0FBTyxDQUFDLDJCQUEyQixDQUFJO1lBRWxHLHdDQUF3QztZQUN4QyxNQUFNQyxXQUFXLE1BQU1oQixzRUFBZUEsQ0FBQ2lCLFdBQVcsQ0FBQ2YsU0FBU2dCLFdBQVdMO1lBRXZFRixRQUFRQyxHQUFHLENBQUMsMkJBQTJCSTtZQUN2Q1QsVUFBVTtnQkFBRVksU0FBUztZQUEyQztZQUNoRWhCLFdBQVc7UUFDYixFQUFFLE9BQU9PLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0NILFVBQVU7Z0JBQUVHLE9BQU9BLE1BQU1VLE9BQU8sSUFBSTtZQUFtRDtRQUN6RixTQUFVO1lBQ1JmLFdBQVc7UUFDYjtJQUNGO0lBRUEscUJBQ0UsOERBQUNnQjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0M7Z0JBQUdELFdBQVU7MEJBQXdDOzs7Ozs7MEJBRXRELDhEQUFDRDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0U7b0JBQ0NDLE9BQU92QjtvQkFDUHdCLFVBQVUsQ0FBQ0MsSUFBTXhCLFdBQVd3QixFQUFFQyxNQUFNLENBQUNILEtBQUs7b0JBQzFDSSxhQUFZO29CQUNaUCxXQUFVO29CQUNWUSxNQUFNOzs7Ozs7Ozs7OztZQUlUeEIsd0JBQ0MsOERBQUNlO2dCQUFJQyxXQUFXLHVCQUlmLE9BSENoQixPQUFPYSxPQUFPLEdBQ1YsbUNBQ0E7MEJBRUhiLE9BQU9hLE9BQU8sSUFBSWIsT0FBT0ksS0FBSzs7Ozs7OzBCQUluQyw4REFBQ3FCO2dCQUNDQyxTQUFTeEI7Z0JBQ1R5QixVQUFVN0IsV0FBVyxDQUFDRixRQUFRTyxJQUFJO2dCQUNsQ2EsV0FBVTswQkFFVGxCLHdCQUNDOztzQ0FDRSw4REFBQzhCOzRCQUFJWixXQUFVOzRCQUE2Q2EsT0FBTTs0QkFBNkJDLE1BQUs7NEJBQU9DLFNBQVE7OzhDQUNqSCw4REFBQ0M7b0NBQU9oQixXQUFVO29DQUFhaUIsSUFBRztvQ0FBS0MsSUFBRztvQ0FBS0MsR0FBRTtvQ0FBS0MsUUFBTztvQ0FBZUMsYUFBWTs7Ozs7OzhDQUN4Riw4REFBQ0M7b0NBQUt0QixXQUFVO29DQUFhYyxNQUFLO29DQUFlUyxHQUFFOzs7Ozs7Ozs7Ozs7d0JBQy9DOztpREFJUjs7c0NBQ0UsOERBQUNYOzRCQUFJWixXQUFVOzRCQUFlYyxNQUFLOzRCQUFlQyxTQUFRO3NDQUN4RCw0RUFBQ087Z0NBQUtDLEdBQUU7Ozs7Ozs7Ozs7O3dCQUNKOzs7Ozs7Ozs7Ozs7OztBQU9sQjtHQWxGd0I1QztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9GYWNlYm9va1Bvc3RXaWRnZXQudHN4PzQzMjIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGZhY2Vib29rU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvZmFjZWJvb2tTZXJ2aWNlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmFjZWJvb2tQb3N0V2lkZ2V0KCkge1xuICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtwb3N0aW5nLCBzZXRQb3N0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Jlc3VsdCwgc2V0UmVzdWx0XSA9IHVzZVN0YXRlPHtzdWNjZXNzPzogc3RyaW5nOyBlcnJvcj86IHN0cmluZ30gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBwdWJsaXNoVG9GYWNlYm9vayA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSB7XG4gICAgICBzZXRSZXN1bHQoeyBlcnJvcjogJ1BsZWFzZSBlbnRlciBzb21lIGNvbnRlbnQgdG8gcHVibGlzaCcgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0UG9zdGluZyh0cnVlKTtcbiAgICBzZXRSZXN1bHQobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1B1Ymxpc2hpbmcgdG8gRmFjZWJvb2suLi4nKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRva2VuIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zdCB0b2tlbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpIDogbnVsbDtcbiAgICAgIFxuICAgICAgLy8gUHVibGlzaCB0byBGYWNlYm9vayB1c2luZyB0aGUgc2VydmljZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmYWNlYm9va1NlcnZpY2UucHVibGlzaFBvc3QoY29udGVudCwgdW5kZWZpbmVkLCB0b2tlbik7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdQdWJsaXNoZWQgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlKTtcbiAgICAgIHNldFJlc3VsdCh7IHN1Y2Nlc3M6ICdQb3N0IHB1Ymxpc2hlZCB0byBGYWNlYm9vayBzdWNjZXNzZnVsbHkhJyB9KTtcbiAgICAgIHNldENvbnRlbnQoJycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwdWJsaXNoaW5nIHRvIEZhY2Vib29rOicsIGVycm9yKTtcbiAgICAgIHNldFJlc3VsdCh7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gcHVibGlzaCB0byBGYWNlYm9vay4gUGxlYXNlIHRyeSBhZ2Fpbi4nIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRQb3N0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCByb3VuZGVkLXhsIHAtNiBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMFwiPlxuICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIG1iLTRcIj5Qb3N0IHRvIEZhY2Vib29rPC9oMz5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIHZhbHVlPXtjb250ZW50fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q29udGVudChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJXaGF0J3Mgb24geW91ciBtaW5kP1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkLWxnIGJnLXNsYXRlLTcwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTYwMCB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLXNsYXRlLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAge3Jlc3VsdCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbWItNCBwLTMgcm91bmRlZC1sZyAke1xuICAgICAgICAgIHJlc3VsdC5zdWNjZXNzIFxuICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAwLzIwIHRleHQtZ3JlZW4tMzAwJyBcbiAgICAgICAgICAgIDogJ2JnLXJlZC01MDAvMjAgdGV4dC1yZWQtMzAwJ1xuICAgICAgICB9YH0+XG4gICAgICAgICAge3Jlc3VsdC5zdWNjZXNzIHx8IHJlc3VsdC5lcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e3B1Ymxpc2hUb0ZhY2Vib29rfVxuICAgICAgICBkaXNhYmxlZD17cG9zdGluZyB8fCAhY29udGVudC50cmltKCl9XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuICAgICAgPlxuICAgICAgICB7cG9zdGluZyA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gLW1sLTEgbXItMiBoLTQgdy00IHRleHQtd2hpdGVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgIDxwYXRoIGNsYXNzTmFtZT1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiPjwvcGF0aD5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUG9zdGluZyB0byBGYWNlYm9vay4uLlxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjQgMTIuMDczYzAtNi42MjctNS4zNzMtMTItMTItMTJzLTEyIDUuMzczLTEyIDEyYzAgNS45OSA0LjM4OCAxMC45NTQgMTAuMTI1IDExLjg1NHYtOC4zODVINy4wNzh2LTMuNDdoMy4wNDdWOS40M2MwLTMuMDA3IDEuNzkyLTQuNjY5IDQuNTMzLTQuNjY5IDEuMzEyIDAgMi42ODYuMjM1IDIuNjg2LjIzNXYyLjk1M0gxNS44M2MtMS40OTEgMC0xLjk1Ni45MjUtMS45NTYgMS44NzR2Mi4yNWgzLjMyOGwtLjUzMiAzLjQ3aC0yLjc5NnY4LjM4NUMxOS42MTIgMjMuMDI3IDI0IDE4LjA2MiAyNCAxMi4wNzN6XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBQb3N0IHRvIEZhY2Vib29rXG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJmYWNlYm9va1NlcnZpY2UiLCJGYWNlYm9va1Bvc3RXaWRnZXQiLCJjb250ZW50Iiwic2V0Q29udGVudCIsInBvc3RpbmciLCJzZXRQb3N0aW5nIiwicmVzdWx0Iiwic2V0UmVzdWx0IiwicHVibGlzaFRvRmFjZWJvb2siLCJ0cmltIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzcG9uc2UiLCJwdWJsaXNoUG9zdCIsInVuZGVmaW5lZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJ0ZXh0YXJlYSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJyb3dzIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FacebookPostWidget.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/services/facebookService.ts":
/*!*****************************************!*\
  !*** ./src/services/facebookService.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   facebookService: function() { return /* binding */ facebookService; },\n/* harmony export */   getFacebookPages: function() { return /* binding */ getFacebookPages; },\n/* harmony export */   getFacebookProfile: function() { return /* binding */ getFacebookProfile; },\n/* harmony export */   getFacebookToken: function() { return /* binding */ getFacebookToken; },\n/* harmony export */   publishToFacebook: function() { return /* binding */ publishToFacebook; },\n/* harmony export */   testFacebookConnection: function() { return /* binding */ testFacebookConnection; }\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./src/lib/supabaseClient.ts\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n// Facebook Integration Service\n// This service provides a unified interface for all Facebook operations\n\nclass FacebookService {\n    // Get Facebook access token from session or localStorage with better error handling\n    async getAccessToken(overrideToken) {\n        try {\n            console.log(\"=== GET ACCESS TOKEN START ===\");\n            // If an override token is provided (e.g., from server-side API), use it\n            if (overrideToken) {\n                console.log(\"Using override token, length:\", overrideToken.length);\n                // Validate the token before returning\n                const validation = await this.validateToken(overrideToken);\n                if (validation.valid) {\n                    console.log(\"Override token validated successfully\");\n                    return overrideToken;\n                } else {\n                    console.log(\"Override token is invalid:\", validation.error);\n                    throw new Error(\"Invalid override token: \".concat(validation.error));\n                }\n            }\n            // Try to get from localStorage first (most reliable for client-side)\n            if (true) {\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (storedToken) {\n                    console.log(\"Token found in localStorage, length:\", storedToken.length);\n                    // Validate token before returning\n                    const validation = await this.validateToken(storedToken);\n                    if (validation.valid) {\n                        console.log(\"Token validated successfully\");\n                        if (validation.permissions) {\n                            console.log(\"Token permissions:\", validation.permissions);\n                        }\n                        return storedToken;\n                    } else {\n                        console.log(\"Stored token is invalid, removing it:\", validation.error);\n                        localStorage.removeItem(\"facebook_access_token\");\n                    }\n                }\n            }\n            // Get the current user's session\n            const { data: { session }, error: sessionError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getSession();\n            if (sessionError) {\n                console.error(\"Session error:\", sessionError);\n            // Don't throw error, try localStorage fallback\n            }\n            if (!session) {\n                console.log(\"No active Supabase session\");\n            } else {\n                console.log(\"Supabase session found\");\n                // Get the provider token (Facebook access token)\n                const facebookAccessToken = session.provider_token;\n                if (facebookAccessToken) {\n                    console.log(\"Token found in Supabase session, length:\", facebookAccessToken.length);\n                    // Validate the token before returning\n                    const validation = await this.validateToken(facebookAccessToken);\n                    if (validation.valid) {\n                        console.log(\"Session token validated successfully\");\n                        return facebookAccessToken;\n                    } else {\n                        console.log(\"Session token is invalid:\", validation.error);\n                    }\n                }\n            }\n            // Last resort: check localStorage again\n            if (true) {\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (storedToken) {\n                    console.log(\"Emergency fallback: Token found in localStorage, length:\", storedToken.length);\n                    return storedToken;\n                }\n            }\n            console.log(\"No Facebook access token found anywhere\");\n            return null;\n        } catch (error) {\n            console.error(\"Error getting Facebook access token:\", error);\n            // Try absolute fallback\n            try {\n                if (true) {\n                    const storedToken = localStorage.getItem(\"facebook_access_token\");\n                    if (storedToken) {\n                        console.log(\"Absolute emergency fallback: Token found in localStorage, length:\", storedToken.length);\n                        return storedToken;\n                    }\n                }\n            } catch (fallbackError) {\n                console.error(\"Absolute fallback failed:\", fallbackError);\n            }\n            return null;\n        }\n    }\n    // Validate Facebook access token with detailed information\n    async validateToken(token) {\n        try {\n            // First, check basic token validity\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email\"));\n            if (!response.ok) {\n                var _errorData_error;\n                const errorData = await response.json();\n                return {\n                    valid: false,\n                    error: ((_errorData_error = errorData.error) === null || _errorData_error === void 0 ? void 0 : _errorData_error.message) || \"Token invalid\"\n                };\n            }\n            // If basic validation passes, check permissions\n            try {\n                // Check what permissions the token has\n                // Note: For debug_token, we need to use the app access token, but for simplicity,\n                // we'll skip this for now and just return valid\n                console.log(\"Token validation passed, skipping detailed permission check for now\");\n            } catch (debugError) {\n                console.log(\"Could not check token permissions:\", debugError);\n            // Still return valid since basic validation passed\n            }\n            return {\n                valid: true\n            };\n        } catch (error) {\n            console.error(\"Error validating Facebook token:\", error);\n            return {\n                valid: false,\n                error: error.message || \"Token validation failed\"\n            };\n        }\n    }\n    // Get user's Facebook pages with enhanced error handling and fallbacks\n    async getPages() {\n        try {\n            console.log(\"=== GET PAGES METHOD START ===\");\n            // Try to get token from session first\n            let token = null;\n            try {\n                token = await this.getAccessToken();\n                console.log(\"Token from getAccessToken():\", token ? \"Found\" : \"Not found\");\n            } catch (sessionError) {\n                console.log(\"Session token retrieval failed:\", sessionError.message);\n            }\n            // Fallback to direct localStorage access\n            if (!token) {\n                console.log(\"Trying direct localStorage access...\");\n                if (true) {\n                    const storedToken = localStorage.getItem(\"facebook_access_token\");\n                    if (storedToken) {\n                        token = storedToken;\n                        console.log(\"Token found directly in localStorage\");\n                    }\n                }\n            }\n            if (!token) {\n                throw new Error(\"No Facebook access token available from session or localStorage\");\n            }\n            console.log(\"Using token for pages request\");\n            // Validate token first\n            const validation = await this.validateToken(token);\n            console.log(\"Token validity check:\", validation);\n            if (!validation.valid) {\n                throw new Error(\"Facebook access token is invalid or expired: \".concat(validation.error));\n            }\n            // Check if token has required permissions\n            if (validation.permissions) {\n                const requiredPermissions = [\n                    \"pages_show_list\",\n                    \"pages_read_engagement\",\n                    \"pages_manage_posts\"\n                ];\n                const missingPermissions = requiredPermissions.filter((perm)=>!validation.permissions.includes(perm));\n                if (missingPermissions.length > 0) {\n                    console.log(\"Warning: Token missing required permissions:\", missingPermissions);\n                } else {\n                    console.log(\"Token has all required permissions\");\n                }\n            }\n            // Get user profile to confirm token works\n            try {\n                const userResponse = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email\"));\n                const userData = await userResponse.json();\n                if (!userResponse.ok) {\n                    var _userData_error;\n                    console.error(\"User profile API error:\", userData);\n                    throw new Error(((_userData_error = userData.error) === null || _userData_error === void 0 ? void 0 : _userData_error.message) || \"Failed to fetch user profile\");\n                }\n                console.log(\"User profile retrieved:\", userData.name);\n            } catch (userError) {\n                console.error(\"Error fetching user profile:\", userError);\n            // Continue anyway as we might still get pages\n            }\n            // Get pages using the token\n            console.log(\"Fetching Facebook pages with token...\");\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me/accounts?access_token=\").concat(token, \"&fields=name,id,category,picture,fan_count\"));\n            const data = await response.json();\n            console.log(\"Pages API response:\", data);\n            if (!response.ok) {\n                var _data_error;\n                console.error(\"Facebook pages API error:\", data);\n                throw new Error(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Failed to fetch Facebook pages\");\n            }\n            // Additional debugging - check if we have an empty data array\n            if (data && data.data && Array.isArray(data.data)) {\n                console.log(\"Pages retrieved successfully:\", data.data.length);\n                if (data.data.length === 0) {\n                    console.log(\"Warning: No pages found. This might be due to:\");\n                    console.log(\"1. User has no Facebook pages\");\n                    console.log(\"2. Token lacks pages_show_list permission\");\n                    console.log(\"3. User account is not a business account with page access\");\n                }\n                return data.data;\n            } else {\n                console.log(\"Unexpected response format:\", data);\n                return [];\n            }\n        } catch (error) {\n            console.error(\"Error fetching Facebook pages:\", error);\n            throw error;\n        }\n    }\n    // Get user's Facebook profile\n    async getProfile() {\n        try {\n            const token = await this.getAccessToken();\n            if (!token) {\n                throw new Error(\"No Facebook access token available\");\n            }\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email,picture\"));\n            const data = await response.json();\n            if (!response.ok) {\n                var _data_error;\n                throw new Error(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Failed to fetch Facebook profile\");\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error fetching Facebook profile:\", error);\n            throw error;\n        }\n    }\n    // Upload image to Facebook\n    async uploadImage(base64Image) {\n        let caption = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\", pageId = arguments.length > 2 ? arguments[2] : void 0, overrideToken = arguments.length > 3 ? arguments[3] : void 0;\n        try {\n            const token = await this.getAccessToken(overrideToken);\n            if (!token) {\n                throw new Error(\"No Facebook access token available. Please reconnect your Facebook account.\");\n            }\n            let accessTokenToUse = token;\n            let url = \"\".concat(this.baseUrl, \"/me/photos\");\n            // If a page ID is provided, get the page access token\n            if (pageId) {\n                console.log(\"Fetching page access token for page ID:\", pageId);\n                const pageTokenResponse = await fetch(\"\".concat(this.baseUrl, \"/\").concat(pageId, \"?fields=access_token&access_token=\").concat(token));\n                const pageTokenData = await pageTokenResponse.json();\n                if (!pageTokenResponse.ok) {\n                    var _pageTokenData_error;\n                    console.error(\"Error fetching page access token:\", pageTokenData);\n                    const errorMessage = ((_pageTokenData_error = pageTokenData.error) === null || _pageTokenData_error === void 0 ? void 0 : _pageTokenData_error.message) || \"Failed to get page access token\";\n                    throw new Error(\"Failed to get page access token: \".concat(errorMessage));\n                }\n                accessTokenToUse = pageTokenData.access_token;\n                url = \"\".concat(this.baseUrl, \"/\").concat(pageId, \"/photos\");\n                console.log(\"Using page access token for image upload\");\n            } else {\n                console.log(\"Using user access token for image upload to personal feed\");\n            }\n            // For Facebook photo upload, we need to send as form data\n            // First, convert base64 to buffer for server-side usage\n            const imageBuffer = Buffer.from(base64Image, \"base64\");\n            const formData = new FormData();\n            formData.append(\"source\", new Blob([\n                imageBuffer\n            ], {\n                type: \"image/png\"\n            }));\n            if (caption) {\n                formData.append(\"caption\", caption);\n            }\n            formData.append(\"access_token\", accessTokenToUse);\n            console.log(\"Uploading image to Facebook:\", {\n                url,\n                hasCaption: !!caption\n            });\n            // Upload to Facebook\n            const response = await fetch(url, {\n                method: \"POST\",\n                body: formData\n            });\n            const responseData = await response.json();\n            if (!response.ok) {\n                let errorMessage = \"Failed to upload image to Facebook\";\n                if (responseData && responseData.error) {\n                    errorMessage = responseData.error.message || responseData.error.type || errorMessage;\n                    // Log additional error details for debugging\n                    console.error(\"Facebook API error details:\", {\n                        type: responseData.error.type,\n                        code: responseData.error.code,\n                        fbtrace_id: responseData.error.fbtrace_id,\n                        message: responseData.error.message\n                    });\n                }\n                throw new Error(\"Facebook API error: \".concat(errorMessage));\n            }\n            console.log(\"Image uploaded to Facebook successfully:\", responseData);\n            return {\n                success: true,\n                data: responseData,\n                facebook_post_id: responseData.post_id\n            };\n        } catch (error) {\n            console.error(\"Error uploading image to Facebook:\", error);\n            // Re-throw with more user-friendly message\n            if (error instanceof Error) {\n                throw new Error(\"Image upload failed: \".concat(error.message));\n            }\n            throw new Error(\"Image upload failed: Unknown error occurred\");\n        }\n    }\n    // Publish post to Facebook (user feed or page)\n    async publishPost(content, pageId, overrideToken) {\n        try {\n            const token = await this.getAccessToken(overrideToken);\n            if (!token) {\n                throw new Error(\"No Facebook access token available. Please reconnect your Facebook account.\");\n            }\n            // Validate the token before attempting to publish\n            const validation = await this.validateToken(token);\n            if (!validation.valid) {\n                throw new Error(\"Facebook access token is invalid: \".concat(validation.error || \"Unknown error\", \". Please reconnect your Facebook account.\"));\n            }\n            let accessTokenToUse = token;\n            let url = \"\".concat(this.baseUrl, \"/me/feed\");\n            // If a page ID is provided, get the page access token\n            if (pageId) {\n                console.log(\"Fetching page access token for page ID:\", pageId);\n                const pageTokenResponse = await fetch(\"\".concat(this.baseUrl, \"/\").concat(pageId, \"?fields=access_token&access_token=\").concat(token));\n                const pageTokenData = await pageTokenResponse.json();\n                if (!pageTokenResponse.ok) {\n                    var _pageTokenData_error;\n                    console.error(\"Error fetching page access token:\", pageTokenData);\n                    const errorMessage = ((_pageTokenData_error = pageTokenData.error) === null || _pageTokenData_error === void 0 ? void 0 : _pageTokenData_error.message) || \"Failed to get page access token\";\n                    throw new Error(\"Failed to get page access token: \".concat(errorMessage));\n                }\n                accessTokenToUse = pageTokenData.access_token;\n                url = \"\".concat(this.baseUrl, \"/\").concat(pageId, \"/feed\");\n                console.log(\"Using page access token for publishing\");\n            } else {\n                console.log(\"Using user access token for publishing to personal feed\");\n            }\n            // Prepare the post data\n            const postData = {\n                message: content,\n                access_token: accessTokenToUse\n            };\n            console.log(\"Publishing to Facebook:\", {\n                url,\n                hasMessage: !!postData.message\n            });\n            // Publish to Facebook\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(postData)\n            });\n            const responseData = await response.json();\n            if (!response.ok) {\n                let errorMessage = \"Failed to publish to Facebook\";\n                if (responseData && responseData.error) {\n                    errorMessage = responseData.error.message || responseData.error.type || errorMessage;\n                    // Log additional error details for debugging\n                    console.error(\"Facebook API error details:\", {\n                        type: responseData.error.type,\n                        code: responseData.error.code,\n                        fbtrace_id: responseData.error.fbtrace_id,\n                        message: responseData.error.message\n                    });\n                }\n                throw new Error(\"Facebook API error: \".concat(errorMessage));\n            }\n            console.log(\"Post published to Facebook successfully:\", responseData);\n            return {\n                success: true,\n                data: responseData,\n                facebook_post_id: responseData.id\n            };\n        } catch (error) {\n            console.error(\"Error publishing to Facebook:\", error);\n            // Re-throw with more user-friendly message\n            if (error instanceof Error) {\n                throw new Error(\"Publish failed: \".concat(error.message));\n            }\n            throw new Error(\"Publish failed: Unknown error occurred\");\n        }\n    }\n    // Test Facebook connection\n    async testConnection() {\n        try {\n            const token = await this.getAccessToken();\n            if (!token) {\n                return {\n                    connected: false\n                };\n            }\n            // Validate token\n            const validation = await this.validateToken(token);\n            if (!validation.valid) {\n                return {\n                    connected: false\n                };\n            }\n            // Get user profile\n            const profile = await this.getProfile();\n            // Get pages\n            const pages = await this.getPages();\n            return {\n                connected: true,\n                user: profile,\n                pages: pages,\n                tokenInfo: validation\n            };\n        } catch (error) {\n            console.error(\"Error testing Facebook connection:\", error);\n            return {\n                connected: false\n            };\n        }\n    }\n    constructor(){\n        this.baseUrl = \"https://graph.facebook.com/v19.0\";\n    }\n}\n// Export singleton instance\nconst facebookService = new FacebookService();\n// Export individual functions for direct use\nconst getFacebookToken = ()=>facebookService.getAccessToken();\nconst getFacebookPages = ()=>facebookService.getPages();\nconst getFacebookProfile = ()=>facebookService.getProfile();\nconst publishToFacebook = (content, pageId)=>facebookService.publishPost(content, pageId);\nconst testFacebookConnection = ()=>facebookService.testConnection();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9mYWNlYm9va1NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7QUFDL0Isd0VBQXdFO0FBRXhCO0FBRWhELE1BQU1DO0lBR0osb0ZBQW9GO0lBQ3BGLE1BQU1DLGVBQWVDLGFBQXNCLEVBQTBCO1FBQ25FLElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDO1lBRVosd0VBQXdFO1lBQ3hFLElBQUlGLGVBQWU7Z0JBQ2pCQyxRQUFRQyxHQUFHLENBQUMsaUNBQWlDRixjQUFjRyxNQUFNO2dCQUNqRSxzQ0FBc0M7Z0JBQ3RDLE1BQU1DLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0w7Z0JBQzVDLElBQUlJLFdBQVdFLEtBQUssRUFBRTtvQkFDcEJMLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPRjtnQkFDVCxPQUFPO29CQUNMQyxRQUFRQyxHQUFHLENBQUMsOEJBQThCRSxXQUFXRyxLQUFLO29CQUMxRCxNQUFNLElBQUlDLE1BQU0sMkJBQTRDLE9BQWpCSixXQUFXRyxLQUFLO2dCQUM3RDtZQUNGO1lBRUEscUVBQXFFO1lBQ3JFLElBQUksSUFBa0IsRUFBYTtnQkFDakMsTUFBTUUsY0FBY0MsYUFBYUMsT0FBTyxDQUFDO2dCQUN6QyxJQUFJRixhQUFhO29CQUNmUixRQUFRQyxHQUFHLENBQUMsd0NBQXdDTyxZQUFZTixNQUFNO29CQUN0RSxrQ0FBa0M7b0JBQ2xDLE1BQU1DLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0k7b0JBQzVDLElBQUlMLFdBQVdFLEtBQUssRUFBRTt3QkFDcEJMLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWixJQUFJRSxXQUFXUSxXQUFXLEVBQUU7NEJBQzFCWCxRQUFRQyxHQUFHLENBQUMsc0JBQXNCRSxXQUFXUSxXQUFXO3dCQUMxRDt3QkFDQSxPQUFPSDtvQkFDVCxPQUFPO3dCQUNMUixRQUFRQyxHQUFHLENBQUMseUNBQXlDRSxXQUFXRyxLQUFLO3dCQUNyRUcsYUFBYUcsVUFBVSxDQUFDO29CQUMxQjtnQkFDRjtZQUNGO1lBRUEsaUNBQWlDO1lBQ2pDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsRUFBRVIsT0FBT1MsWUFBWSxFQUFFLEdBQUcsTUFBTW5CLHlEQUFRQSxDQUFDb0IsSUFBSSxDQUFDQyxVQUFVO1lBRWpGLElBQUlGLGNBQWM7Z0JBQ2hCZixRQUFRTSxLQUFLLENBQUMsa0JBQWtCUztZQUNoQywrQ0FBK0M7WUFDakQ7WUFFQSxJQUFJLENBQUNELFNBQVM7Z0JBQ1pkLFFBQVFDLEdBQUcsQ0FBQztZQUNkLE9BQU87Z0JBQ0xELFFBQVFDLEdBQUcsQ0FBQztnQkFFWixpREFBaUQ7Z0JBQ2pELE1BQU1pQixzQkFBc0JKLFFBQVFLLGNBQWM7Z0JBRWxELElBQUlELHFCQUFxQjtvQkFDdkJsQixRQUFRQyxHQUFHLENBQUMsNENBQTRDaUIsb0JBQW9CaEIsTUFBTTtvQkFDbEYsc0NBQXNDO29CQUN0QyxNQUFNQyxhQUFhLE1BQU0sSUFBSSxDQUFDQyxhQUFhLENBQUNjO29CQUM1QyxJQUFJZixXQUFXRSxLQUFLLEVBQUU7d0JBQ3BCTCxRQUFRQyxHQUFHLENBQUM7d0JBQ1osT0FBT2lCO29CQUNULE9BQU87d0JBQ0xsQixRQUFRQyxHQUFHLENBQUMsNkJBQTZCRSxXQUFXRyxLQUFLO29CQUMzRDtnQkFDRjtZQUNGO1lBRUEsd0NBQXdDO1lBQ3hDLElBQUksSUFBa0IsRUFBYTtnQkFDakMsTUFBTUUsY0FBY0MsYUFBYUMsT0FBTyxDQUFDO2dCQUN6QyxJQUFJRixhQUFhO29CQUNmUixRQUFRQyxHQUFHLENBQUMsNERBQTRETyxZQUFZTixNQUFNO29CQUMxRixPQUFPTTtnQkFDVDtZQUNGO1lBRUFSLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87UUFDVCxFQUFFLE9BQU9LLE9BQU87WUFDZE4sUUFBUU0sS0FBSyxDQUFDLHdDQUF3Q0E7WUFDdEQsd0JBQXdCO1lBQ3hCLElBQUk7Z0JBQ0YsSUFBSSxJQUFrQixFQUFhO29CQUNqQyxNQUFNRSxjQUFjQyxhQUFhQyxPQUFPLENBQUM7b0JBQ3pDLElBQUlGLGFBQWE7d0JBQ2ZSLFFBQVFDLEdBQUcsQ0FBQyxxRUFBcUVPLFlBQVlOLE1BQU07d0JBQ25HLE9BQU9NO29CQUNUO2dCQUNGO1lBQ0YsRUFBRSxPQUFPWSxlQUFlO2dCQUN0QnBCLFFBQVFNLEtBQUssQ0FBQyw2QkFBNkJjO1lBQzdDO1lBQ0EsT0FBTztRQUNUO0lBQ0Y7SUFFQSwyREFBMkQ7SUFDM0QsTUFBTWhCLGNBQWNpQixLQUFhLEVBQXFFO1FBQ3BHLElBQUk7WUFDRixvQ0FBb0M7WUFDcEMsTUFBTUMsV0FBVyxNQUFNQyxNQUNyQixHQUFtQ0YsT0FBaEMsSUFBSSxDQUFDRyxPQUFPLEVBQUMscUJBQXlCLE9BQU5ILE9BQU07WUFHM0MsSUFBSSxDQUFDQyxTQUFTRyxFQUFFLEVBQUU7b0JBSVBDO2dCQUhULE1BQU1BLFlBQVksTUFBTUosU0FBU0ssSUFBSTtnQkFDckMsT0FBTztvQkFDTHRCLE9BQU87b0JBQ1BDLE9BQU9vQixFQUFBQSxtQkFBQUEsVUFBVXBCLEtBQUssY0FBZm9CLHVDQUFBQSxpQkFBaUJFLE9BQU8sS0FBSTtnQkFDckM7WUFDRjtZQUVBLGdEQUFnRDtZQUNoRCxJQUFJO2dCQUNGLHVDQUF1QztnQkFDdkMsa0ZBQWtGO2dCQUNsRixnREFBZ0Q7Z0JBQ2hENUIsUUFBUUMsR0FBRyxDQUFDO1lBQ2QsRUFBRSxPQUFPNEIsWUFBWTtnQkFDbkI3QixRQUFRQyxHQUFHLENBQUMsc0NBQXNDNEI7WUFDbEQsbURBQW1EO1lBQ3JEO1lBRUEsT0FBTztnQkFDTHhCLE9BQU87WUFDVDtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkTixRQUFRTSxLQUFLLENBQUMsb0NBQW9DQTtZQUNsRCxPQUFPO2dCQUNMRCxPQUFPO2dCQUNQQyxPQUFPQSxNQUFNc0IsT0FBTyxJQUFJO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBLHVFQUF1RTtJQUN2RSxNQUFNRSxXQUEyQjtRQUMvQixJQUFJO1lBQ0Y5QixRQUFRQyxHQUFHLENBQUM7WUFFWixzQ0FBc0M7WUFDdEMsSUFBSW9CLFFBQXVCO1lBQzNCLElBQUk7Z0JBQ0ZBLFFBQVEsTUFBTSxJQUFJLENBQUN2QixjQUFjO2dCQUNqQ0UsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ29CLFFBQVEsVUFBVTtZQUNoRSxFQUFFLE9BQU9OLGNBQWM7Z0JBQ3JCZixRQUFRQyxHQUFHLENBQUMsbUNBQW1DYyxhQUFhYSxPQUFPO1lBQ3JFO1lBRUEseUNBQXlDO1lBQ3pDLElBQUksQ0FBQ1AsT0FBTztnQkFDVnJCLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixJQUFJLElBQWtCLEVBQWE7b0JBQ2pDLE1BQU1PLGNBQWNDLGFBQWFDLE9BQU8sQ0FBQztvQkFDekMsSUFBSUYsYUFBYTt3QkFDZmEsUUFBUWI7d0JBQ1JSLFFBQVFDLEdBQUcsQ0FBQztvQkFDZDtnQkFDRjtZQUNGO1lBRUEsSUFBSSxDQUFDb0IsT0FBTztnQkFDVixNQUFNLElBQUlkLE1BQU07WUFDbEI7WUFFQVAsUUFBUUMsR0FBRyxDQUFDO1lBRVosdUJBQXVCO1lBQ3ZCLE1BQU1FLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ2lCO1lBQzVDckIsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QkU7WUFFckMsSUFBSSxDQUFDQSxXQUFXRSxLQUFLLEVBQUU7Z0JBQ3JCLE1BQU0sSUFBSUUsTUFBTSxnREFBaUUsT0FBakJKLFdBQVdHLEtBQUs7WUFDbEY7WUFFQSwwQ0FBMEM7WUFDMUMsSUFBSUgsV0FBV1EsV0FBVyxFQUFFO2dCQUMxQixNQUFNb0Isc0JBQXNCO29CQUFDO29CQUFtQjtvQkFBeUI7aUJBQXFCO2dCQUM5RixNQUFNQyxxQkFBcUJELG9CQUFvQkUsTUFBTSxDQUNuREMsQ0FBQUEsT0FBUSxDQUFDL0IsV0FBV1EsV0FBVyxDQUFDd0IsUUFBUSxDQUFDRDtnQkFHM0MsSUFBSUYsbUJBQW1COUIsTUFBTSxHQUFHLEdBQUc7b0JBQ2pDRixRQUFRQyxHQUFHLENBQUMsZ0RBQWdEK0I7Z0JBQzlELE9BQU87b0JBQ0xoQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ2Q7WUFDRjtZQUVBLDBDQUEwQztZQUMxQyxJQUFJO2dCQUNGLE1BQU1tQyxlQUFlLE1BQU1iLE1BQ3pCLEdBQW1DRixPQUFoQyxJQUFJLENBQUNHLE9BQU8sRUFBQyxxQkFBeUIsT0FBTkgsT0FBTTtnQkFHM0MsTUFBTWdCLFdBQVcsTUFBTUQsYUFBYVQsSUFBSTtnQkFFeEMsSUFBSSxDQUFDUyxhQUFhWCxFQUFFLEVBQUU7d0JBRUpZO29CQURoQnJDLFFBQVFNLEtBQUssQ0FBQywyQkFBMkIrQjtvQkFDekMsTUFBTSxJQUFJOUIsTUFBTThCLEVBQUFBLGtCQUFBQSxTQUFTL0IsS0FBSyxjQUFkK0Isc0NBQUFBLGdCQUFnQlQsT0FBTyxLQUFJO2dCQUM3QztnQkFFQTVCLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJvQyxTQUFTQyxJQUFJO1lBQ3RELEVBQUUsT0FBT0MsV0FBVztnQkFDbEJ2QyxRQUFRTSxLQUFLLENBQUMsZ0NBQWdDaUM7WUFDOUMsOENBQThDO1lBQ2hEO1lBRUEsNEJBQTRCO1lBQzVCdkMsUUFBUUMsR0FBRyxDQUFDO1lBQ1osTUFBTXFCLFdBQVcsTUFBTUMsTUFDckIsR0FBNENGLE9BQXpDLElBQUksQ0FBQ0csT0FBTyxFQUFDLDhCQUFrQyxPQUFOSCxPQUFNO1lBR3BELE1BQU1SLE9BQU8sTUFBTVMsU0FBU0ssSUFBSTtZQUNoQzNCLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJZO1lBRW5DLElBQUksQ0FBQ1MsU0FBU0csRUFBRSxFQUFFO29CQUVBWjtnQkFEaEJiLFFBQVFNLEtBQUssQ0FBQyw2QkFBNkJPO2dCQUMzQyxNQUFNLElBQUlOLE1BQU1NLEVBQUFBLGNBQUFBLEtBQUtQLEtBQUssY0FBVk8sa0NBQUFBLFlBQVllLE9BQU8sS0FBSTtZQUN6QztZQUVBLDhEQUE4RDtZQUM5RCxJQUFJZixRQUFRQSxLQUFLQSxJQUFJLElBQUkyQixNQUFNQyxPQUFPLENBQUM1QixLQUFLQSxJQUFJLEdBQUc7Z0JBQ2pEYixRQUFRQyxHQUFHLENBQUMsaUNBQWlDWSxLQUFLQSxJQUFJLENBQUNYLE1BQU07Z0JBQzdELElBQUlXLEtBQUtBLElBQUksQ0FBQ1gsTUFBTSxLQUFLLEdBQUc7b0JBQzFCRixRQUFRQyxHQUFHLENBQUM7b0JBQ1pELFFBQVFDLEdBQUcsQ0FBQztvQkFDWkQsUUFBUUMsR0FBRyxDQUFDO29CQUNaRCxRQUFRQyxHQUFHLENBQUM7Z0JBQ2Q7Z0JBQ0EsT0FBT1ksS0FBS0EsSUFBSTtZQUNsQixPQUFPO2dCQUNMYixRQUFRQyxHQUFHLENBQUMsK0JBQStCWTtnQkFDM0MsT0FBTyxFQUFFO1lBQ1g7UUFDRixFQUFFLE9BQU9QLE9BQU87WUFDZE4sUUFBUU0sS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsTUFBTUE7UUFDUjtJQUNGO0lBRUEsOEJBQThCO0lBQzlCLE1BQU1vQyxhQUEyQjtRQUMvQixJQUFJO1lBQ0YsTUFBTXJCLFFBQVEsTUFBTSxJQUFJLENBQUN2QixjQUFjO1lBQ3ZDLElBQUksQ0FBQ3VCLE9BQU87Z0JBQ1YsTUFBTSxJQUFJZCxNQUFNO1lBQ2xCO1lBRUEsTUFBTWUsV0FBVyxNQUFNQyxNQUNyQixHQUFtQ0YsT0FBaEMsSUFBSSxDQUFDRyxPQUFPLEVBQUMscUJBQXlCLE9BQU5ILE9BQU07WUFHM0MsTUFBTVIsT0FBTyxNQUFNUyxTQUFTSyxJQUFJO1lBRWhDLElBQUksQ0FBQ0wsU0FBU0csRUFBRSxFQUFFO29CQUNBWjtnQkFBaEIsTUFBTSxJQUFJTixNQUFNTSxFQUFBQSxjQUFBQSxLQUFLUCxLQUFLLGNBQVZPLGtDQUFBQSxZQUFZZSxPQUFPLEtBQUk7WUFDekM7WUFFQSxPQUFPZjtRQUNULEVBQUUsT0FBT1AsT0FBTztZQUNkTixRQUFRTSxLQUFLLENBQUMsb0NBQW9DQTtZQUNsRCxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSwyQkFBMkI7SUFDM0IsTUFBTXFDLFlBQVlDLFdBQW1CLEVBQStFO1lBQTdFQyxVQUFBQSxpRUFBa0IsSUFBSUMsdURBQWlCL0M7UUFDNUUsSUFBSTtZQUNGLE1BQU1zQixRQUFRLE1BQU0sSUFBSSxDQUFDdkIsY0FBYyxDQUFDQztZQUN4QyxJQUFJLENBQUNzQixPQUFPO2dCQUNWLE1BQU0sSUFBSWQsTUFBTTtZQUNsQjtZQUVBLElBQUl3QyxtQkFBbUIxQjtZQUN2QixJQUFJMkIsTUFBTSxHQUFnQixPQUFiLElBQUksQ0FBQ3hCLE9BQU8sRUFBQztZQUUxQixzREFBc0Q7WUFDdEQsSUFBSXNCLFFBQVE7Z0JBQ1Y5QyxRQUFRQyxHQUFHLENBQUMsMkNBQTJDNkM7Z0JBQ3ZELE1BQU1HLG9CQUFvQixNQUFNMUIsTUFDOUIsR0FBbUJ1QixPQUFoQixJQUFJLENBQUN0QixPQUFPLEVBQUMsS0FBOENILE9BQTNDeUIsUUFBTyxzQ0FBMEMsT0FBTnpCO2dCQUdoRSxNQUFNNkIsZ0JBQWdCLE1BQU1ELGtCQUFrQnRCLElBQUk7Z0JBRWxELElBQUksQ0FBQ3NCLGtCQUFrQnhCLEVBQUUsRUFBRTt3QkFFSnlCO29CQURyQmxELFFBQVFNLEtBQUssQ0FBQyxxQ0FBcUM0QztvQkFDbkQsTUFBTUMsZUFBZUQsRUFBQUEsdUJBQUFBLGNBQWM1QyxLQUFLLGNBQW5CNEMsMkNBQUFBLHFCQUFxQnRCLE9BQU8sS0FBSTtvQkFDckQsTUFBTSxJQUFJckIsTUFBTSxvQ0FBaUQsT0FBYjRDO2dCQUN0RDtnQkFFQUosbUJBQW1CRyxjQUFjRSxZQUFZO2dCQUM3Q0osTUFBTSxHQUFtQkYsT0FBaEIsSUFBSSxDQUFDdEIsT0FBTyxFQUFDLEtBQVUsT0FBUHNCLFFBQU87Z0JBQ2hDOUMsUUFBUUMsR0FBRyxDQUFDO1lBQ2QsT0FBTztnQkFDTEQsUUFBUUMsR0FBRyxDQUFDO1lBQ2Q7WUFFQSwwREFBMEQ7WUFDMUQsd0RBQXdEO1lBQ3hELE1BQU1vRCxjQUFjQyxNQUFNQSxDQUFDQyxJQUFJLENBQUNYLGFBQWE7WUFFN0MsTUFBTVksV0FBVyxJQUFJQztZQUNyQkQsU0FBU0UsTUFBTSxDQUFDLFVBQVUsSUFBSUMsS0FBSztnQkFBQ047YUFBWSxFQUFFO2dCQUFFTyxNQUFNO1lBQVk7WUFDdEUsSUFBSWYsU0FBUztnQkFDWFcsU0FBU0UsTUFBTSxDQUFDLFdBQVdiO1lBQzdCO1lBQ0FXLFNBQVNFLE1BQU0sQ0FBQyxnQkFBZ0JYO1lBRWhDL0MsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQztnQkFBRStDO2dCQUFLYSxZQUFZLENBQUMsQ0FBQ2hCO1lBQVE7WUFFekUscUJBQXFCO1lBQ3JCLE1BQU12QixXQUFXLE1BQU1DLE1BQU15QixLQUFLO2dCQUNoQ2MsUUFBUTtnQkFDUkMsTUFBTVA7WUFDUjtZQUVBLE1BQU1RLGVBQWUsTUFBTTFDLFNBQVNLLElBQUk7WUFFeEMsSUFBSSxDQUFDTCxTQUFTRyxFQUFFLEVBQUU7Z0JBQ2hCLElBQUkwQixlQUFlO2dCQUNuQixJQUFJYSxnQkFBZ0JBLGFBQWExRCxLQUFLLEVBQUU7b0JBQ3RDNkMsZUFBZWEsYUFBYTFELEtBQUssQ0FBQ3NCLE9BQU8sSUFBSW9DLGFBQWExRCxLQUFLLENBQUNzRCxJQUFJLElBQUlUO29CQUN4RSw2Q0FBNkM7b0JBQzdDbkQsUUFBUU0sS0FBSyxDQUFDLCtCQUErQjt3QkFDM0NzRCxNQUFNSSxhQUFhMUQsS0FBSyxDQUFDc0QsSUFBSTt3QkFDN0JLLE1BQU1ELGFBQWExRCxLQUFLLENBQUMyRCxJQUFJO3dCQUM3QkMsWUFBWUYsYUFBYTFELEtBQUssQ0FBQzRELFVBQVU7d0JBQ3pDdEMsU0FBU29DLGFBQWExRCxLQUFLLENBQUNzQixPQUFPO29CQUNyQztnQkFDRjtnQkFFQSxNQUFNLElBQUlyQixNQUFNLHVCQUFvQyxPQUFiNEM7WUFDekM7WUFFQW5ELFFBQVFDLEdBQUcsQ0FBQyw0Q0FBNEMrRDtZQUV4RCxPQUFPO2dCQUNMRyxTQUFTO2dCQUNUdEQsTUFBTW1EO2dCQUNOSSxrQkFBa0JKLGFBQWFLLE9BQU87WUFDeEM7UUFDRixFQUFFLE9BQU8vRCxPQUFPO1lBQ2ROLFFBQVFNLEtBQUssQ0FBQyxzQ0FBc0NBO1lBQ3BELDJDQUEyQztZQUMzQyxJQUFJQSxpQkFBaUJDLE9BQU87Z0JBQzFCLE1BQU0sSUFBSUEsTUFBTSx3QkFBc0MsT0FBZEQsTUFBTXNCLE9BQU87WUFDdkQ7WUFDQSxNQUFNLElBQUlyQixNQUFNO1FBQ2xCO0lBQ0Y7SUFFQSwrQ0FBK0M7SUFDL0MsTUFBTStELFlBQVlDLE9BQWUsRUFBRXpCLE1BQWUsRUFBRS9DLGFBQXNCLEVBQWdCO1FBQ3hGLElBQUk7WUFDRixNQUFNc0IsUUFBUSxNQUFNLElBQUksQ0FBQ3ZCLGNBQWMsQ0FBQ0M7WUFDeEMsSUFBSSxDQUFDc0IsT0FBTztnQkFDVixNQUFNLElBQUlkLE1BQU07WUFDbEI7WUFFQSxrREFBa0Q7WUFDbEQsTUFBTUosYUFBYSxNQUFNLElBQUksQ0FBQ0MsYUFBYSxDQUFDaUI7WUFDNUMsSUFBSSxDQUFDbEIsV0FBV0UsS0FBSyxFQUFFO2dCQUNyQixNQUFNLElBQUlFLE1BQU0scUNBQXlFLE9BQXBDSixXQUFXRyxLQUFLLElBQUksaUJBQWdCO1lBQzNGO1lBRUEsSUFBSXlDLG1CQUFtQjFCO1lBQ3ZCLElBQUkyQixNQUFNLEdBQWdCLE9BQWIsSUFBSSxDQUFDeEIsT0FBTyxFQUFDO1lBRTFCLHNEQUFzRDtZQUN0RCxJQUFJc0IsUUFBUTtnQkFDVjlDLFFBQVFDLEdBQUcsQ0FBQywyQ0FBMkM2QztnQkFDdkQsTUFBTUcsb0JBQW9CLE1BQU0xQixNQUM5QixHQUFtQnVCLE9BQWhCLElBQUksQ0FBQ3RCLE9BQU8sRUFBQyxLQUE4Q0gsT0FBM0N5QixRQUFPLHNDQUEwQyxPQUFOekI7Z0JBR2hFLE1BQU02QixnQkFBZ0IsTUFBTUQsa0JBQWtCdEIsSUFBSTtnQkFFbEQsSUFBSSxDQUFDc0Isa0JBQWtCeEIsRUFBRSxFQUFFO3dCQUVKeUI7b0JBRHJCbEQsUUFBUU0sS0FBSyxDQUFDLHFDQUFxQzRDO29CQUNuRCxNQUFNQyxlQUFlRCxFQUFBQSx1QkFBQUEsY0FBYzVDLEtBQUssY0FBbkI0QywyQ0FBQUEscUJBQXFCdEIsT0FBTyxLQUFJO29CQUNyRCxNQUFNLElBQUlyQixNQUFNLG9DQUFpRCxPQUFiNEM7Z0JBQ3REO2dCQUVBSixtQkFBbUJHLGNBQWNFLFlBQVk7Z0JBQzdDSixNQUFNLEdBQW1CRixPQUFoQixJQUFJLENBQUN0QixPQUFPLEVBQUMsS0FBVSxPQUFQc0IsUUFBTztnQkFDaEM5QyxRQUFRQyxHQUFHLENBQUM7WUFDZCxPQUFPO2dCQUNMRCxRQUFRQyxHQUFHLENBQUM7WUFDZDtZQUVBLHdCQUF3QjtZQUN4QixNQUFNdUUsV0FBZ0I7Z0JBQ3BCNUMsU0FBUzJDO2dCQUNUbkIsY0FBY0w7WUFDaEI7WUFFQS9DLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkI7Z0JBQUUrQztnQkFBS3lCLFlBQVksQ0FBQyxDQUFDRCxTQUFTNUMsT0FBTztZQUFDO1lBRTdFLHNCQUFzQjtZQUN0QixNQUFNTixXQUFXLE1BQU1DLE1BQU15QixLQUFLO2dCQUNoQ2MsUUFBUTtnQkFDUlksU0FBUztvQkFDUCxnQkFBZ0I7Z0JBQ2xCO2dCQUNBWCxNQUFNWSxLQUFLQyxTQUFTLENBQUNKO1lBQ3ZCO1lBRUEsTUFBTVIsZUFBZSxNQUFNMUMsU0FBU0ssSUFBSTtZQUV4QyxJQUFJLENBQUNMLFNBQVNHLEVBQUUsRUFBRTtnQkFDaEIsSUFBSTBCLGVBQWU7Z0JBQ25CLElBQUlhLGdCQUFnQkEsYUFBYTFELEtBQUssRUFBRTtvQkFDdEM2QyxlQUFlYSxhQUFhMUQsS0FBSyxDQUFDc0IsT0FBTyxJQUFJb0MsYUFBYTFELEtBQUssQ0FBQ3NELElBQUksSUFBSVQ7b0JBQ3hFLDZDQUE2QztvQkFDN0NuRCxRQUFRTSxLQUFLLENBQUMsK0JBQStCO3dCQUMzQ3NELE1BQU1JLGFBQWExRCxLQUFLLENBQUNzRCxJQUFJO3dCQUM3QkssTUFBTUQsYUFBYTFELEtBQUssQ0FBQzJELElBQUk7d0JBQzdCQyxZQUFZRixhQUFhMUQsS0FBSyxDQUFDNEQsVUFBVTt3QkFDekN0QyxTQUFTb0MsYUFBYTFELEtBQUssQ0FBQ3NCLE9BQU87b0JBQ3JDO2dCQUNGO2dCQUVBLE1BQU0sSUFBSXJCLE1BQU0sdUJBQW9DLE9BQWI0QztZQUN6QztZQUVBbkQsUUFBUUMsR0FBRyxDQUFDLDRDQUE0QytEO1lBRXhELE9BQU87Z0JBQ0xHLFNBQVM7Z0JBQ1R0RCxNQUFNbUQ7Z0JBQ05JLGtCQUFrQkosYUFBYWEsRUFBRTtZQUNuQztRQUNGLEVBQUUsT0FBT3ZFLE9BQU87WUFDZE4sUUFBUU0sS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0MsMkNBQTJDO1lBQzNDLElBQUlBLGlCQUFpQkMsT0FBTztnQkFDMUIsTUFBTSxJQUFJQSxNQUFNLG1CQUFpQyxPQUFkRCxNQUFNc0IsT0FBTztZQUNsRDtZQUNBLE1BQU0sSUFBSXJCLE1BQU07UUFDbEI7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQixNQUFNdUUsaUJBQThGO1FBQ2xHLElBQUk7WUFDRixNQUFNekQsUUFBUSxNQUFNLElBQUksQ0FBQ3ZCLGNBQWM7WUFDdkMsSUFBSSxDQUFDdUIsT0FBTztnQkFDVixPQUFPO29CQUFFMEQsV0FBVztnQkFBTTtZQUM1QjtZQUVBLGlCQUFpQjtZQUNqQixNQUFNNUUsYUFBYSxNQUFNLElBQUksQ0FBQ0MsYUFBYSxDQUFDaUI7WUFDNUMsSUFBSSxDQUFDbEIsV0FBV0UsS0FBSyxFQUFFO2dCQUNyQixPQUFPO29CQUFFMEUsV0FBVztnQkFBTTtZQUM1QjtZQUVBLG1CQUFtQjtZQUNuQixNQUFNQyxVQUFVLE1BQU0sSUFBSSxDQUFDdEMsVUFBVTtZQUVyQyxZQUFZO1lBQ1osTUFBTXVDLFFBQVEsTUFBTSxJQUFJLENBQUNuRCxRQUFRO1lBRWpDLE9BQU87Z0JBQ0xpRCxXQUFXO2dCQUNYRyxNQUFNRjtnQkFDTkMsT0FBT0E7Z0JBQ1BFLFdBQVdoRjtZQUNiO1FBQ0YsRUFBRSxPQUFPRyxPQUFPO1lBQ2ROLFFBQVFNLEtBQUssQ0FBQyxzQ0FBc0NBO1lBQ3BELE9BQU87Z0JBQUV5RSxXQUFXO1lBQU07UUFDNUI7SUFDRjs7YUE5ZFF2RCxVQUFVOztBQStkcEI7QUFFQSw0QkFBNEI7QUFDckIsTUFBTTRELGtCQUFrQixJQUFJdkYsa0JBQWtCO0FBRXJELDZDQUE2QztBQUN0QyxNQUFNd0YsbUJBQW1CLElBQU1ELGdCQUFnQnRGLGNBQWMsR0FBRztBQUNoRSxNQUFNd0YsbUJBQW1CLElBQU1GLGdCQUFnQnRELFFBQVEsR0FBRztBQUMxRCxNQUFNeUQscUJBQXFCLElBQU1ILGdCQUFnQjFDLFVBQVUsR0FBRztBQUM5RCxNQUFNOEMsb0JBQW9CLENBQUNqQixTQUFpQnpCLFNBQ2pEc0MsZ0JBQWdCZCxXQUFXLENBQUNDLFNBQVN6QixRQUFRO0FBQ3hDLE1BQU0yQyx5QkFBeUIsSUFBTUwsZ0JBQWdCTixjQUFjLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NlcnZpY2VzL2ZhY2Vib29rU2VydmljZS50cz9lNDY5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZhY2Vib29rIEludGVncmF0aW9uIFNlcnZpY2Vcbi8vIFRoaXMgc2VydmljZSBwcm92aWRlcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBhbGwgRmFjZWJvb2sgb3BlcmF0aW9uc1xuXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcblxuY2xhc3MgRmFjZWJvb2tTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxOS4wJztcblxuICAvLyBHZXQgRmFjZWJvb2sgYWNjZXNzIHRva2VuIGZyb20gc2Vzc2lvbiBvciBsb2NhbFN0b3JhZ2Ugd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgYXN5bmMgZ2V0QWNjZXNzVG9rZW4ob3ZlcnJpZGVUb2tlbj86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnPT09IEdFVCBBQ0NFU1MgVE9LRU4gU1RBUlQgPT09Jyk7XG4gICAgICBcbiAgICAgIC8vIElmIGFuIG92ZXJyaWRlIHRva2VuIGlzIHByb3ZpZGVkIChlLmcuLCBmcm9tIHNlcnZlci1zaWRlIEFQSSksIHVzZSBpdFxuICAgICAgaWYgKG92ZXJyaWRlVG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG92ZXJyaWRlIHRva2VuLCBsZW5ndGg6Jywgb3ZlcnJpZGVUb2tlbi5sZW5ndGgpO1xuICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIHJldHVybmluZ1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZVRva2VuKG92ZXJyaWRlVG9rZW4pO1xuICAgICAgICBpZiAodmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdPdmVycmlkZSB0b2tlbiB2YWxpZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgcmV0dXJuIG92ZXJyaWRlVG9rZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ092ZXJyaWRlIHRva2VuIGlzIGludmFsaWQ6JywgdmFsaWRhdGlvbi5lcnJvcik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG92ZXJyaWRlIHRva2VuOiAke3ZhbGlkYXRpb24uZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGdldCBmcm9tIGxvY2FsU3RvcmFnZSBmaXJzdCAobW9zdCByZWxpYWJsZSBmb3IgY2xpZW50LXNpZGUpXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UsIGxlbmd0aDonLCBzdG9yZWRUb2tlbi5sZW5ndGgpO1xuICAgICAgICAgIC8vIFZhbGlkYXRlIHRva2VuIGJlZm9yZSByZXR1cm5pbmdcbiAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZVRva2VuKHN0b3JlZFRva2VuKTtcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLnBlcm1pc3Npb25zKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBwZXJtaXNzaW9uczonLCB2YWxpZGF0aW9uLnBlcm1pc3Npb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRUb2tlbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JlZCB0b2tlbiBpcyBpbnZhbGlkLCByZW1vdmluZyBpdDonLCB2YWxpZGF0aW9uLmVycm9yKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmYWNlYm9va19hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHVzZXIncyBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGVycm9yOicsIHNlc3Npb25FcnJvcik7XG4gICAgICAgIC8vIERvbid0IHRocm93IGVycm9yLCB0cnkgbG9jYWxTdG9yYWdlIGZhbGxiYWNrXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYWN0aXZlIFN1cGFiYXNlIHNlc3Npb24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZSBzZXNzaW9uIGZvdW5kJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgdGhlIHByb3ZpZGVyIHRva2VuIChGYWNlYm9vayBhY2Nlc3MgdG9rZW4pXG4gICAgICAgIGNvbnN0IGZhY2Vib29rQWNjZXNzVG9rZW4gPSBzZXNzaW9uLnByb3ZpZGVyX3Rva2VuO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZhY2Vib29rQWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gZm91bmQgaW4gU3VwYWJhc2Ugc2Vzc2lvbiwgbGVuZ3RoOicsIGZhY2Vib29rQWNjZXNzVG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIHJldHVybmluZ1xuICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4oZmFjZWJvb2tBY2Nlc3NUb2tlbik7XG4gICAgICAgICAgaWYgKHZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHJldHVybiBmYWNlYm9va0FjY2Vzc1Rva2VuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiB0b2tlbiBpcyBpbnZhbGlkOicsIHZhbGlkYXRpb24uZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBMYXN0IHJlc29ydDogY2hlY2sgbG9jYWxTdG9yYWdlIGFnYWluXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWVyZ2VuY3kgZmFsbGJhY2s6IFRva2VuIGZvdW5kIGluIGxvY2FsU3RvcmFnZSwgbGVuZ3RoOicsIHN0b3JlZFRva2VuLmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZFRva2VuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdObyBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gZm91bmQgYW55d2hlcmUnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIEZhY2Vib29rIGFjY2VzcyB0b2tlbjonLCBlcnJvcik7XG4gICAgICAvLyBUcnkgYWJzb2x1dGUgZmFsbGJhY2tcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Fic29sdXRlIGVtZXJnZW5jeSBmYWxsYmFjazogVG9rZW4gZm91bmQgaW4gbG9jYWxTdG9yYWdlLCBsZW5ndGg6Jywgc3RvcmVkVG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRUb2tlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQWJzb2x1dGUgZmFsbGJhY2sgZmFpbGVkOicsIGZhbGxiYWNrRXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gVmFsaWRhdGUgRmFjZWJvb2sgYWNjZXNzIHRva2VuIHdpdGggZGV0YWlsZWQgaW5mb3JtYXRpb25cbiAgYXN5bmMgdmFsaWRhdGVUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx7dmFsaWQ6IGJvb2xlYW47IHBlcm1pc3Npb25zPzogc3RyaW5nW107IGVycm9yPzogc3RyaW5nfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCwgY2hlY2sgYmFzaWMgdG9rZW4gdmFsaWRpdHlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke3RoaXMuYmFzZVVybH0vbWU/YWNjZXNzX3Rva2VuPSR7dG9rZW59JmZpZWxkcz1pZCxuYW1lLGVtYWlsYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Rva2VuIGludmFsaWQnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIGJhc2ljIHZhbGlkYXRpb24gcGFzc2VzLCBjaGVjayBwZXJtaXNzaW9uc1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgd2hhdCBwZXJtaXNzaW9ucyB0aGUgdG9rZW4gaGFzXG4gICAgICAgIC8vIE5vdGU6IEZvciBkZWJ1Z190b2tlbiwgd2UgbmVlZCB0byB1c2UgdGhlIGFwcCBhY2Nlc3MgdG9rZW4sIGJ1dCBmb3Igc2ltcGxpY2l0eSxcbiAgICAgICAgLy8gd2UnbGwgc2tpcCB0aGlzIGZvciBub3cgYW5kIGp1c3QgcmV0dXJuIHZhbGlkXG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiB2YWxpZGF0aW9uIHBhc3NlZCwgc2tpcHBpbmcgZGV0YWlsZWQgcGVybWlzc2lvbiBjaGVjayBmb3Igbm93Jyk7XG4gICAgICB9IGNhdGNoIChkZWJ1Z0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgY2hlY2sgdG9rZW4gcGVybWlzc2lvbnM6JywgZGVidWdFcnJvcik7XG4gICAgICAgIC8vIFN0aWxsIHJldHVybiB2YWxpZCBzaW5jZSBiYXNpYyB2YWxpZGF0aW9uIHBhc3NlZFxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBGYWNlYm9vayB0b2tlbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdUb2tlbiB2YWxpZGF0aW9uIGZhaWxlZCdcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHVzZXIncyBGYWNlYm9vayBwYWdlcyB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nIGFuZCBmYWxsYmFja3NcbiAgYXN5bmMgZ2V0UGFnZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnPT09IEdFVCBQQUdFUyBNRVRIT0QgU1RBUlQgPT09Jyk7XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBnZXQgdG9rZW4gZnJvbSBzZXNzaW9uIGZpcnN0XG4gICAgICBsZXQgdG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmcm9tIGdldEFjY2Vzc1Rva2VuKCk6JywgdG9rZW4gPyAnRm91bmQnIDogJ05vdCBmb3VuZCcpO1xuICAgICAgfSBjYXRjaCAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIHJldHJpZXZhbCBmYWlsZWQ6Jywgc2Vzc2lvbkVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBkaXJlY3QgbG9jYWxTdG9yYWdlIGFjY2Vzc1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIGRpcmVjdCBsb2NhbFN0b3JhZ2UgYWNjZXNzLi4uJyk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBzdG9yZWRUb2tlbjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBkaXJlY3RseSBpbiBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUgZnJvbSBzZXNzaW9uIG9yIGxvY2FsU3RvcmFnZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgdG9rZW4gZm9yIHBhZ2VzIHJlcXVlc3QnKTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW4gZmlyc3RcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW4pO1xuICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkaXR5IGNoZWNrOicsIHZhbGlkYXRpb24pO1xuICAgICAgXG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gaXMgaW52YWxpZCBvciBleHBpcmVkOiAke3ZhbGlkYXRpb24uZXJyb3J9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRva2VuIGhhcyByZXF1aXJlZCBwZXJtaXNzaW9uc1xuICAgICAgaWYgKHZhbGlkYXRpb24ucGVybWlzc2lvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRQZXJtaXNzaW9ucyA9IFsncGFnZXNfc2hvd19saXN0JywgJ3BhZ2VzX3JlYWRfZW5nYWdlbWVudCcsICdwYWdlc19tYW5hZ2VfcG9zdHMnXTtcbiAgICAgICAgY29uc3QgbWlzc2luZ1Blcm1pc3Npb25zID0gcmVxdWlyZWRQZXJtaXNzaW9ucy5maWx0ZXIoXG4gICAgICAgICAgcGVybSA9PiAhdmFsaWRhdGlvbi5wZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1pc3NpbmdQZXJtaXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1dhcm5pbmc6IFRva2VuIG1pc3NpbmcgcmVxdWlyZWQgcGVybWlzc2lvbnM6JywgbWlzc2luZ1Blcm1pc3Npb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gaGFzIGFsbCByZXF1aXJlZCBwZXJtaXNzaW9ucycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCB1c2VyIHByb2ZpbGUgdG8gY29uZmlybSB0b2tlbiB3b3Jrc1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9tZT9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPWlkLG5hbWUsZW1haWxgXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IHVzZXJSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXVzZXJSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgcHJvZmlsZSBBUEkgZXJyb3I6JywgdXNlckRhdGEpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcih1c2VyRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHVzZXIgcHJvZmlsZScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlIHJldHJpZXZlZDonLCB1c2VyRGF0YS5uYW1lKTtcbiAgICAgIH0gY2F0Y2ggKHVzZXJFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6JywgdXNlckVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgYW55d2F5IGFzIHdlIG1pZ2h0IHN0aWxsIGdldCBwYWdlc1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgcGFnZXMgdXNpbmcgdGhlIHRva2VuXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgRmFjZWJvb2sgcGFnZXMgd2l0aCB0b2tlbi4uLicpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9tZS9hY2NvdW50cz9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPW5hbWUsaWQsY2F0ZWdvcnkscGljdHVyZSxmYW5fY291bnRgXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIEFQSSByZXNwb25zZTonLCBkYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWNlYm9vayBwYWdlcyBBUEkgZXJyb3I6JywgZGF0YSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggRmFjZWJvb2sgcGFnZXMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkaXRpb25hbCBkZWJ1Z2dpbmcgLSBjaGVjayBpZiB3ZSBoYXZlIGFuIGVtcHR5IGRhdGEgYXJyYXlcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGEuZGF0YSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIHJldHJpZXZlZCBzdWNjZXNzZnVsbHk6JywgZGF0YS5kYXRhLmxlbmd0aCk7XG4gICAgICAgIGlmIChkYXRhLmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1dhcm5pbmc6IE5vIHBhZ2VzIGZvdW5kLiBUaGlzIG1pZ2h0IGJlIGR1ZSB0bzonKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMS4gVXNlciBoYXMgbm8gRmFjZWJvb2sgcGFnZXMnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMi4gVG9rZW4gbGFja3MgcGFnZXNfc2hvd19saXN0IHBlcm1pc3Npb24nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMy4gVXNlciBhY2NvdW50IGlzIG5vdCBhIGJ1c2luZXNzIGFjY291bnQgd2l0aCBwYWdlIGFjY2VzcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhLmRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5leHBlY3RlZCByZXNwb25zZSBmb3JtYXQ6JywgZGF0YSk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgRmFjZWJvb2sgcGFnZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHVzZXIncyBGYWNlYm9vayBwcm9maWxlXG4gIGFzeW5jIGdldFByb2ZpbGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gRmFjZWJvb2sgYWNjZXNzIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHt0aGlzLmJhc2VVcmx9L21lP2FjY2Vzc190b2tlbj0ke3Rva2VufSZmaWVsZHM9aWQsbmFtZSxlbWFpbCxwaWN0dXJlYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIEZhY2Vib29rIHByb2ZpbGUnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEZhY2Vib29rIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBsb2FkIGltYWdlIHRvIEZhY2Vib29rXG4gIGFzeW5jIHVwbG9hZEltYWdlKGJhc2U2NEltYWdlOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZyA9ICcnLCBwYWdlSWQ/OiBzdHJpbmcsIG92ZXJyaWRlVG9rZW4/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4ob3ZlcnJpZGVUb2tlbik7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gRmFjZWJvb2sgYWNjZXNzIHRva2VuIGF2YWlsYWJsZS4gUGxlYXNlIHJlY29ubmVjdCB5b3VyIEZhY2Vib29rIGFjY291bnQuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCBhY2Nlc3NUb2tlblRvVXNlID0gdG9rZW47XG4gICAgICBsZXQgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9tZS9waG90b3NgO1xuICAgICAgXG4gICAgICAvLyBJZiBhIHBhZ2UgSUQgaXMgcHJvdmlkZWQsIGdldCB0aGUgcGFnZSBhY2Nlc3MgdG9rZW5cbiAgICAgIGlmIChwYWdlSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBwYWdlIElEOicsIHBhZ2VJZCk7XG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlblJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS8ke3BhZ2VJZH0/ZmllbGRzPWFjY2Vzc190b2tlbiZhY2Nlc3NfdG9rZW49JHt0b2tlbn1gXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwYWdlVG9rZW5EYXRhID0gYXdhaXQgcGFnZVRva2VuUmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFwYWdlVG9rZW5SZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBhZ2UgYWNjZXNzIHRva2VuOicsIHBhZ2VUb2tlbkRhdGEpO1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHBhZ2VUb2tlbkRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgcGFnZSBhY2Nlc3MgdG9rZW4nO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBwYWdlIGFjY2VzcyB0b2tlbjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFjY2Vzc1Rva2VuVG9Vc2UgPSBwYWdlVG9rZW5EYXRhLmFjY2Vzc190b2tlbjtcbiAgICAgICAgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS8ke3BhZ2VJZH0vcGhvdG9zYDtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBpbWFnZSB1cGxvYWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyB1c2VyIGFjY2VzcyB0b2tlbiBmb3IgaW1hZ2UgdXBsb2FkIHRvIHBlcnNvbmFsIGZlZWQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRm9yIEZhY2Vib29rIHBob3RvIHVwbG9hZCwgd2UgbmVlZCB0byBzZW5kIGFzIGZvcm0gZGF0YVxuICAgICAgLy8gRmlyc3QsIGNvbnZlcnQgYmFzZTY0IHRvIGJ1ZmZlciBmb3Igc2VydmVyLXNpZGUgdXNhZ2VcbiAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oYmFzZTY0SW1hZ2UsICdiYXNlNjQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc291cmNlJywgbmV3IEJsb2IoW2ltYWdlQnVmZmVyXSwgeyB0eXBlOiAnaW1hZ2UvcG5nJyB9KSk7XG4gICAgICBpZiAoY2FwdGlvbikge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NhcHRpb24nLCBjYXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYWNjZXNzX3Rva2VuJywgYWNjZXNzVG9rZW5Ub1VzZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRpbmcgaW1hZ2UgdG8gRmFjZWJvb2s6JywgeyB1cmwsIGhhc0NhcHRpb246ICEhY2FwdGlvbiB9KTtcbiAgICAgIFxuICAgICAgLy8gVXBsb2FkIHRvIEZhY2Vib29rXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGFcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gdXBsb2FkIGltYWdlIHRvIEZhY2Vib29rJztcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZSB8fCByZXNwb25zZURhdGEuZXJyb3IudHlwZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgLy8gTG9nIGFkZGl0aW9uYWwgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFjZWJvb2sgQVBJIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VEYXRhLmVycm9yLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIGZidHJhY2VfaWQ6IHJlc3BvbnNlRGF0YS5lcnJvci5mYnRyYWNlX2lkLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnSW1hZ2UgdXBsb2FkZWQgdG8gRmFjZWJvb2sgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgZmFjZWJvb2tfcG9zdF9pZDogcmVzcG9uc2VEYXRhLnBvc3RfaWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZSB0byBGYWNlYm9vazonLCBlcnJvcik7XG4gICAgICAvLyBSZS10aHJvdyB3aXRoIG1vcmUgdXNlci1mcmllbmRseSBtZXNzYWdlXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEltYWdlIHVwbG9hZCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignSW1hZ2UgdXBsb2FkIGZhaWxlZDogVW5rbm93biBlcnJvciBvY2N1cnJlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFB1Ymxpc2ggcG9zdCB0byBGYWNlYm9vayAodXNlciBmZWVkIG9yIHBhZ2UpXG4gIGFzeW5jIHB1Ymxpc2hQb3N0KGNvbnRlbnQ6IHN0cmluZywgcGFnZUlkPzogc3RyaW5nLCBvdmVycmlkZVRva2VuPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKG92ZXJyaWRlVG9rZW4pO1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUuIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIGF0dGVtcHRpbmcgdG8gcHVibGlzaFxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGVUb2tlbih0b2tlbik7XG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gaXMgaW52YWxpZDogJHt2YWxpZGF0aW9uLmVycm9yIHx8ICdVbmtub3duIGVycm9yJ30uIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgYWNjZXNzVG9rZW5Ub1VzZSA9IHRva2VuO1xuICAgICAgbGV0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbWUvZmVlZGA7XG4gICAgICBcbiAgICAgIC8vIElmIGEgcGFnZSBJRCBpcyBwcm92aWRlZCwgZ2V0IHRoZSBwYWdlIGFjY2VzcyB0b2tlblxuICAgICAgaWYgKHBhZ2VJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcGFnZSBhY2Nlc3MgdG9rZW4gZm9yIHBhZ2UgSUQ6JywgcGFnZUlkKTtcbiAgICAgICAgY29uc3QgcGFnZVRva2VuUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHt0aGlzLmJhc2VVcmx9LyR7cGFnZUlkfT9maWVsZHM9YWNjZXNzX3Rva2VuJmFjY2Vzc190b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlbkRhdGEgPSBhd2FpdCBwYWdlVG9rZW5SZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBhZ2VUb2tlblJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGFnZSBhY2Nlc3MgdG9rZW46JywgcGFnZVRva2VuRGF0YSk7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcGFnZVRva2VuRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGdldCBwYWdlIGFjY2VzcyB0b2tlbic7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHBhZ2UgYWNjZXNzIHRva2VuOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYWNjZXNzVG9rZW5Ub1VzZSA9IHBhZ2VUb2tlbkRhdGEuYWNjZXNzX3Rva2VuO1xuICAgICAgICB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9LyR7cGFnZUlkfS9mZWVkYDtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBwdWJsaXNoaW5nJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgdXNlciBhY2Nlc3MgdG9rZW4gZm9yIHB1Ymxpc2hpbmcgdG8gcGVyc29uYWwgZmVlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIHRoZSBwb3N0IGRhdGFcbiAgICAgIGNvbnN0IHBvc3REYXRhOiBhbnkgPSB7XG4gICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXG4gICAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW5Ub1VzZVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1B1Ymxpc2hpbmcgdG8gRmFjZWJvb2s6JywgeyB1cmwsIGhhc01lc3NhZ2U6ICEhcG9zdERhdGEubWVzc2FnZSB9KTtcbiAgICAgIFxuICAgICAgLy8gUHVibGlzaCB0byBGYWNlYm9va1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBvc3REYXRhKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBwdWJsaXNoIHRvIEZhY2Vib29rJztcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZSB8fCByZXNwb25zZURhdGEuZXJyb3IudHlwZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgLy8gTG9nIGFkZGl0aW9uYWwgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFjZWJvb2sgQVBJIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VEYXRhLmVycm9yLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIGZidHJhY2VfaWQ6IHJlc3BvbnNlRGF0YS5lcnJvci5mYnRyYWNlX2lkLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUG9zdCBwdWJsaXNoZWQgdG8gRmFjZWJvb2sgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgZmFjZWJvb2tfcG9zdF9pZDogcmVzcG9uc2VEYXRhLmlkXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwdWJsaXNoaW5nIHRvIEZhY2Vib29rOicsIGVycm9yKTtcbiAgICAgIC8vIFJlLXRocm93IHdpdGggbW9yZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUHVibGlzaCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignUHVibGlzaCBmYWlsZWQ6IFVua25vd24gZXJyb3Igb2NjdXJyZWQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBUZXN0IEZhY2Vib29rIGNvbm5lY3Rpb25cbiAgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx7IGNvbm5lY3RlZDogYm9vbGVhbjsgdXNlcj86IGFueTsgcGFnZXM/OiBhbnlbXTsgdG9rZW5JbmZvPzogYW55IH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW4pO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHVzZXIgcHJvZmlsZVxuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0UHJvZmlsZSgpO1xuICAgICAgXG4gICAgICAvLyBHZXQgcGFnZXNcbiAgICAgIGNvbnN0IHBhZ2VzID0gYXdhaXQgdGhpcy5nZXRQYWdlcygpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIHVzZXI6IHByb2ZpbGUsXG4gICAgICAgIHBhZ2VzOiBwYWdlcyxcbiAgICAgICAgdG9rZW5JbmZvOiB2YWxpZGF0aW9uXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0ZXN0aW5nIEZhY2Vib29rIGNvbm5lY3Rpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiBmYWxzZSB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgZmFjZWJvb2tTZXJ2aWNlID0gbmV3IEZhY2Vib29rU2VydmljZSgpO1xuXG4vLyBFeHBvcnQgaW5kaXZpZHVhbCBmdW5jdGlvbnMgZm9yIGRpcmVjdCB1c2VcbmV4cG9ydCBjb25zdCBnZXRGYWNlYm9va1Rva2VuID0gKCkgPT4gZmFjZWJvb2tTZXJ2aWNlLmdldEFjY2Vzc1Rva2VuKCk7XG5leHBvcnQgY29uc3QgZ2V0RmFjZWJvb2tQYWdlcyA9ICgpID0+IGZhY2Vib29rU2VydmljZS5nZXRQYWdlcygpO1xuZXhwb3J0IGNvbnN0IGdldEZhY2Vib29rUHJvZmlsZSA9ICgpID0+IGZhY2Vib29rU2VydmljZS5nZXRQcm9maWxlKCk7XG5leHBvcnQgY29uc3QgcHVibGlzaFRvRmFjZWJvb2sgPSAoY29udGVudDogc3RyaW5nLCBwYWdlSWQ/OiBzdHJpbmcpID0+IFxuICBmYWNlYm9va1NlcnZpY2UucHVibGlzaFBvc3QoY29udGVudCwgcGFnZUlkKTtcbmV4cG9ydCBjb25zdCB0ZXN0RmFjZWJvb2tDb25uZWN0aW9uID0gKCkgPT4gZmFjZWJvb2tTZXJ2aWNlLnRlc3RDb25uZWN0aW9uKCk7Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwiRmFjZWJvb2tTZXJ2aWNlIiwiZ2V0QWNjZXNzVG9rZW4iLCJvdmVycmlkZVRva2VuIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZVRva2VuIiwidmFsaWQiLCJlcnJvciIsIkVycm9yIiwic3RvcmVkVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGVybWlzc2lvbnMiLCJyZW1vdmVJdGVtIiwiZGF0YSIsInNlc3Npb24iLCJzZXNzaW9uRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImZhY2Vib29rQWNjZXNzVG9rZW4iLCJwcm92aWRlcl90b2tlbiIsImZhbGxiYWNrRXJyb3IiLCJ0b2tlbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJiYXNlVXJsIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwibWVzc2FnZSIsImRlYnVnRXJyb3IiLCJnZXRQYWdlcyIsInJlcXVpcmVkUGVybWlzc2lvbnMiLCJtaXNzaW5nUGVybWlzc2lvbnMiLCJmaWx0ZXIiLCJwZXJtIiwiaW5jbHVkZXMiLCJ1c2VyUmVzcG9uc2UiLCJ1c2VyRGF0YSIsIm5hbWUiLCJ1c2VyRXJyb3IiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRQcm9maWxlIiwidXBsb2FkSW1hZ2UiLCJiYXNlNjRJbWFnZSIsImNhcHRpb24iLCJwYWdlSWQiLCJhY2Nlc3NUb2tlblRvVXNlIiwidXJsIiwicGFnZVRva2VuUmVzcG9uc2UiLCJwYWdlVG9rZW5EYXRhIiwiZXJyb3JNZXNzYWdlIiwiYWNjZXNzX3Rva2VuIiwiaW1hZ2VCdWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIkJsb2IiLCJ0eXBlIiwiaGFzQ2FwdGlvbiIsIm1ldGhvZCIsImJvZHkiLCJyZXNwb25zZURhdGEiLCJjb2RlIiwiZmJ0cmFjZV9pZCIsInN1Y2Nlc3MiLCJmYWNlYm9va19wb3N0X2lkIiwicG9zdF9pZCIsInB1Ymxpc2hQb3N0IiwiY29udGVudCIsInBvc3REYXRhIiwiaGFzTWVzc2FnZSIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJ0ZXN0Q29ubmVjdGlvbiIsImNvbm5lY3RlZCIsInByb2ZpbGUiLCJwYWdlcyIsInVzZXIiLCJ0b2tlbkluZm8iLCJmYWNlYm9va1NlcnZpY2UiLCJnZXRGYWNlYm9va1Rva2VuIiwiZ2V0RmFjZWJvb2tQYWdlcyIsImdldEZhY2Vib29rUHJvZmlsZSIsInB1Ymxpc2hUb0ZhY2Vib29rIiwidGVzdEZhY2Vib29rQ29ubmVjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/facebookService.ts\n"));

/***/ })

}]);