"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_components_FacebookPagesManagement_tsx"],{

/***/ "(app-pages-browser)/./src/components/FacebookPagesDebug.tsx":
/*!***********************************************!*\
  !*** ./src/components/FacebookPagesDebug.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FacebookPagesDebug; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// Facebook Pages Debug Component\n// This component helps diagnose Facebook pages loading issues\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction FacebookPagesDebug() {\n    _s();\n    const [debugInfo, setDebugInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        token: null,\n        tokenValid: null,\n        userProfile: null,\n        pages: null,\n        error: null,\n        loading: false\n    });\n    const testFacebookToken = async ()=>{\n        setDebugInfo((prev)=>({\n                ...prev,\n                loading: true,\n                error: null\n            }));\n        try {\n            // Get token from localStorage\n            const token = localStorage.getItem(\"facebook_access_token\");\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    token\n                }));\n            if (!token) {\n                setDebugInfo((prev)=>({\n                        ...prev,\n                        error: \"No Facebook token found\",\n                        loading: false\n                    }));\n                return;\n            }\n            // Test token validity\n            console.log(\"Testing token validity...\");\n            const userResponse = await fetch(\"https://graph.facebook.com/v19.0/me?access_token=\".concat(token, \"&fields=id,name,email\"));\n            const userData = await userResponse.json();\n            console.log(\"User data response:\", userData);\n            if (!userResponse.ok) {\n                setDebugInfo((prev)=>{\n                    var _userData_error;\n                    return {\n                        ...prev,\n                        tokenValid: false,\n                        error: ((_userData_error = userData.error) === null || _userData_error === void 0 ? void 0 : _userData_error.message) || \"Invalid token\",\n                        loading: false\n                    };\n                });\n                return;\n            }\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    tokenValid: true,\n                    userProfile: userData\n                }));\n            // Test pages fetch\n            console.log(\"Fetching Facebook pages...\");\n            const pagesResponse = await fetch(\"https://graph.facebook.com/v19.0/me/accounts?access_token=\".concat(token, \"&fields=name,id,category,picture,fan_count\"));\n            const pagesData = await pagesResponse.json();\n            console.log(\"Pages data response:\", pagesData);\n            if (!pagesResponse.ok) {\n                setDebugInfo((prev)=>{\n                    var _pagesData_error;\n                    return {\n                        ...prev,\n                        error: ((_pagesData_error = pagesData.error) === null || _pagesData_error === void 0 ? void 0 : _pagesData_error.message) || \"Failed to fetch pages\",\n                        loading: false\n                    };\n                });\n                return;\n            }\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    pages: pagesData.data || [],\n                    loading: false\n                }));\n        } catch (error) {\n            console.error(\"Debug error:\", error);\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    error: error.message,\n                    loading: false\n                }));\n        }\n    };\n    const clearFacebookTokens = ()=>{\n        localStorage.removeItem(\"facebook_access_token\");\n        localStorage.removeItem(\"facebook_auth_completed\");\n        setDebugInfo({\n            token: null,\n            tokenValid: null,\n            userProfile: null,\n            pages: null,\n            error: null,\n            loading: false\n        });\n    };\n    const reauthenticateWithFacebook = ()=>{\n        const redirectUrl = \"\".concat(window.location.origin, \"/auth/callback\");\n        window.location.href = \"https://qfpvsyhtijwxkmyrqswa.supabase.co/auth/v1/authorize?provider=facebook&redirect_to=\".concat(redirectUrl, \"&scopes=pages_show_list,pages_read_engagement,pages_manage_posts,pages_manage_metadata,pages_read_user_content\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-2xl font-bold text-white mb-6\",\n                children: \"Facebook Pages Debug\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                lineNumber: 89,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: testFacebookToken,\n                                disabled: debugInfo.loading,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg disabled:opacity-50\",\n                                children: debugInfo.loading ? \"Testing...\" : \"Test Facebook Connection\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 94,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearFacebookTokens,\n                                className: \"bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 rounded-lg\",\n                                children: \"Clear Tokens\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: reauthenticateWithFacebook,\n                                className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg\",\n                                children: \"Re-authenticate\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"Token Status\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Token Present: \",\n                                            debugInfo.token ? \"Yes\" : \"No\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Token Valid: \",\n                                            debugInfo.tokenValid === null ? \"Unknown\" : debugInfo.tokenValid ? \"Yes\" : \"No\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 122,\n                                        columnNumber: 13\n                                    }, this),\n                                    debugInfo.token && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Token Preview: \",\n                                            debugInfo.token.substring(0, 30),\n                                            \"...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 124,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 9\n                    }, this),\n                    debugInfo.userProfile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"User Profile\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 132,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Name: \",\n                                            debugInfo.userProfile.name\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"ID: \",\n                                            debugInfo.userProfile.id\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 135,\n                                        columnNumber: 15\n                                    }, this),\n                                    debugInfo.userProfile.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Email: \",\n                                            debugInfo.userProfile.email\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 131,\n                        columnNumber: 11\n                    }, this),\n                    debugInfo.pages !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"Pages Status\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 146,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Pages Found: \",\n                                            debugInfo.pages.length\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 15\n                                    }, this),\n                                    debugInfo.pages.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-slate-400 mb-1\",\n                                                children: \"Pages List:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 151,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                className: \"list-disc list-inside text-slate-400\",\n                                                children: debugInfo.pages.map((page, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: [\n                                                            page.name,\n                                                            \" (\",\n                                                            page.category,\n                                                            \")\"\n                                                        ]\n                                                    }, index, true, {\n                                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                        lineNumber: 154,\n                                                        columnNumber: 23\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 150,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-yellow-400\",\n                                                children: \"⚠ No Facebook pages found\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 160,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-slate-400 text-sm mt-1\",\n                                                children: \"This could mean you don't have any Facebook pages connected to your account.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 161,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 159,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 147,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 145,\n                        columnNumber: 11\n                    }, this),\n                    debugInfo.error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-500/20 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-red-300 mb-2\",\n                                children: \"Error\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-red-300 text-sm\",\n                                children: debugInfo.error\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 174,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"Troubleshooting Guide\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 180,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-slate-400 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If no pages found: Create a Facebook Page or use business account\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 182,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If token invalid: Re-authenticate with Facebook\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 183,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If permissions denied: Grant all requested scopes\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 184,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If persistent issues: Check Facebook Developer Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 185,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                lineNumber: 91,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, this);\n}\n_s(FacebookPagesDebug, \"y5WZarhvX6Mz63evWDeqPVA0vVw=\");\n_c = FacebookPagesDebug;\nvar _c;\n$RefreshReg$(_c, \"FacebookPagesDebug\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZhY2Vib29rUGFnZXNEZWJ1Zy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGlDQUFpQztBQUNqQyw4REFBOEQ7OztBQUlsQjtBQUU3QixTQUFTQzs7SUFDdEIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdILCtDQUFRQSxDQUFDO1FBQ3pDSSxPQUFPO1FBQ1BDLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsU0FBUztJQUNYO0lBRUEsTUFBTUMsb0JBQW9CO1FBQ3hCUCxhQUFhUSxDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7Z0JBQUVGLFNBQVM7Z0JBQU1ELE9BQU87WUFBSztRQUU1RCxJQUFJO1lBQ0YsOEJBQThCO1lBQzlCLE1BQU1KLFFBQVFRLGFBQWFDLE9BQU8sQ0FBQztZQUNuQ1YsYUFBYVEsQ0FBQUEsT0FBUztvQkFBRSxHQUFHQSxJQUFJO29CQUFFUDtnQkFBTTtZQUV2QyxJQUFJLENBQUNBLE9BQU87Z0JBQ1ZELGFBQWFRLENBQUFBLE9BQVM7d0JBQUUsR0FBR0EsSUFBSTt3QkFBRUgsT0FBTzt3QkFBMkJDLFNBQVM7b0JBQU07Z0JBQ2xGO1lBQ0Y7WUFFQSxzQkFBc0I7WUFDdEJLLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU1DLGVBQWUsTUFBTUMsTUFDekIsb0RBQTBELE9BQU5iLE9BQU07WUFHNUQsTUFBTWMsV0FBVyxNQUFNRixhQUFhRyxJQUFJO1lBQ3hDTCxRQUFRQyxHQUFHLENBQUMsdUJBQXVCRztZQUVuQyxJQUFJLENBQUNGLGFBQWFJLEVBQUUsRUFBRTtnQkFDcEJqQixhQUFhUSxDQUFBQTt3QkFBOENPOzJCQUFyQzt3QkFBRSxHQUFHUCxJQUFJO3dCQUFFTixZQUFZO3dCQUFPRyxPQUFPVSxFQUFBQSxrQkFBQUEsU0FBU1YsS0FBSyxjQUFkVSxzQ0FBQUEsZ0JBQWdCRyxPQUFPLEtBQUk7d0JBQWlCWixTQUFTO29CQUFN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QXdCaEMsVUFBVU0sS0FBSzs7Ozs7Ozs7Ozs7O2tDQUt4RCw4REFBQ3lCO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0s7Z0NBQUdMLFdBQVU7MENBQWdDOzs7Ozs7MENBQzlDLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNNO2tEQUFFOzs7Ozs7a0RBQ0gsOERBQUNBO2tEQUFFOzs7Ozs7a0RBQ0gsOERBQUNBO2tEQUFFOzs7Ozs7a0RBQ0gsOERBQUNBO2tEQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNZjtHQXZMd0J2QztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9GYWNlYm9va1BhZ2VzRGVidWcudHN4PzkxZjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmFjZWJvb2sgUGFnZXMgRGVidWcgQ29tcG9uZW50XG4vLyBUaGlzIGNvbXBvbmVudCBoZWxwcyBkaWFnbm9zZSBGYWNlYm9vayBwYWdlcyBsb2FkaW5nIGlzc3Vlc1xuXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhY2Vib29rUGFnZXNEZWJ1ZygpIHtcbiAgY29uc3QgW2RlYnVnSW5mbywgc2V0RGVidWdJbmZvXSA9IHVzZVN0YXRlKHtcbiAgICB0b2tlbjogbnVsbCxcbiAgICB0b2tlblZhbGlkOiBudWxsLFxuICAgIHVzZXJQcm9maWxlOiBudWxsLFxuICAgIHBhZ2VzOiBudWxsLFxuICAgIGVycm9yOiBudWxsLFxuICAgIGxvYWRpbmc6IGZhbHNlXG4gIH0pO1xuXG4gIGNvbnN0IHRlc3RGYWNlYm9va1Rva2VuID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHRva2VuIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYWNlYm9va19hY2Nlc3NfdG9rZW4nKTtcbiAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIHRva2VuIH0pKTtcbiAgICAgIFxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogJ05vIEZhY2Vib29rIHRva2VuIGZvdW5kJywgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFRlc3QgdG9rZW4gdmFsaWRpdHlcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0aW5nIHRva2VuIHZhbGlkaXR5Li4uJyk7XG4gICAgICBjb25zdCB1c2VyUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxOS4wL21lP2FjY2Vzc190b2tlbj0ke3Rva2VufSZmaWVsZHM9aWQsbmFtZSxlbWFpbGBcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgdXNlclJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGRhdGEgcmVzcG9uc2U6JywgdXNlckRhdGEpO1xuICAgICAgXG4gICAgICBpZiAoIXVzZXJSZXNwb25zZS5vaykge1xuICAgICAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiAoeyAuLi5wcmV2LCB0b2tlblZhbGlkOiBmYWxzZSwgZXJyb3I6IHVzZXJEYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdJbnZhbGlkIHRva2VuJywgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIHRva2VuVmFsaWQ6IHRydWUsIHVzZXJQcm9maWxlOiB1c2VyRGF0YSB9KSk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgcGFnZXMgZmV0Y2hcbiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBGYWNlYm9vayBwYWdlcy4uLicpO1xuICAgICAgY29uc3QgcGFnZXNSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE5LjAvbWUvYWNjb3VudHM/YWNjZXNzX3Rva2VuPSR7dG9rZW59JmZpZWxkcz1uYW1lLGlkLGNhdGVnb3J5LHBpY3R1cmUsZmFuX2NvdW50YFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGFnZXNEYXRhID0gYXdhaXQgcGFnZXNSZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnUGFnZXMgZGF0YSByZXNwb25zZTonLCBwYWdlc0RhdGEpO1xuICAgICAgXG4gICAgICBpZiAoIXBhZ2VzUmVzcG9uc2Uub2spIHtcbiAgICAgICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IHBhZ2VzRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHBhZ2VzJywgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIHBhZ2VzOiBwYWdlc0RhdGEuZGF0YSB8fCBbXSwgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RlYnVnIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiBlcnJvci5tZXNzYWdlLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNsZWFyRmFjZWJvb2tUb2tlbnMgPSAoKSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmYWNlYm9va19hdXRoX2NvbXBsZXRlZCcpO1xuICAgIHNldERlYnVnSW5mbyh7XG4gICAgICB0b2tlbjogbnVsbCxcbiAgICAgIHRva2VuVmFsaWQ6IG51bGwsXG4gICAgICB1c2VyUHJvZmlsZTogbnVsbCxcbiAgICAgIHBhZ2VzOiBudWxsLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBsb2FkaW5nOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlYXV0aGVudGljYXRlV2l0aEZhY2Vib29rID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXV0aC9jYWxsYmFja2A7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgaHR0cHM6Ly9xZnB2c3lodGlqd3hrbXlycXN3YS5zdXBhYmFzZS5jby9hdXRoL3YxL2F1dGhvcml6ZT9wcm92aWRlcj1mYWNlYm9vayZyZWRpcmVjdF90bz0ke3JlZGlyZWN0VXJsfSZzY29wZXM9cGFnZXNfc2hvd19saXN0LHBhZ2VzX3JlYWRfZW5nYWdlbWVudCxwYWdlc19tYW5hZ2VfcG9zdHMscGFnZXNfbWFuYWdlX21ldGFkYXRhLHBhZ2VzX3JlYWRfdXNlcl9jb250ZW50YDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtODAwIHAtNiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIG1heC13LTR4bFwiPlxuICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTZcIj5GYWNlYm9vayBQYWdlcyBEZWJ1ZzwvaDI+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIHsvKiBEZWJ1ZyBDb250cm9scyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17dGVzdEZhY2Vib29rVG9rZW59XG4gICAgICAgICAgICBkaXNhYmxlZD17ZGVidWdJbmZvLmxvYWRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2RlYnVnSW5mby5sb2FkaW5nID8gJ1Rlc3RpbmcuLi4nIDogJ1Rlc3QgRmFjZWJvb2sgQ29ubmVjdGlvbid9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17Y2xlYXJGYWNlYm9va1Rva2Vuc31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIENsZWFyIFRva2Vuc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3JlYXV0aGVudGljYXRlV2l0aEZhY2Vib29rfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFJlLWF1dGhlbnRpY2F0ZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBUb2tlbiBTdGF0dXMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtOTAwLzUwIHAtNCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+VG9rZW4gU3RhdHVzPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+VG9rZW4gUHJlc2VudDoge2RlYnVnSW5mby50b2tlbiA/ICdZZXMnIDogJ05vJ308L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMFwiPlRva2VuIFZhbGlkOiB7ZGVidWdJbmZvLnRva2VuVmFsaWQgPT09IG51bGwgPyAnVW5rbm93bicgOiBkZWJ1Z0luZm8udG9rZW5WYWxpZCA/ICdZZXMnIDogJ05vJ308L3A+XG4gICAgICAgICAgICB7ZGVidWdJbmZvLnRva2VuICYmIChcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5Ub2tlbiBQcmV2aWV3OiB7ZGVidWdJbmZvLnRva2VuLnN1YnN0cmluZygwLCAzMCl9Li4uPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogVXNlciBQcm9maWxlICovfVxuICAgICAgICB7ZGVidWdJbmZvLnVzZXJQcm9maWxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMC81MCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+VXNlciBQcm9maWxlPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMFwiPk5hbWU6IHtkZWJ1Z0luZm8udXNlclByb2ZpbGUubmFtZX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+SUQ6IHtkZWJ1Z0luZm8udXNlclByb2ZpbGUuaWR9PC9wPlxuICAgICAgICAgICAgICB7ZGVidWdJbmZvLnVzZXJQcm9maWxlLmVtYWlsICYmIChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMFwiPkVtYWlsOiB7ZGVidWdJbmZvLnVzZXJQcm9maWxlLmVtYWlsfTwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIFBhZ2VzIFN0YXR1cyAqL31cbiAgICAgICAge2RlYnVnSW5mby5wYWdlcyAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS05MDAvNTAgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItMlwiPlBhZ2VzIFN0YXR1czwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5QYWdlcyBGb3VuZDoge2RlYnVnSW5mby5wYWdlcy5sZW5ndGh9PC9wPlxuICAgICAgICAgICAgICB7ZGVidWdJbmZvLnBhZ2VzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMCBtYi0xXCI+UGFnZXMgTGlzdDo8L3A+XG4gICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1kaXNjIGxpc3QtaW5zaWRlIHRleHQtc2xhdGUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtkZWJ1Z0luZm8ucGFnZXMubWFwKChwYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fT57cGFnZS5uYW1lfSAoe3BhZ2UuY2F0ZWdvcnl9KTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTQwMFwiPuKaoCBObyBGYWNlYm9vayBwYWdlcyBmb3VuZDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQtc20gbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICBUaGlzIGNvdWxkIG1lYW4geW91IGRvbid0IGhhdmUgYW55IEZhY2Vib29rIHBhZ2VzIGNvbm5lY3RlZCB0byB5b3VyIGFjY291bnQuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBFcnJvciBEaXNwbGF5ICovfVxuICAgICAgICB7ZGVidWdJbmZvLmVycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MDAvMjAgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtcmVkLTMwMCBtYi0yXCI+RXJyb3I8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtMzAwIHRleHQtc21cIj57ZGVidWdJbmZvLmVycm9yfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBUcm91Ymxlc2hvb3RpbmcgR3VpZGUgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtOTAwLzUwIHAtNCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+VHJvdWJsZXNob290aW5nIEd1aWRlPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS00MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cD7igKIgSWYgbm8gcGFnZXMgZm91bmQ6IENyZWF0ZSBhIEZhY2Vib29rIFBhZ2Ugb3IgdXNlIGJ1c2luZXNzIGFjY291bnQ8L3A+XG4gICAgICAgICAgICA8cD7igKIgSWYgdG9rZW4gaW52YWxpZDogUmUtYXV0aGVudGljYXRlIHdpdGggRmFjZWJvb2s8L3A+XG4gICAgICAgICAgICA8cD7igKIgSWYgcGVybWlzc2lvbnMgZGVuaWVkOiBHcmFudCBhbGwgcmVxdWVzdGVkIHNjb3BlczwvcD5cbiAgICAgICAgICAgIDxwPuKAoiBJZiBwZXJzaXN0ZW50IGlzc3VlczogQ2hlY2sgRmFjZWJvb2sgRGV2ZWxvcGVyIERhc2hib2FyZDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJGYWNlYm9va1BhZ2VzRGVidWciLCJkZWJ1Z0luZm8iLCJzZXREZWJ1Z0luZm8iLCJ0b2tlbiIsInRva2VuVmFsaWQiLCJ1c2VyUHJvZmlsZSIsInBhZ2VzIiwiZXJyb3IiLCJsb2FkaW5nIiwidGVzdEZhY2Vib29rVG9rZW4iLCJwcmV2IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyUmVzcG9uc2UiLCJmZXRjaCIsInVzZXJEYXRhIiwianNvbiIsIm9rIiwibWVzc2FnZSIsInBhZ2VzUmVzcG9uc2UiLCJwYWdlc0RhdGEiLCJkYXRhIiwiY2xlYXJGYWNlYm9va1Rva2VucyIsInJlbW92ZUl0ZW0iLCJyZWF1dGhlbnRpY2F0ZVdpdGhGYWNlYm9vayIsInJlZGlyZWN0VXJsIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJocmVmIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJoMyIsInAiLCJzdWJzdHJpbmciLCJuYW1lIiwiaWQiLCJlbWFpbCIsImxlbmd0aCIsInVsIiwibWFwIiwicGFnZSIsImluZGV4IiwibGkiLCJjYXRlZ29yeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FacebookPagesDebug.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/FacebookPagesManagement.tsx":
/*!****************************************************!*\
  !*** ./src/components/FacebookPagesManagement.tsx ***!
  \****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FacebookPagesManagement; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _services_facebookService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/facebookService */ \"(app-pages-browser)/./src/services/facebookService.ts\");\n/* harmony import */ var _components_FacebookPagesDebug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/FacebookPagesDebug */ \"(app-pages-browser)/./src/components/FacebookPagesDebug.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction FacebookPagesManagement() {\n    _s();\n    const [facebookToken, setFacebookToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [facebookPages, setFacebookPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [authError, setAuthError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [connectionStatus, setConnectionStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"testing\");\n    const [showDebug, setShowDebug] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchFacebookData = async ()=>{\n            try {\n                console.log(\"Fetching Facebook data...\");\n                setLoading(true);\n                setError(null);\n                setAuthError(null);\n                // Check if we have a Facebook token at all\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (!storedToken) {\n                    console.log(\"No Facebook token found in localStorage\");\n                    setConnectionStatus(\"disconnected\");\n                    setAuthError(\"No Facebook access token found. Please connect your Facebook account.\");\n                    setLoading(false);\n                    return;\n                }\n                console.log(\"Facebook token found in localStorage, length:\", storedToken.length);\n                // Test Facebook connection first\n                setConnectionStatus(\"testing\");\n                const connectionResult = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.testConnection();\n                if (!connectionResult.connected) {\n                    console.log(\"Not connected to Facebook\");\n                    setConnectionStatus(\"disconnected\");\n                    if (connectionResult.tokenInfo && !connectionResult.tokenInfo.valid) {\n                        setAuthError(\"Facebook token is invalid: \".concat(connectionResult.tokenInfo.error || \"Unknown error\", \". Please reconnect your Facebook account.\"));\n                    } else {\n                        setAuthError(\"Unable to connect to Facebook. Please try reconnecting your account.\");\n                    }\n                    setLoading(false);\n                    return;\n                }\n                setConnectionStatus(\"connected\");\n                console.log(\"Connected to Facebook, fetching token...\");\n                // Get Facebook token\n                const token = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.getAccessToken();\n                if (token) {\n                    setFacebookToken(token);\n                    console.log(\"Token retrieved, fetching pages...\");\n                    // Fetch Facebook pages\n                    const pages = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.getPages();\n                    setFacebookPages(pages);\n                    console.log(\"Pages fetched:\", pages.length);\n                    // If we have no pages, show a specific message\n                    if (pages.length === 0) {\n                        console.log(\"No pages found for this Facebook account\");\n                        setAuthError(\"No Facebook pages found. This could mean:\\n\" + \"1. Your Facebook account is a personal account without business pages\\n\" + \"2. Your token lacks pages_show_list permission\\n\" + \"3. You don't have any Facebook pages\\n\\n\" + \"Try reconnecting your Facebook account to ensure proper permissions.\");\n                    }\n                } else {\n                    console.log(\"No token found\");\n                    setAuthError(\"No Facebook access token found. Please reconnect your Facebook account.\");\n                }\n            } catch (err) {\n                console.error(\"Error fetching Facebook data:\", err);\n                setAuthError(err.message || \"Failed to fetch Facebook data. Please try reconnecting your account.\");\n                setConnectionStatus(\"disconnected\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchFacebookData();\n    }, []);\n    const handleConnectFacebook = async ()=>{\n        try {\n            // Use the current origin for the redirect URL\n            const redirectUrl = \"\".concat(window.location.origin, \"/auth/callback\");\n            // Redirect to Supabase OAuth\n            window.location.href = \"https://qfpvsyhtijwxkmyrqswa.supabase.co/auth/v1/authorize?provider=facebook&redirect_to=\".concat(redirectUrl, \"&scopes=pages_show_list,pages_read_engagement,pages_manage_posts,pages_manage_metadata,pages_read_user_content\");\n        } catch (err) {\n            console.error(\"Facebook OAuth error:\", err);\n            setError(\"Failed to initiate Facebook login\");\n        }\n    };\n    const handleTestConnection = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // First, do a basic test\n            const result = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.testConnection();\n            if (result.connected) {\n                setConnectionStatus(\"connected\");\n                setFacebookToken(await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.getAccessToken());\n                setFacebookPages(result.pages || []);\n                alert(\"Successfully connected to Facebook!\");\n            } else {\n                setConnectionStatus(\"disconnected\");\n                setError(\"not_connected\");\n            }\n        } catch (err) {\n            console.error(\"Error testing connection:\", err);\n            setError(err.message || \"Failed to test connection\");\n            setConnectionStatus(\"disconnected\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleDebugConnection = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // Get token from localStorage\n            const token = localStorage.getItem(\"facebook_access_token\");\n            if (!token) {\n                alert(\"No Facebook token found in localStorage. Please connect to Facebook first.\");\n                setLoading(false);\n                return;\n            }\n            // Call the debug API endpoint\n            const response = await fetch(\"/api/facebook/debug\", {\n                method: \"GET\",\n                headers: {\n                    \"x-facebook-token\": token\n                }\n            });\n            const debugData = await response.json();\n            if (response.ok) {\n                // Display debug information in a more user-friendly way\n                let debugMessage = \"Facebook Debug Information:\\n\\n\";\n                debugMessage += \"Session exists: \".concat(debugData.sessionExists ? \"Yes\" : \"No\", \"\\n\");\n                debugMessage += \"Token from session: \".concat(debugData.facebookTokenFromSession ? \"Yes\" : \"No\", \"\\n\");\n                debugMessage += \"Token from header: \".concat(debugData.facebookTokenFromHeader ? \"Yes\" : \"No\", \"\\n\");\n                if (debugData.tokenValidation) {\n                    debugMessage += \"Token valid: \".concat(debugData.tokenValidation.isValid ? \"Yes\" : \"No\", \"\\n\");\n                }\n                debugMessage += \"User profile accessible: \".concat(debugData.userProfileAccessible ? \"Yes\" : \"No\", \"\\n\");\n                if (debugData.userProfile) {\n                    debugMessage += \"User: \".concat(debugData.userProfile.name, \" (ID: \").concat(debugData.userProfile.id, \")\\n\");\n                }\n                debugMessage += \"Pages accessible: \".concat(debugData.pagesAccessible ? \"Yes\" : \"No\", \"\\n\");\n                debugMessage += \"Pages count: \".concat(debugData.pagesCount || 0, \"\\n\");\n                if (debugData.pagesCount === 0 && debugData.pagesEmptyReasons) {\n                    debugMessage += \"\\nPossible reasons for no pages:\\n\";\n                    debugData.pagesEmptyReasons.forEach((reason, index)=>{\n                        debugMessage += \"\".concat(index + 1, \". \").concat(reason, \"\\n\");\n                    });\n                }\n                if (debugData.tokenTestError) {\n                    debugMessage += \"\\nToken test error: \".concat(debugData.tokenTestError, \"\\n\");\n                }\n                alert(debugMessage);\n            } else {\n                alert(\"Debug API error: \".concat(debugData.error || \"Unknown error\"));\n            }\n        } catch (err) {\n            console.error(\"Error debugging connection:\", err);\n            alert(\"Error debugging connection: \".concat(err.message || \"Unknown error\"));\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-6\",\n                    children: \"Facebook Pages\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 202,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-slate-400\",\n                    children: \"Loading Facebook pages...\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n            lineNumber: 201,\n            columnNumber: 7\n        }, this);\n    }\n    if (error === \"not_connected\" || connectionStatus === \"disconnected\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-6\",\n                    children: \"Facebook Pages\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 211,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-yellow-400 mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-16 h-16 mx-auto\",\n                                    fill: \"currentColor\",\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl font-semibold text-white mb-2\",\n                                children: \"Connect to Facebook\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 219,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-slate-400 mb-6\",\n                                children: \"Connect your Facebook account to manage your pages and post content.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 220,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleConnectFacebook,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg flex items-center justify-center mx-auto mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5 mr-2\",\n                                        fill: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Connect with Facebook\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2 justify-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const token = localStorage.getItem(\"facebook_access_token\");\n                                            const completed = localStorage.getItem(\"facebook_auth_completed\");\n                                            console.log(\"LocalStorage check:\", {\n                                                token,\n                                                completed\n                                            });\n                                            alert(\"Token: \".concat(token ? \"Found\" : \"Not found\", \", Completed: \").concat(completed));\n                                        },\n                                        className: \"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Debug: Check LocalStorage\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 233,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            const token = localStorage.getItem(\"facebook_access_token\");\n                                            if (token) {\n                                                try {\n                                                    var _data_error;\n                                                    const response = await fetch(\"https://graph.facebook.com/v19.0/me?access_token=\".concat(token));\n                                                    const data = await response.json();\n                                                    alert(\"Token test result: \".concat(response.ok ? \"Valid\" : \"Invalid\", \" - \").concat(data.name || ((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Unknown\"));\n                                                } catch (err) {\n                                                    alert(\"Token test failed: \".concat(err.message));\n                                                }\n                                            } else {\n                                                alert(\"No token found in localStorage\");\n                                            }\n                                        },\n                                        className: \"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Test Token\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 244,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 213,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 212,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n            lineNumber: 210,\n            columnNumber: 7\n        }, this);\n    }\n    if ((error || authError) && error !== \"not_connected\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-6\",\n                    children: \"Facebook Pages\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 273,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-500/20 text-red-300 p-4 rounded-lg mb-6 whitespace-pre-line\",\n                    children: authError || error\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 274,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleTestConnection,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg mr-2\",\n                                children: \"Try Again\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleConnectFacebook,\n                                className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg\",\n                                children: \"Reconnect Facebook\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 277,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n            lineNumber: 272,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-2xl font-bold text-white mb-6\",\n                children: \"Facebook Pages\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 299,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-slate-400 mb-6 max-w-2xl\",\n                children: \"Manage your connected Facebook pages. Select which pages you want to post to.\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 300,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleTestConnection,\n                                className: \"bg-slate-700 hover:bg-slate-600 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                children: \"Refresh\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 306,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowDebug(!showDebug),\n                                className: \"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                children: showDebug ? \"Hide Debug\" : \"Show Debug\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 312,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 305,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleConnectFacebook,\n                        className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                        children: \"Add Pages\"\n                    }, void 0, false, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 319,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 304,\n                columnNumber: 7\n            }, this),\n            showDebug && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FacebookPagesDebug__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 329,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 328,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4 flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: \"Connected Pages\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 335,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleTestConnection,\n                                        className: \"bg-slate-700 hover:bg-slate-600 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                        children: \"Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleConnectFacebook,\n                                        className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                        children: \"Add Pages\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 343,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 334,\n                        columnNumber: 9\n                    }, this),\n                    facebookPages.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: facebookPages.map((page)=>{\n                            var _page_picture_data, _page_picture;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-slate-900/80 p-4 rounded-lg flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-4\",\n                                        children: [\n                                            ((_page_picture = page.picture) === null || _page_picture === void 0 ? void 0 : (_page_picture_data = _page_picture.data) === null || _page_picture_data === void 0 ? void 0 : _page_picture_data.url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: page.picture.data.url,\n                                                alt: page.name,\n                                                className: \"w-10 h-10 rounded-full mr-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 358,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-bold text-white\",\n                                                    children: page.name.charAt(0)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                    lineNumber: 365,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 364,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"font-medium text-white\",\n                                                        children: page.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                        lineNumber: 369,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-slate-400\",\n                                                        children: page.category\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                        lineNumber: 370,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 368,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 356,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs font-medium text-green-400 bg-green-900/50 px-2 py-1 rounded-full\",\n                                        children: \"Connected\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 374,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, page.id, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 355,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 353,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-slate-400 mb-4\",\n                                children: \"No Facebook pages found.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-slate-400 text-sm mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mb-2\",\n                                        children: \"This could mean:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 384,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"list-disc list-inside space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"You don't have any Facebook pages connected to your account\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 386,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Your Facebook account is a personal account without pages\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 387,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Your Facebook token doesn't have permission to access pages\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 388,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"There was an issue fetching your pages from Facebook\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 389,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 385,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 383,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-yellow-500/20 p-3 rounded-lg mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-yellow-300 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Note:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                            lineNumber: 394,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" Facebook requires business pages for API access. Personal profiles cannot be used for posting via the API.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                    lineNumber: 393,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 392,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleTestConnection,\n                                        className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Try Again\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 398,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleDebugConnection,\n                                        className: \"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Debug Connection\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 404,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            // Test the current token first\n                                            const token = localStorage.getItem(\"facebook_access_token\");\n                                            if (token) {\n                                                try {\n                                                    const response = await fetch(\"https://graph.facebook.com/v19.0/me?access_token=\".concat(token));\n                                                    const data = await response.json();\n                                                    if (response.ok) {\n                                                        alert(\"Token is valid for user: \".concat(data.name));\n                                                    } else {\n                                                        var _data_error;\n                                                        alert(\"Token invalid: \".concat(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Unknown error\"));\n                                                    }\n                                                } catch (err) {\n                                                    alert(\"Token test failed: \".concat(err.message));\n                                                }\n                                            }\n                                        },\n                                        className: \"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Test Token\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 410,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleConnectFacebook,\n                                        className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Reconnect Facebook\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 432,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 397,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 381,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-6 flex justify-end\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>{\n                                // Save selected pages to localStorage\n                                const selectedPages = facebookPages.filter((page)=>page.selected);\n                                localStorage.setItem(\"facebook_selected_pages\", JSON.stringify(selectedPages));\n                                alert(\"Page selection saved successfully!\");\n                            },\n                            className: \"bg-sky-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-sky-600 text-sm\",\n                            children: \"Save Changes\"\n                        }, void 0, false, {\n                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                            lineNumber: 443,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 333,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n        lineNumber: 298,\n        columnNumber: 5\n    }, this);\n}\n_s(FacebookPagesManagement, \"fyj3BrH2Sw+GzbG6JAOBCsnKQqg=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = FacebookPagesManagement;\nvar _c;\n$RefreshReg$(_c, \"FacebookPagesManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZhY2Vib29rUGFnZXNNYW5hZ2VtZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFNEM7QUFDQTtBQUNpQjtBQUNJO0FBRWxELFNBQVNLOztJQUN0QixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHUCwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDUSxlQUFlQyxpQkFBaUIsR0FBR1QsK0NBQVFBLENBQVEsRUFBRTtJQUM1RCxNQUFNLENBQUNVLFNBQVNDLFdBQVcsR0FBR1gsK0NBQVFBLENBQVU7SUFDaEQsTUFBTSxDQUFDWSxPQUFPQyxTQUFTLEdBQUdiLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUNjLFdBQVdDLGFBQWEsR0FBR2YsK0NBQVFBLENBQWdCO0lBQzFELE1BQU0sQ0FBQ2dCLGtCQUFrQkMsb0JBQW9CLEdBQUdqQiwrQ0FBUUEsQ0FBMkM7SUFDbkcsTUFBTSxDQUFDa0IsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQVU7SUFDcEQsTUFBTW9CLFNBQVNsQiwwREFBU0E7SUFFeEJELGdEQUFTQSxDQUFDO1FBQ1IsTUFBTW9CLG9CQUFvQjtZQUN4QixJQUFJO2dCQUNGQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1paLFdBQVc7Z0JBQ1hFLFNBQVM7Z0JBQ1RFLGFBQWE7Z0JBRWIsMkNBQTJDO2dCQUMzQyxNQUFNUyxjQUFjQyxhQUFhQyxPQUFPLENBQUM7Z0JBQ3pDLElBQUksQ0FBQ0YsYUFBYTtvQkFDaEJGLFFBQVFDLEdBQUcsQ0FBQztvQkFDWk4sb0JBQW9CO29CQUNwQkYsYUFBYTtvQkFDYkosV0FBVztvQkFDWDtnQkFDRjtnQkFFQVcsUUFBUUMsR0FBRyxDQUFDLGlEQUFpREMsWUFBWUcsTUFBTTtnQkFFL0UsaUNBQWlDO2dCQUNqQ1Ysb0JBQW9CO2dCQUNwQixNQUFNVyxtQkFBbUIsTUFBTXpCLHNFQUFlQSxDQUFDMEIsY0FBYztnQkFFN0QsSUFBSSxD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OztrREFHRCw4REFBQ1E7d0NBQ0NDLFNBQVM7NENBQ1AsK0JBQStCOzRDQUMvQixNQUFNbkQsUUFBUVIsYUFBYUMsT0FBTyxDQUFDOzRDQUNuQyxJQUFJTyxPQUFPO2dEQUNULElBQUk7b0RBQ0YsTUFBTWdCLFdBQVcsTUFBTUMsTUFBTSxvREFBMEQsT0FBTmpCO29EQUNqRixNQUFNcUQsT0FBTyxNQUFNckMsU0FBU0ssSUFBSTtvREFDaEMsSUFBSUwsU0FBU00sRUFBRSxFQUFFO3dEQUNmUixNQUFNLDRCQUFzQyxPQUFWdUMsS0FBS3RCLElBQUk7b0RBQzdDLE9BQU87NERBQ21Cc0I7d0RBQXhCdkMsTUFBTSxrQkFBeUQsT0FBdkN1QyxFQUFBQSxjQUFBQSxLQUFLMUUsS0FBSyxjQUFWMEUsa0NBQUFBLFlBQVloRCxPQUFPLEtBQUk7b0RBQ2pEO2dEQUNGLEVBQUUsT0FBT0QsS0FBSztvREFDWlUsTUFBTSxzQkFBa0MsT0FBWlYsSUFBSUMsT0FBTztnREFDekM7NENBQ0Y7d0NBQ0Y7d0NBQ0FxQyxXQUFVO2tEQUNYOzs7Ozs7a0RBR0QsOERBQUNRO3dDQUNDQyxTQUFTN0M7d0NBQ1RvQyxXQUFVO2tEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBT1AsOERBQUNGO3dCQUFJRSxXQUFVO2tDQUNiLDRFQUFDUTs0QkFDQ0MsU0FBUztnQ0FDUCxzQ0FBc0M7Z0NBQ3RDLE1BQU1nQixnQkFBZ0I1RixjQUFjNkYsTUFBTSxDQUFDYixDQUFBQSxPQUFRQSxLQUFLYyxRQUFRO2dDQUNoRTdFLGFBQWE4RSxPQUFPLENBQUMsMkJBQTJCQyxLQUFLQyxTQUFTLENBQUNMO2dDQUMvRHJELE1BQU07NEJBQ1I7NEJBQ0E0QixXQUFVO3NDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9YO0dBbGN3QnRFOztRQVFQSCxzREFBU0E7OztLQVJGRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9GYWNlYm9va1BhZ2VzTWFuYWdlbWVudC50c3g/ZWI0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgZmFjZWJvb2tTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9mYWNlYm9va1NlcnZpY2UnO1xuaW1wb3J0IEZhY2Vib29rUGFnZXNEZWJ1ZyBmcm9tICdAL2NvbXBvbmVudHMvRmFjZWJvb2tQYWdlc0RlYnVnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmFjZWJvb2tQYWdlc01hbmFnZW1lbnQoKSB7XG4gIGNvbnN0IFtmYWNlYm9va1Rva2VuLCBzZXRGYWNlYm9va1Rva2VuXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmFjZWJvb2tQYWdlcywgc2V0RmFjZWJvb2tQYWdlc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2F1dGhFcnJvciwgc2V0QXV0aEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29ubmVjdGlvblN0YXR1cywgc2V0Q29ubmVjdGlvblN0YXR1c10gPSB1c2VTdGF0ZTwnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ3Rlc3RpbmcnPigndGVzdGluZycpO1xuICBjb25zdCBbc2hvd0RlYnVnLCBzZXRTaG93RGVidWddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoRmFjZWJvb2tEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIEZhY2Vib29rIGRhdGEuLi4nKTtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIHNldEF1dGhFcnJvcihudWxsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBGYWNlYm9vayB0b2tlbiBhdCBhbGxcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmICghc3RvcmVkVG9rZW4pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gRmFjZWJvb2sgdG9rZW4gZm91bmQgaW4gbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgc2V0QXV0aEVycm9yKCdObyBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gZm91bmQuIFBsZWFzZSBjb25uZWN0IHlvdXIgRmFjZWJvb2sgYWNjb3VudC4nKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWNlYm9vayB0b2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UsIGxlbmd0aDonLCBzdG9yZWRUb2tlbi5sZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGVzdCBGYWNlYm9vayBjb25uZWN0aW9uIGZpcnN0XG4gICAgICAgIHNldENvbm5lY3Rpb25TdGF0dXMoJ3Rlc3RpbmcnKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvblJlc3VsdCA9IGF3YWl0IGZhY2Vib29rU2VydmljZS50ZXN0Q29ubmVjdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uUmVzdWx0LmNvbm5lY3RlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3QgY29ubmVjdGVkIHRvIEZhY2Vib29rJyk7XG4gICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgaWYgKGNvbm5lY3Rpb25SZXN1bHQudG9rZW5JbmZvICYmICFjb25uZWN0aW9uUmVzdWx0LnRva2VuSW5mby52YWxpZCkge1xuICAgICAgICAgICAgc2V0QXV0aEVycm9yKGBGYWNlYm9vayB0b2tlbiBpcyBpbnZhbGlkOiAke2Nvbm5lY3Rpb25SZXN1bHQudG9rZW5JbmZvLmVycm9yIHx8ICdVbmtub3duIGVycm9yJ30uIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBdXRoRXJyb3IoJ1VuYWJsZSB0byBjb25uZWN0IHRvIEZhY2Vib29rLiBQbGVhc2UgdHJ5IHJlY29ubmVjdGluZyB5b3VyIGFjY291bnQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnY29ubmVjdGVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gRmFjZWJvb2ssIGZldGNoaW5nIHRva2VuLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgRmFjZWJvb2sgdG9rZW5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBmYWNlYm9va1NlcnZpY2UuZ2V0QWNjZXNzVG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgc2V0RmFjZWJvb2tUb2tlbih0b2tlbik7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHJldHJpZXZlZCwgZmV0Y2hpbmcgcGFnZXMuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGZXRjaCBGYWNlYm9vayBwYWdlc1xuICAgICAgICAgIGNvbnN0IHBhZ2VzID0gYXdhaXQgZmFjZWJvb2tTZXJ2aWNlLmdldFBhZ2VzKCk7XG4gICAgICAgICAgc2V0RmFjZWJvb2tQYWdlcyhwYWdlcyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIGZldGNoZWQ6JywgcGFnZXMubGVuZ3RoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIHBhZ2VzLCBzaG93IGEgc3BlY2lmaWMgbWVzc2FnZVxuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBwYWdlcyBmb3VuZCBmb3IgdGhpcyBGYWNlYm9vayBhY2NvdW50Jyk7XG4gICAgICAgICAgICBzZXRBdXRoRXJyb3IoJ05vIEZhY2Vib29rIHBhZ2VzIGZvdW5kLiBUaGlzIGNvdWxkIG1lYW46XFxuJyArXG4gICAgICAgICAgICAgICcxLiBZb3VyIEZhY2Vib29rIGFjY291bnQgaXMgYSBwZXJzb25hbCBhY2NvdW50IHdpdGhvdXQgYnVzaW5lc3MgcGFnZXNcXG4nICtcbiAgICAgICAgICAgICAgJzIuIFlvdXIgdG9rZW4gbGFja3MgcGFnZXNfc2hvd19saXN0IHBlcm1pc3Npb25cXG4nICtcbiAgICAgICAgICAgICAgJzMuIFlvdSBkb25cXCd0IGhhdmUgYW55IEZhY2Vib29rIHBhZ2VzXFxuXFxuJyArXG4gICAgICAgICAgICAgICdUcnkgcmVjb25uZWN0aW5nIHlvdXIgRmFjZWJvb2sgYWNjb3VudCB0byBlbnN1cmUgcHJvcGVyIHBlcm1pc3Npb25zLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdG9rZW4gZm91bmQnKTtcbiAgICAgICAgICBzZXRBdXRoRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBmb3VuZC4gUGxlYXNlIHJlY29ubmVjdCB5b3VyIEZhY2Vib29rIGFjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBGYWNlYm9vayBkYXRhOicsIGVycik7XG4gICAgICAgIHNldEF1dGhFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIEZhY2Vib29rIGRhdGEuIFBsZWFzZSB0cnkgcmVjb25uZWN0aW5nIHlvdXIgYWNjb3VudC4nKTtcbiAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hGYWNlYm9va0RhdGEoKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNvbm5lY3RGYWNlYm9vayA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIHRoZSBjdXJyZW50IG9yaWdpbiBmb3IgdGhlIHJlZGlyZWN0IFVSTFxuICAgICAgY29uc3QgcmVkaXJlY3RVcmwgPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9hdXRoL2NhbGxiYWNrYDtcblxuICAgICAgLy8gUmVkaXJlY3QgdG8gU3VwYWJhc2UgT0F1dGhcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYGh0dHBzOi8vcWZwdnN5aHRpand4a215cnFzd2Euc3VwYWJhc2UuY28vYXV0aC92MS9hdXRob3JpemU/cHJvdmlkZXI9ZmFjZWJvb2smcmVkaXJlY3RfdG89JHtyZWRpcmVjdFVybH0mc2NvcGVzPXBhZ2VzX3Nob3dfbGlzdCxwYWdlc19yZWFkX2VuZ2FnZW1lbnQscGFnZXNfbWFuYWdlX3Bvc3RzLHBhZ2VzX21hbmFnZV9tZXRhZGF0YSxwYWdlc19yZWFkX3VzZXJfY29udGVudGA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWNlYm9vayBPQXV0aCBlcnJvcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBpbml0aWF0ZSBGYWNlYm9vayBsb2dpbicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVUZXN0Q29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCwgZG8gYSBiYXNpYyB0ZXN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmYWNlYm9va1NlcnZpY2UudGVzdENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5jb25uZWN0ZWQpIHtcbiAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnY29ubmVjdGVkJyk7XG4gICAgICAgIHNldEZhY2Vib29rVG9rZW4oYXdhaXQgZmFjZWJvb2tTZXJ2aWNlLmdldEFjY2Vzc1Rva2VuKCkpO1xuICAgICAgICBzZXRGYWNlYm9va1BhZ2VzKHJlc3VsdC5wYWdlcyB8fCBbXSk7XG4gICAgICAgIGFsZXJ0KCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIEZhY2Vib29rIScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHNldEVycm9yKCdub3RfY29ubmVjdGVkJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0ZXN0aW5nIGNvbm5lY3Rpb246JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdGVzdCBjb25uZWN0aW9uJyk7XG4gICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlYnVnQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgXG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIGFsZXJ0KCdObyBGYWNlYm9vayB0b2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UuIFBsZWFzZSBjb25uZWN0IHRvIEZhY2Vib29rIGZpcnN0LicpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxsIHRoZSBkZWJ1ZyBBUEkgZW5kcG9pbnRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZmFjZWJvb2svZGVidWcnLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAneC1mYWNlYm9vay10b2tlbic6IHRva2VuXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkZWJ1Z0RhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAvLyBEaXNwbGF5IGRlYnVnIGluZm9ybWF0aW9uIGluIGEgbW9yZSB1c2VyLWZyaWVuZGx5IHdheVxuICAgICAgICBsZXQgZGVidWdNZXNzYWdlID0gJ0ZhY2Vib29rIERlYnVnIEluZm9ybWF0aW9uOlxcblxcbic7XG4gICAgICAgIGRlYnVnTWVzc2FnZSArPSBgU2Vzc2lvbiBleGlzdHM6ICR7ZGVidWdEYXRhLnNlc3Npb25FeGlzdHMgPyAnWWVzJyA6ICdObyd9XFxuYDtcbiAgICAgICAgZGVidWdNZXNzYWdlICs9IGBUb2tlbiBmcm9tIHNlc3Npb246ICR7ZGVidWdEYXRhLmZhY2Vib29rVG9rZW5Gcm9tU2Vzc2lvbiA/ICdZZXMnIDogJ05vJ31cXG5gO1xuICAgICAgICBkZWJ1Z01lc3NhZ2UgKz0gYFRva2VuIGZyb20gaGVhZGVyOiAke2RlYnVnRGF0YS5mYWNlYm9va1Rva2VuRnJvbUhlYWRlciA/ICdZZXMnIDogJ05vJ31cXG5gO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRlYnVnRGF0YS50b2tlblZhbGlkYXRpb24pIHtcbiAgICAgICAgICBkZWJ1Z01lc3NhZ2UgKz0gYFRva2VuIHZhbGlkOiAke2RlYnVnRGF0YS50b2tlblZhbGlkYXRpb24uaXNWYWxpZCA/ICdZZXMnIDogJ05vJ31cXG5gO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkZWJ1Z01lc3NhZ2UgKz0gYFVzZXIgcHJvZmlsZSBhY2Nlc3NpYmxlOiAke2RlYnVnRGF0YS51c2VyUHJvZmlsZUFjY2Vzc2libGUgPyAnWWVzJyA6ICdObyd9XFxuYDtcbiAgICAgICAgXG4gICAgICAgIGlmIChkZWJ1Z0RhdGEudXNlclByb2ZpbGUpIHtcbiAgICAgICAgICBkZWJ1Z01lc3NhZ2UgKz0gYFVzZXI6ICR7ZGVidWdEYXRhLnVzZXJQcm9maWxlLm5hbWV9IChJRDogJHtkZWJ1Z0RhdGEudXNlclByb2ZpbGUuaWR9KVxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRlYnVnTWVzc2FnZSArPSBgUGFnZXMgYWNjZXNzaWJsZTogJHtkZWJ1Z0RhdGEucGFnZXNBY2Nlc3NpYmxlID8gJ1llcycgOiAnTm8nfVxcbmA7XG4gICAgICAgIGRlYnVnTWVzc2FnZSArPSBgUGFnZXMgY291bnQ6ICR7ZGVidWdEYXRhLnBhZ2VzQ291bnQgfHwgMH1cXG5gO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRlYnVnRGF0YS5wYWdlc0NvdW50ID09PSAwICYmIGRlYnVnRGF0YS5wYWdlc0VtcHR5UmVhc29ucykge1xuICAgICAgICAgIGRlYnVnTWVzc2FnZSArPSAnXFxuUG9zc2libGUgcmVhc29ucyBmb3Igbm8gcGFnZXM6XFxuJztcbiAgICAgICAgICBkZWJ1Z0RhdGEucGFnZXNFbXB0eVJlYXNvbnMuZm9yRWFjaCgocmVhc29uOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGRlYnVnTWVzc2FnZSArPSBgJHtpbmRleCArIDF9LiAke3JlYXNvbn1cXG5gO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZGVidWdEYXRhLnRva2VuVGVzdEVycm9yKSB7XG4gICAgICAgICAgZGVidWdNZXNzYWdlICs9IGBcXG5Ub2tlbiB0ZXN0IGVycm9yOiAke2RlYnVnRGF0YS50b2tlblRlc3RFcnJvcn1cXG5gO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhbGVydChkZWJ1Z01lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoYERlYnVnIEFQSSBlcnJvcjogJHtkZWJ1Z0RhdGEuZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVidWdnaW5nIGNvbm5lY3Rpb246JywgZXJyKTtcbiAgICAgIGFsZXJ0KGBFcnJvciBkZWJ1Z2dpbmcgY29ubmVjdGlvbjogJHtlcnIubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNlwiPkZhY2Vib29rIFBhZ2VzPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5Mb2FkaW5nIEZhY2Vib29rIHBhZ2VzLi4uPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChlcnJvciA9PT0gJ25vdF9jb25uZWN0ZWQnIHx8IGNvbm5lY3Rpb25TdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi02XCI+RmFjZWJvb2sgUGFnZXM8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCBwLTYgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBtYXgtdy00eGxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0b1wiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yNCAxMi4wNzNjMC02LjYyNy01LjM3My0xMi0xMi0xMnMtMTIgNS4zNzMtMTIgMTJjMCA1Ljk5IDQuMzg4IDEwLjk1NCAxMC4xMjUgMTEuODU0di04LjM4NUg3LjA3OHYtMy40N2gzLjA0N1Y5LjQzYzAtMy4wMDcgMS43OTItNC42NjkgNC41MzMtNC42NjkgMS4zMTIgMCAyLjY4Ni4yMzUgMi42ODYuMjM1djIuOTUzSDE1LjgzYy0xLjQ5MSAwLTEuOTU2LjkyNS0xLjk1NiAxLjg3NHYyLjI1aDMuMzI4bC0uNTMyIDMuNDdoLTIuNzk2djguMzg1QzE5LjYxMiAyMy4wMjcgMjQgMTguMDYyIDI0IDEyLjA3M3pcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItMlwiPkNvbm5lY3QgdG8gRmFjZWJvb2s8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgbWItNlwiPlxuICAgICAgICAgICAgICBDb25uZWN0IHlvdXIgRmFjZWJvb2sgYWNjb3VudCB0byBtYW5hZ2UgeW91ciBwYWdlcyBhbmQgcG9zdCBjb250ZW50LlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25uZWN0RmFjZWJvb2t9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC02IHB5LTMgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yNCAxMi4wNzNjMC02LjYyNy01LjM3My0xMi0xMi0xMnMtMTIgNS4zNzMtMTIgMTJjMCA1Ljk5IDQuMzg4IDEwLjk1NCAxMC4xMjUgMTEuODU0di04LjM4NUg3LjA3OHYtMy40N2gzLjA0N1Y5LjQzYzAtMy4wMDcgMS43OTItNC42NjkgNC41MzMtNC42NjkgMS4zMTIgMCAyLjY4Ni4yMzUgMi42ODYuMjM1djIuOTUzSDE1LjgzYy0xLjQ5MSAwLTEuOTU2LjkyNS0xLjk1NiAxLjg3NHYyLjI1aDMuMzI4bC0uNTMyIDMuNDdoLTIuNzk2djguMzg1QzE5LjYxMiAyMy4wMjcgMjQgMTguMDYyIDI0IDEyLjA3M3pcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICBDb25uZWN0IHdpdGggRmFjZWJvb2tcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYWNlYm9va19hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYWNlYm9va19hdXRoX2NvbXBsZXRlZCcpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvY2FsU3RvcmFnZSBjaGVjazonLCB7IHRva2VuLCBjb21wbGV0ZWQgfSk7XG4gICAgICAgICAgICAgICAgICBhbGVydChgVG9rZW46ICR7dG9rZW4gPyAnRm91bmQnIDogJ05vdCBmb3VuZCd9LCBDb21wbGV0ZWQ6ICR7Y29tcGxldGVkfWApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS02MDAgaG92ZXI6YmctZ3JheS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgRGVidWc6IENoZWNrIExvY2FsU3RvcmFnZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE5LjAvbWU/YWNjZXNzX3Rva2VuPSR7dG9rZW59YCk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBhbGVydChgVG9rZW4gdGVzdCByZXN1bHQ6ICR7cmVzcG9uc2Uub2sgPyAnVmFsaWQnIDogJ0ludmFsaWQnfSAtICR7ZGF0YS5uYW1lIHx8IGRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Vua25vd24nfWApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhbGVydChgVG9rZW4gdGVzdCBmYWlsZWQ6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdObyB0b2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYXktNjAwIGhvdmVyOmJnLWdyYXktNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFRlc3QgVG9rZW5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKChlcnJvciB8fCBhdXRoRXJyb3IpICYmIGVycm9yICE9PSAnbm90X2Nvbm5lY3RlZCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTZcIj5GYWNlYm9vayBQYWdlczwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwMC8yMCB0ZXh0LXJlZC0zMDAgcC00IHJvdW5kZWQtbGcgbWItNiB3aGl0ZXNwYWNlLXByZS1saW5lXCI+XG4gICAgICAgICAge2F1dGhFcnJvciB8fCBlcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtODAwIHAtNiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIG1heC13LTR4bFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUZXN0Q29ubmVjdGlvbn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIG1yLTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBUcnkgQWdhaW5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25uZWN0RmFjZWJvb2t9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVjb25uZWN0IEZhY2Vib29rXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTZcIj5GYWNlYm9vayBQYWdlczwvaDI+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMCBtYi02IG1heC13LTJ4bFwiPlxuICAgICAgICBNYW5hZ2UgeW91ciBjb25uZWN0ZWQgRmFjZWJvb2sgcGFnZXMuIFNlbGVjdCB3aGljaCBwYWdlcyB5b3Ugd2FudCB0byBwb3N0IHRvLlxuICAgICAgPC9wPlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRlc3RDb25uZWN0aW9ufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtMyBweS0xIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVmcmVzaFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dEZWJ1Zyghc2hvd0RlYnVnKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtMyBweS0xIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Nob3dEZWJ1ZyA/ICdIaWRlIERlYnVnJyA6ICdTaG93IERlYnVnJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25uZWN0RmFjZWJvb2t9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtMyBweS0xIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgID5cbiAgICAgICAgICBBZGQgUGFnZXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAge3Nob3dEZWJ1ZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgIDxGYWNlYm9va1BhZ2VzRGVidWcgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCBwLTYgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBtYXgtdy00eGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPkNvbm5lY3RlZCBQYWdlczwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRlc3RDb25uZWN0aW9ufVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVmcmVzaFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbm5lY3RGYWNlYm9va31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtMyBweS0xIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEFkZCBQYWdlc1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAge2ZhY2Vib29rUGFnZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAge2ZhY2Vib29rUGFnZXMubWFwKChwYWdlOiBhbnkpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3BhZ2UuaWR9IGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMC84MCBwLTQgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICB7cGFnZS5waWN0dXJlPy5kYXRhPy51cmwgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtwYWdlLnBpY3R1cmUuZGF0YS51cmx9IFxuICAgICAgICAgICAgICAgICAgICAgIGFsdD17cGFnZS5uYW1lfSBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIG1yLTNcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWJsdWUtNjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+e3BhZ2UubmFtZS5jaGFyQXQoMCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXdoaXRlXCI+e3BhZ2UubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS00MDBcIj57cGFnZS5jYXRlZ29yeX08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tNDAwIGJnLWdyZWVuLTkwMC81MCBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICBDb25uZWN0ZWRcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIG1iLTRcIj5ObyBGYWNlYm9vayBwYWdlcyBmb3VuZC48L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQtc20gbWItNFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+VGhpcyBjb3VsZCBtZWFuOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZGlzYyBsaXN0LWluc2lkZSBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICA8bGk+WW91IGRvbid0IGhhdmUgYW55IEZhY2Vib29rIHBhZ2VzIGNvbm5lY3RlZCB0byB5b3VyIGFjY291bnQ8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5Zb3VyIEZhY2Vib29rIGFjY291bnQgaXMgYSBwZXJzb25hbCBhY2NvdW50IHdpdGhvdXQgcGFnZXM8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5Zb3VyIEZhY2Vib29rIHRva2VuIGRvZXNuJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyBwYWdlczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlRoZXJlIHdhcyBhbiBpc3N1ZSBmZXRjaGluZyB5b3VyIHBhZ2VzIGZyb20gRmFjZWJvb2s8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXllbGxvdy01MDAvMjAgcC0zIHJvdW5kZWQtbGcgbWItNFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+Tm90ZTo8L3N0cm9uZz4gRmFjZWJvb2sgcmVxdWlyZXMgYnVzaW5lc3MgcGFnZXMgZm9yIEFQSSBhY2Nlc3MuIFBlcnNvbmFsIHByb2ZpbGVzIGNhbm5vdCBiZSB1c2VkIGZvciBwb3N0aW5nIHZpYSB0aGUgQVBJLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVGVzdENvbm5lY3Rpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgVHJ5IEFnYWluXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVidWdDb25uZWN0aW9ufVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBEZWJ1ZyBDb25uZWN0aW9uXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gVGVzdCB0aGUgY3VycmVudCB0b2tlbiBmaXJzdFxuICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTkuMC9tZT9hY2Nlc3NfdG9rZW49JHt0b2tlbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYFRva2VuIGlzIHZhbGlkIGZvciB1c2VyOiAke2RhdGEubmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYFRva2VuIGludmFsaWQ6ICR7ZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhbGVydChgVG9rZW4gdGVzdCBmYWlsZWQ6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYXktNjAwIGhvdmVyOmJnLWdyYXktNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFRlc3QgVG9rZW5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25uZWN0RmFjZWJvb2t9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBSZWNvbm5lY3QgRmFjZWJvb2tcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgLy8gU2F2ZSBzZWxlY3RlZCBwYWdlcyB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYWdlcyA9IGZhY2Vib29rUGFnZXMuZmlsdGVyKHBhZ2UgPT4gcGFnZS5zZWxlY3RlZCk7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYWNlYm9va19zZWxlY3RlZF9wYWdlcycsIEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkUGFnZXMpKTtcbiAgICAgICAgICAgICAgYWxlcnQoJ1BhZ2Ugc2VsZWN0aW9uIHNhdmVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1za3ktNTAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC00IHB5LTIgcm91bmRlZC1sZyBob3ZlcjpiZy1za3ktNjAwIHRleHQtc21cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFNhdmUgQ2hhbmdlc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsImZhY2Vib29rU2VydmljZSIsIkZhY2Vib29rUGFnZXNEZWJ1ZyIsIkZhY2Vib29rUGFnZXNNYW5hZ2VtZW50IiwiZmFjZWJvb2tUb2tlbiIsInNldEZhY2Vib29rVG9rZW4iLCJmYWNlYm9va1BhZ2VzIiwic2V0RmFjZWJvb2tQYWdlcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImF1dGhFcnJvciIsInNldEF1dGhFcnJvciIsImNvbm5lY3Rpb25TdGF0dXMiLCJzZXRDb25uZWN0aW9uU3RhdHVzIiwic2hvd0RlYnVnIiwic2V0U2hvd0RlYnVnIiwicm91dGVyIiwiZmV0Y2hGYWNlYm9va0RhdGEiLCJjb25zb2xlIiwibG9nIiwic3RvcmVkVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGVuZ3RoIiwiY29ubmVjdGlvblJlc3VsdCIsInRlc3RDb25uZWN0aW9uIiwiY29ubmVjdGVkIiwidG9rZW5JbmZvIiwidmFsaWQiLCJ0b2tlbiIsImdldEFjY2Vzc1Rva2VuIiwicGFnZXMiLCJnZXRQYWdlcyIsImVyciIsIm1lc3NhZ2UiLCJoYW5kbGVDb25uZWN0RmFjZWJvb2siLCJyZWRpcmVjdFVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwiaHJlZiIsImhhbmRsZVRlc3RDb25uZWN0aW9uIiwicmVzdWx0IiwiYWxlcnQiLCJoYW5kbGVEZWJ1Z0Nvbm5lY3Rpb24iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImRlYnVnRGF0YSIsImpzb24iLCJvayIsImRlYnVnTWVzc2FnZSIsInNlc3Npb25FeGlzdHMiLCJmYWNlYm9va1Rva2VuRnJvbVNlc3Npb24iLCJmYWNlYm9va1Rva2VuRnJvbUhlYWRlciIsInRva2VuVmFsaWRhdGlvbiIsImlzVmFsaWQiLCJ1c2VyUHJvZmlsZUFjY2Vzc2libGUiLCJ1c2VyUHJvZmlsZSIsIm5hbWUiLCJpZCIsInBhZ2VzQWNjZXNzaWJsZSIsInBhZ2VzQ291bnQiLCJwYWdlc0VtcHR5UmVhc29ucyIsImZvckVhY2giLCJyZWFzb24iLCJpbmRleCIsInRva2VuVGVzdEVycm9yIiwiZGl2IiwiaDIiLCJjbGFzc05hbWUiLCJwIiwic3ZnIiwiZmlsbCIsInZpZXdCb3giLCJwYXRoIiwiZCIsImgzIiwiYnV0dG9uIiwib25DbGljayIsImNvbXBsZXRlZCIsImRhdGEiLCJtYXAiLCJwYWdlIiwicGljdHVyZSIsInVybCIsImltZyIsInNyYyIsImFsdCIsInNwYW4iLCJjaGFyQXQiLCJjYXRlZ29yeSIsInVsIiwibGkiLCJzdHJvbmciLCJzZWxlY3RlZFBhZ2VzIiwiZmlsdGVyIiwic2VsZWN0ZWQiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FacebookPagesManagement.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/services/facebookService.ts":
/*!*****************************************!*\
  !*** ./src/services/facebookService.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   facebookService: function() { return /* binding */ facebookService; },\n/* harmony export */   getFacebookPages: function() { return /* binding */ getFacebookPages; },\n/* harmony export */   getFacebookProfile: function() { return /* binding */ getFacebookProfile; },\n/* harmony export */   getFacebookToken: function() { return /* binding */ getFacebookToken; },\n/* harmony export */   publishToFacebook: function() { return /* binding */ publishToFacebook; },\n/* harmony export */   testFacebookConnection: function() { return /* binding */ testFacebookConnection; }\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./src/lib/supabaseClient.ts\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n// Facebook Integration Service\n// This service provides a unified interface for all Facebook operations\n\nclass FacebookService {\n    // Get Facebook access token from session or localStorage with better error handling\n    async getAccessToken(overrideToken) {\n        try {\n            console.log(\"=== GET ACCESS TOKEN START ===\");\n            // If an override token is provided (e.g., from server-side API), use it\n            if (overrideToken) {\n                console.log(\"Using override token, length:\", overrideToken.length);\n                // Validate the token before returning\n                const validation = await this.validateToken(overrideToken);\n                if (validation.valid) {\n                    console.log(\"Override token validated successfully\");\n                    return overrideToken;\n                } else {\n                    console.log(\"Override token is invalid:\", validation.error);\n                    throw new Error(\"Invalid override token: \".concat(validation.error));\n                }\n            }\n            // Try to get from localStorage first (most reliable for client-side)\n            if (true) {\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (storedToken) {\n                    console.log(\"Token found in localStorage, length:\", storedToken.length);\n                    // Validate token before returning\n                    const validation = await this.validateToken(storedToken);\n                    if (validation.valid) {\n                        console.log(\"Token validated successfully\");\n                        if (validation.permissions) {\n                            console.log(\"Token permissions:\", validation.permissions);\n                        }\n                        return storedToken;\n                    } else {\n                        console.log(\"Stored token is invalid, removing it:\", validation.error);\n                        localStorage.removeItem(\"facebook_access_token\");\n                    }\n                }\n            }\n            // Get the current user's session\n            const { data: { session }, error: sessionError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getSession();\n            if (sessionError) {\n                console.error(\"Session error:\", sessionError);\n            // Don't throw error, try localStorage fallback\n            }\n            if (!session) {\n                console.log(\"No active Supabase session\");\n            } else {\n                console.log(\"Supabase session found\");\n                // Get the provider token (Facebook access token)\n                const facebookAccessToken = session.provider_token;\n                if (facebookAccessToken) {\n                    console.log(\"Token found in Supabase session, length:\", facebookAccessToken.length);\n                    // Validate the token before returning\n                    const validation = await this.validateToken(facebookAccessToken);\n                    if (validation.valid) {\n                        console.log(\"Session token validated successfully\");\n                        return facebookAccessToken;\n                    } else {\n                        console.log(\"Session token is invalid:\", validation.error);\n                    }\n                }\n            }\n            // Last resort: check localStorage again\n            if (true) {\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (storedToken) {\n                    console.log(\"Emergency fallback: Token found in localStorage, length:\", storedToken.length);\n                    return storedToken;\n                }\n            }\n            console.log(\"No Facebook access token found anywhere\");\n            return null;\n        } catch (error) {\n            console.error(\"Error getting Facebook access token:\", error);\n            // Try absolute fallback\n            try {\n                if (true) {\n                    const storedToken = localStorage.getItem(\"facebook_access_token\");\n                    if (storedToken) {\n                        console.log(\"Absolute emergency fallback: Token found in localStorage, length:\", storedToken.length);\n                        return storedToken;\n                    }\n                }\n            } catch (fallbackError) {\n                console.error(\"Absolute fallback failed:\", fallbackError);\n            }\n            return null;\n        }\n    }\n    // Validate Facebook access token with detailed information\n    async validateToken(token) {\n        try {\n            // First, check basic token validity\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email\"));\n            if (!response.ok) {\n                var _errorData_error;\n                const errorData = await response.json();\n                return {\n                    valid: false,\n                    error: ((_errorData_error = errorData.error) === null || _errorData_error === void 0 ? void 0 : _errorData_error.message) || \"Token invalid\"\n                };\n            }\n            // If basic validation passes, check permissions\n            try {\n                // Check what permissions the token has\n                // Note: For debug_token, we need to use the app access token, but for simplicity,\n                // we'll skip this for now and just return valid\n                console.log(\"Token validation passed, skipping detailed permission check for now\");\n            } catch (debugError) {\n                console.log(\"Could not check token permissions:\", debugError);\n            // Still return valid since basic validation passed\n            }\n            return {\n                valid: true\n            };\n        } catch (error) {\n            console.error(\"Error validating Facebook token:\", error);\n            return {\n                valid: false,\n                error: error.message || \"Token validation failed\"\n            };\n        }\n    }\n    // Get user's Facebook pages with enhanced error handling and fallbacks\n    async getPages() {\n        try {\n            console.log(\"=== GET PAGES METHOD START ===\");\n            // Try to get token from session first\n            let token = null;\n            try {\n                token = await this.getAccessToken();\n                console.log(\"Token from getAccessToken():\", token ? \"Found\" : \"Not found\");\n            } catch (sessionError) {\n                console.log(\"Session token retrieval failed:\", sessionError.message);\n            }\n            // Fallback to direct localStorage access\n            if (!token) {\n                console.log(\"Trying direct localStorage access...\");\n                if (true) {\n                    const storedToken = localStorage.getItem(\"facebook_access_token\");\n                    if (storedToken) {\n                        token = storedToken;\n                        console.log(\"Token found directly in localStorage\");\n                    }\n                }\n            }\n            if (!token) {\n                throw new Error(\"No Facebook access token available from session or localStorage\");\n            }\n            console.log(\"Using token for pages request\");\n            // Validate token first\n            const validation = await this.validateToken(token);\n            console.log(\"Token validity check:\", validation);\n            if (!validation.valid) {\n                throw new Error(\"Facebook access token is invalid or expired: \".concat(validation.error));\n            }\n            // Check if token has required permissions\n            if (validation.permissions) {\n                const requiredPermissions = [\n                    \"pages_show_list\",\n                    \"pages_read_engagement\",\n                    \"pages_manage_posts\"\n                ];\n                const missingPermissions = requiredPermissions.filter((perm)=>!validation.permissions.includes(perm));\n                if (missingPermissions.length > 0) {\n                    console.log(\"Warning: Token missing required permissions:\", missingPermissions);\n                } else {\n                    console.log(\"Token has all required permissions\");\n                }\n            }\n            // Get user profile to confirm token works\n            try {\n                const userResponse = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email\"));\n                const userData = await userResponse.json();\n                if (!userResponse.ok) {\n                    var _userData_error;\n                    console.error(\"User profile API error:\", userData);\n                    throw new Error(((_userData_error = userData.error) === null || _userData_error === void 0 ? void 0 : _userData_error.message) || \"Failed to fetch user profile\");\n                }\n                console.log(\"User profile retrieved:\", userData.name);\n            } catch (userError) {\n                console.error(\"Error fetching user profile:\", userError);\n            // Continue anyway as we might still get pages\n            }\n            // Get pages using the token\n            console.log(\"Fetching Facebook pages with token...\");\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me/accounts?access_token=\").concat(token, \"&fields=name,id,category,picture,fan_count\"));\n            const data = await response.json();\n            console.log(\"Pages API response:\", data);\n            if (!response.ok) {\n                var _data_error;\n                console.error(\"Facebook pages API error:\", data);\n                throw new Error(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Failed to fetch Facebook pages\");\n            }\n            // Additional debugging - check if we have an empty data array\n            if (data && data.data && Array.isArray(data.data)) {\n                console.log(\"Pages retrieved successfully:\", data.data.length);\n                if (data.data.length === 0) {\n                    console.log(\"Warning: No pages found. This might be due to:\");\n                    console.log(\"1. User has no Facebook pages\");\n                    console.log(\"2. Token lacks pages_show_list permission\");\n                    console.log(\"3. User account is not a business account with page access\");\n                }\n                return data.data;\n            } else {\n                console.log(\"Unexpected response format:\", data);\n                return [];\n            }\n        } catch (error) {\n            console.error(\"Error fetching Facebook pages:\", error);\n            throw error;\n        }\n    }\n    // Get user's Facebook profile\n    async getProfile() {\n        try {\n            const token = await this.getAccessToken();\n            if (!token) {\n                throw new Error(\"No Facebook access token available\");\n            }\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email,picture\"));\n            const data = await response.json();\n            if (!response.ok) {\n                var _data_error;\n                throw new Error(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Failed to fetch Facebook profile\");\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error fetching Facebook profile:\", error);\n            throw error;\n        }\n    }\n    // Upload image to Facebook\n    async uploadImage(base64Image) {\n        let caption = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\", pageId = arguments.length > 2 ? arguments[2] : void 0, overrideToken = arguments.length > 3 ? arguments[3] : void 0;\n        try {\n            const token = await this.getAccessToken(overrideToken);\n            if (!token) {\n                throw new Error(\"No Facebook access token available. Please reconnect your Facebook account.\");\n            }\n            let accessTokenToUse = token;\n            let url = \"\".concat(this.baseUrl, \"/me/photos\");\n            // If a page ID is provided, get the page access token\n            if (pageId) {\n                console.log(\"Fetching page access token for page ID:\", pageId);\n                const pageTokenResponse = await fetch(\"\".concat(this.baseUrl, \"/\").concat(pageId, \"?fields=access_token&access_token=\").concat(token));\n                const pageTokenData = await pageTokenResponse.json();\n                if (!pageTokenResponse.ok) {\n                    var _pageTokenData_error;\n                    console.error(\"Error fetching page access token:\", pageTokenData);\n                    const errorMessage = ((_pageTokenData_error = pageTokenData.error) === null || _pageTokenData_error === void 0 ? void 0 : _pageTokenData_error.message) || \"Failed to get page access token\";\n                    throw new Error(\"Failed to get page access token: \".concat(errorMessage));\n                }\n                accessTokenToUse = pageTokenData.access_token;\n                url = \"\".concat(this.baseUrl, \"/\").concat(pageId, \"/photos\");\n                console.log(\"Using page access token for image upload\");\n            } else {\n                console.log(\"Using user access token for image upload to personal feed\");\n            }\n            // For Facebook photo upload, we need to send as form data\n            // First, convert base64 to buffer for server-side usage\n            const imageBuffer = Buffer.from(base64Image, \"base64\");\n            const formData = new FormData();\n            formData.append(\"source\", new Blob([\n                imageBuffer\n            ], {\n                type: \"image/png\"\n            }));\n            if (caption) {\n                formData.append(\"caption\", caption);\n            }\n            formData.append(\"access_token\", accessTokenToUse);\n            console.log(\"Uploading image to Facebook:\", {\n                url,\n                hasCaption: !!caption\n            });\n            // Upload to Facebook\n            const response = await fetch(url, {\n                method: \"POST\",\n                body: formData\n            });\n            const responseData = await response.json();\n            if (!response.ok) {\n                let errorMessage = \"Failed to upload image to Facebook\";\n                if (responseData && responseData.error) {\n                    errorMessage = responseData.error.message || responseData.error.type || errorMessage;\n                    // Log additional error details for debugging\n                    console.error(\"Facebook API error details:\", {\n                        type: responseData.error.type,\n                        code: responseData.error.code,\n                        fbtrace_id: responseData.error.fbtrace_id,\n                        message: responseData.error.message\n                    });\n                }\n                throw new Error(\"Facebook API error: \".concat(errorMessage));\n            }\n            console.log(\"Image uploaded to Facebook successfully:\", responseData);\n            return {\n                success: true,\n                data: responseData,\n                facebook_post_id: responseData.post_id\n            };\n        } catch (error) {\n            console.error(\"Error uploading image to Facebook:\", error);\n            // Re-throw with more user-friendly message\n            if (error instanceof Error) {\n                throw new Error(\"Image upload failed: \".concat(error.message));\n            }\n            throw new Error(\"Image upload failed: Unknown error occurred\");\n        }\n    }\n    // Publish post to Facebook (user feed or page)\n    async publishPost(content, pageId, overrideToken) {\n        try {\n            const token = await this.getAccessToken(overrideToken);\n            if (!token) {\n                throw new Error(\"No Facebook access token available. Please reconnect your Facebook account.\");\n            }\n            // Validate the token before attempting to publish\n            const validation = await this.validateToken(token);\n            if (!validation.valid) {\n                throw new Error(\"Facebook access token is invalid: \".concat(validation.error || \"Unknown error\", \". Please reconnect your Facebook account.\"));\n            }\n            let accessTokenToUse = token;\n            let url = \"\".concat(this.baseUrl, \"/me/feed\");\n            // If a page ID is provided, get the page access token\n            if (pageId) {\n                console.log(\"Fetching page access token for page ID:\", pageId);\n                const pageTokenResponse = await fetch(\"\".concat(this.baseUrl, \"/\").concat(pageId, \"?fields=access_token&access_token=\").concat(token));\n                const pageTokenData = await pageTokenResponse.json();\n                if (!pageTokenResponse.ok) {\n                    var _pageTokenData_error;\n                    console.error(\"Error fetching page access token:\", pageTokenData);\n                    const errorMessage = ((_pageTokenData_error = pageTokenData.error) === null || _pageTokenData_error === void 0 ? void 0 : _pageTokenData_error.message) || \"Failed to get page access token\";\n                    throw new Error(\"Failed to get page access token: \".concat(errorMessage));\n                }\n                accessTokenToUse = pageTokenData.access_token;\n                url = \"\".concat(this.baseUrl, \"/\").concat(pageId, \"/feed\");\n                console.log(\"Using page access token for publishing\");\n            } else {\n                console.log(\"Using user access token for publishing to personal feed\");\n            }\n            // Prepare the post data\n            const postData = {\n                message: content,\n                access_token: accessTokenToUse\n            };\n            console.log(\"Publishing to Facebook:\", {\n                url,\n                hasMessage: !!postData.message\n            });\n            // Publish to Facebook\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(postData)\n            });\n            const responseData = await response.json();\n            if (!response.ok) {\n                let errorMessage = \"Failed to publish to Facebook\";\n                if (responseData && responseData.error) {\n                    errorMessage = responseData.error.message || responseData.error.type || errorMessage;\n                    // Log additional error details for debugging\n                    console.error(\"Facebook API error details:\", {\n                        type: responseData.error.type,\n                        code: responseData.error.code,\n                        fbtrace_id: responseData.error.fbtrace_id,\n                        message: responseData.error.message\n                    });\n                }\n                throw new Error(\"Facebook API error: \".concat(errorMessage));\n            }\n            console.log(\"Post published to Facebook successfully:\", responseData);\n            return {\n                success: true,\n                data: responseData,\n                facebook_post_id: responseData.id\n            };\n        } catch (error) {\n            console.error(\"Error publishing to Facebook:\", error);\n            // Re-throw with more user-friendly message\n            if (error instanceof Error) {\n                throw new Error(\"Publish failed: \".concat(error.message));\n            }\n            throw new Error(\"Publish failed: Unknown error occurred\");\n        }\n    }\n    // Test Facebook connection\n    async testConnection() {\n        try {\n            const token = await this.getAccessToken();\n            if (!token) {\n                return {\n                    connected: false\n                };\n            }\n            // Validate token\n            const validation = await this.validateToken(token);\n            if (!validation.valid) {\n                return {\n                    connected: false\n                };\n            }\n            // Get user profile\n            const profile = await this.getProfile();\n            // Get pages\n            const pages = await this.getPages();\n            return {\n                connected: true,\n                user: profile,\n                pages: pages,\n                tokenInfo: validation\n            };\n        } catch (error) {\n            console.error(\"Error testing Facebook connection:\", error);\n            return {\n                connected: false\n            };\n        }\n    }\n    constructor(){\n        this.baseUrl = \"https://graph.facebook.com/v19.0\";\n    }\n}\n// Export singleton instance\nconst facebookService = new FacebookService();\n// Export individual functions for direct use\nconst getFacebookToken = ()=>facebookService.getAccessToken();\nconst getFacebookPages = ()=>facebookService.getPages();\nconst getFacebookProfile = ()=>facebookService.getProfile();\nconst publishToFacebook = (content, pageId)=>facebookService.publishPost(content, pageId);\nconst testFacebookConnection = ()=>facebookService.testConnection();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9mYWNlYm9va1NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7QUFDL0Isd0VBQXdFO0FBRXhCO0FBRWhELE1BQU1DO0lBR0osb0ZBQW9GO0lBQ3BGLE1BQU1DLGVBQWVDLGFBQXNCLEVBQTBCO1FBQ25FLElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDO1lBRVosd0VBQXdFO1lBQ3hFLElBQUlGLGVBQWU7Z0JBQ2pCQyxRQUFRQyxHQUFHLENBQUMsaUNBQWlDRixjQUFjRyxNQUFNO2dCQUNqRSxzQ0FBc0M7Z0JBQ3RDLE1BQU1DLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0w7Z0JBQzVDLElBQUlJLFdBQVdFLEtBQUssRUFBRTtvQkFDcEJMLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPRjtnQkFDVCxPQUFPO29CQUNMQyxRQUFRQyxHQUFHLENBQUMsOEJBQThCRSxXQUFXRyxLQUFLO29CQUMxRCxNQUFNLElBQUlDLE1BQU0sMkJBQTRDLE9BQWpCSixXQUFXRyxLQUFLO2dCQUM3RDtZQUNGO1lBRUEscUVBQXFFO1lBQ3JFLElBQUksSUFBa0IsRUFBYTtnQkFDakMsTUFBTUUsY0FBY0MsYUFBYUMsT0FBTyxDQUFDO2dCQUN6QyxJQUFJRixhQUFhO29CQUNmUixRQUFRQyxHQUFHLENBQUMsd0NBQXdDTyxZQUFZTixNQUFNO29CQUN0RSxrQ0FBa0M7b0JBQ2xDLE1BQU1DLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0k7b0JBQzVDLElBQUlMLFdBQVdFLEtBQUssRUFBRTt3QkFDcEJMLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWixJQUFJRSxXQUFXUSxXQUFXLEVBQUU7NEJBQzFCWCxRQUFRQyxHQUFHLENBQUMsc0JBQXNCRSxXQUFXUSxXQUFXO3dCQUMxRDt3QkFDQSxPQUFPSDtvQkFDVCxPQUFPO3dCQUNMUixRQUFRQyxHQUFHLENBQUMseUNBQXlDRSxX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QUFnQnRELFFBQVEsR0FBRztBQUMxRCxNQUFNeUQscUJBQXFCLElBQU1ILGdCQUFnQjFDLFVBQVUsR0FBRztBQUM5RCxNQUFNOEMsb0JBQW9CLENBQUNqQixTQUFpQnpCLFNBQ2pEc0MsZ0JBQWdCZCxXQUFXLENBQUNDLFNBQVN6QixRQUFRO0FBQ3hDLE1BQU0yQyx5QkFBeUIsSUFBTUwsZ0JBQWdCTixjQUFjLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NlcnZpY2VzL2ZhY2Vib29rU2VydmljZS50cz9lNDY5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZhY2Vib29rIEludGVncmF0aW9uIFNlcnZpY2Vcbi8vIFRoaXMgc2VydmljZSBwcm92aWRlcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBhbGwgRmFjZWJvb2sgb3BlcmF0aW9uc1xuXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcblxuY2xhc3MgRmFjZWJvb2tTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxOS4wJztcblxuICAvLyBHZXQgRmFjZWJvb2sgYWNjZXNzIHRva2VuIGZyb20gc2Vzc2lvbiBvciBsb2NhbFN0b3JhZ2Ugd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgYXN5bmMgZ2V0QWNjZXNzVG9rZW4ob3ZlcnJpZGVUb2tlbj86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnPT09IEdFVCBBQ0NFU1MgVE9LRU4gU1RBUlQgPT09Jyk7XG4gICAgICBcbiAgICAgIC8vIElmIGFuIG92ZXJyaWRlIHRva2VuIGlzIHByb3ZpZGVkIChlLmcuLCBmcm9tIHNlcnZlci1zaWRlIEFQSSksIHVzZSBpdFxuICAgICAgaWYgKG92ZXJyaWRlVG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG92ZXJyaWRlIHRva2VuLCBsZW5ndGg6Jywgb3ZlcnJpZGVUb2tlbi5sZW5ndGgpO1xuICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIHJldHVybmluZ1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZVRva2VuKG92ZXJyaWRlVG9rZW4pO1xuICAgICAgICBpZiAodmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdPdmVycmlkZSB0b2tlbiB2YWxpZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgcmV0dXJuIG92ZXJyaWRlVG9rZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ092ZXJyaWRlIHRva2VuIGlzIGludmFsaWQ6JywgdmFsaWRhdGlvbi5lcnJvcik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG92ZXJyaWRlIHRva2VuOiAke3ZhbGlkYXRpb24uZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGdldCBmcm9tIGxvY2FsU3RvcmFnZSBmaXJzdCAobW9zdCByZWxpYWJsZSBmb3IgY2xpZW50LXNpZGUpXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UsIGxlbmd0aDonLCBzdG9yZWRUb2tlbi5sZW5ndGgpO1xuICAgICAgICAgIC8vIFZhbGlkYXRlIHRva2VuIGJlZm9yZSByZXR1cm5pbmdcbiAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZVRva2VuKHN0b3JlZFRva2VuKTtcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLnBlcm1pc3Npb25zKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBwZXJtaXNzaW9uczonLCB2YWxpZGF0aW9uLnBlcm1pc3Npb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRUb2tlbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JlZCB0b2tlbiBpcyBpbnZhbGlkLCByZW1vdmluZyBpdDonLCB2YWxpZGF0aW9uLmVycm9yKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmYWNlYm9va19hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHVzZXIncyBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGVycm9yOicsIHNlc3Npb25FcnJvcik7XG4gICAgICAgIC8vIERvbid0IHRocm93IGVycm9yLCB0cnkgbG9jYWxTdG9yYWdlIGZhbGxiYWNrXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYWN0aXZlIFN1cGFiYXNlIHNlc3Npb24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZSBzZXNzaW9uIGZvdW5kJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgdGhlIHByb3ZpZGVyIHRva2VuIChGYWNlYm9vayBhY2Nlc3MgdG9rZW4pXG4gICAgICAgIGNvbnN0IGZhY2Vib29rQWNjZXNzVG9rZW4gPSBzZXNzaW9uLnByb3ZpZGVyX3Rva2VuO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZhY2Vib29rQWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gZm91bmQgaW4gU3VwYWJhc2Ugc2Vzc2lvbiwgbGVuZ3RoOicsIGZhY2Vib29rQWNjZXNzVG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIHJldHVybmluZ1xuICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4oZmFjZWJvb2tBY2Nlc3NUb2tlbik7XG4gICAgICAgICAgaWYgKHZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHJldHVybiBmYWNlYm9va0FjY2Vzc1Rva2VuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiB0b2tlbiBpcyBpbnZhbGlkOicsIHZhbGlkYXRpb24uZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBMYXN0IHJlc29ydDogY2hlY2sgbG9jYWxTdG9yYWdlIGFnYWluXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWVyZ2VuY3kgZmFsbGJhY2s6IFRva2VuIGZvdW5kIGluIGxvY2FsU3RvcmFnZSwgbGVuZ3RoOicsIHN0b3JlZFRva2VuLmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZFRva2VuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdObyBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gZm91bmQgYW55d2hlcmUnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIEZhY2Vib29rIGFjY2VzcyB0b2tlbjonLCBlcnJvcik7XG4gICAgICAvLyBUcnkgYWJzb2x1dGUgZmFsbGJhY2tcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Fic29sdXRlIGVtZXJnZW5jeSBmYWxsYmFjazogVG9rZW4gZm91bmQgaW4gbG9jYWxTdG9yYWdlLCBsZW5ndGg6Jywgc3RvcmVkVG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRUb2tlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQWJzb2x1dGUgZmFsbGJhY2sgZmFpbGVkOicsIGZhbGxiYWNrRXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gVmFsaWRhdGUgRmFjZWJvb2sgYWNjZXNzIHRva2VuIHdpdGggZGV0YWlsZWQgaW5mb3JtYXRpb25cbiAgYXN5bmMgdmFsaWRhdGVUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx7dmFsaWQ6IGJvb2xlYW47IHBlcm1pc3Npb25zPzogc3RyaW5nW107IGVycm9yPzogc3RyaW5nfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCwgY2hlY2sgYmFzaWMgdG9rZW4gdmFsaWRpdHlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke3RoaXMuYmFzZVVybH0vbWU/YWNjZXNzX3Rva2VuPSR7dG9rZW59JmZpZWxkcz1pZCxuYW1lLGVtYWlsYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Rva2VuIGludmFsaWQnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIGJhc2ljIHZhbGlkYXRpb24gcGFzc2VzLCBjaGVjayBwZXJtaXNzaW9uc1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgd2hhdCBwZXJtaXNzaW9ucyB0aGUgdG9rZW4gaGFzXG4gICAgICAgIC8vIE5vdGU6IEZvciBkZWJ1Z190b2tlbiwgd2UgbmVlZCB0byB1c2UgdGhlIGFwcCBhY2Nlc3MgdG9rZW4sIGJ1dCBmb3Igc2ltcGxpY2l0eSxcbiAgICAgICAgLy8gd2UnbGwgc2tpcCB0aGlzIGZvciBub3cgYW5kIGp1c3QgcmV0dXJuIHZhbGlkXG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiB2YWxpZGF0aW9uIHBhc3NlZCwgc2tpcHBpbmcgZGV0YWlsZWQgcGVybWlzc2lvbiBjaGVjayBmb3Igbm93Jyk7XG4gICAgICB9IGNhdGNoIChkZWJ1Z0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgY2hlY2sgdG9rZW4gcGVybWlzc2lvbnM6JywgZGVidWdFcnJvcik7XG4gICAgICAgIC8vIFN0aWxsIHJldHVybiB2YWxpZCBzaW5jZSBiYXNpYyB2YWxpZGF0aW9uIHBhc3NlZFxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBGYWNlYm9vayB0b2tlbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdUb2tlbiB2YWxpZGF0aW9uIGZhaWxlZCdcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHVzZXIncyBGYWNlYm9vayBwYWdlcyB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nIGFuZCBmYWxsYmFja3NcbiAgYXN5bmMgZ2V0UGFnZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnPT09IEdFVCBQQUdFUyBNRVRIT0QgU1RBUlQgPT09Jyk7XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBnZXQgdG9rZW4gZnJvbSBzZXNzaW9uIGZpcnN0XG4gICAgICBsZXQgdG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmcm9tIGdldEFjY2Vzc1Rva2VuKCk6JywgdG9rZW4gPyAnRm91bmQnIDogJ05vdCBmb3VuZCcpO1xuICAgICAgfSBjYXRjaCAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIHJldHJpZXZhbCBmYWlsZWQ6Jywgc2Vzc2lvbkVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBkaXJlY3QgbG9jYWxTdG9yYWdlIGFjY2Vzc1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIGRpcmVjdCBsb2NhbFN0b3JhZ2UgYWNjZXNzLi4uJyk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBzdG9yZWRUb2tlbjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBkaXJlY3RseSBpbiBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUgZnJvbSBzZXNzaW9uIG9yIGxvY2FsU3RvcmFnZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgdG9rZW4gZm9yIHBhZ2VzIHJlcXVlc3QnKTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW4gZmlyc3RcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW4pO1xuICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkaXR5IGNoZWNrOicsIHZhbGlkYXRpb24pO1xuICAgICAgXG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gaXMgaW52YWxpZCBvciBleHBpcmVkOiAke3ZhbGlkYXRpb24uZXJyb3J9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRva2VuIGhhcyByZXF1aXJlZCBwZXJtaXNzaW9uc1xuICAgICAgaWYgKHZhbGlkYXRpb24ucGVybWlzc2lvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRQZXJtaXNzaW9ucyA9IFsncGFnZXNfc2hvd19saXN0JywgJ3BhZ2VzX3JlYWRfZW5nYWdlbWVudCcsICdwYWdlc19tYW5hZ2VfcG9zdHMnXTtcbiAgICAgICAgY29uc3QgbWlzc2luZ1Blcm1pc3Npb25zID0gcmVxdWlyZWRQZXJtaXNzaW9ucy5maWx0ZXIoXG4gICAgICAgICAgcGVybSA9PiAhdmFsaWRhdGlvbi5wZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1pc3NpbmdQZXJtaXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1dhcm5pbmc6IFRva2VuIG1pc3NpbmcgcmVxdWlyZWQgcGVybWlzc2lvbnM6JywgbWlzc2luZ1Blcm1pc3Npb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gaGFzIGFsbCByZXF1aXJlZCBwZXJtaXNzaW9ucycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCB1c2VyIHByb2ZpbGUgdG8gY29uZmlybSB0b2tlbiB3b3Jrc1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9tZT9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPWlkLG5hbWUsZW1haWxgXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IHVzZXJSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXVzZXJSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgcHJvZmlsZSBBUEkgZXJyb3I6JywgdXNlckRhdGEpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcih1c2VyRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHVzZXIgcHJvZmlsZScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlIHJldHJpZXZlZDonLCB1c2VyRGF0YS5uYW1lKTtcbiAgICAgIH0gY2F0Y2ggKHVzZXJFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6JywgdXNlckVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgYW55d2F5IGFzIHdlIG1pZ2h0IHN0aWxsIGdldCBwYWdlc1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgcGFnZXMgdXNpbmcgdGhlIHRva2VuXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgRmFjZWJvb2sgcGFnZXMgd2l0aCB0b2tlbi4uLicpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9tZS9hY2NvdW50cz9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPW5hbWUsaWQsY2F0ZWdvcnkscGljdHVyZSxmYW5fY291bnRgXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIEFQSSByZXNwb25zZTonLCBkYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWNlYm9vayBwYWdlcyBBUEkgZXJyb3I6JywgZGF0YSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggRmFjZWJvb2sgcGFnZXMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkaXRpb25hbCBkZWJ1Z2dpbmcgLSBjaGVjayBpZiB3ZSBoYXZlIGFuIGVtcHR5IGRhdGEgYXJyYXlcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGEuZGF0YSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIHJldHJpZXZlZCBzdWNjZXNzZnVsbHk6JywgZGF0YS5kYXRhLmxlbmd0aCk7XG4gICAgICAgIGlmIChkYXRhLmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1dhcm5pbmc6IE5vIHBhZ2VzIGZvdW5kLiBUaGlzIG1pZ2h0IGJlIGR1ZSB0bzonKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMS4gVXNlciBoYXMgbm8gRmFjZWJvb2sgcGFnZXMnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMi4gVG9rZW4gbGFja3MgcGFnZXNfc2hvd19saXN0IHBlcm1pc3Npb24nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMy4gVXNlciBhY2NvdW50IGlzIG5vdCBhIGJ1c2luZXNzIGFjY291bnQgd2l0aCBwYWdlIGFjY2VzcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhLmRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5leHBlY3RlZCByZXNwb25zZSBmb3JtYXQ6JywgZGF0YSk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgRmFjZWJvb2sgcGFnZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHVzZXIncyBGYWNlYm9vayBwcm9maWxlXG4gIGFzeW5jIGdldFByb2ZpbGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gRmFjZWJvb2sgYWNjZXNzIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHt0aGlzLmJhc2VVcmx9L21lP2FjY2Vzc190b2tlbj0ke3Rva2VufSZmaWVsZHM9aWQsbmFtZSxlbWFpbCxwaWN0dXJlYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIEZhY2Vib29rIHByb2ZpbGUnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEZhY2Vib29rIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBsb2FkIGltYWdlIHRvIEZhY2Vib29rXG4gIGFzeW5jIHVwbG9hZEltYWdlKGJhc2U2NEltYWdlOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZyA9ICcnLCBwYWdlSWQ/OiBzdHJpbmcsIG92ZXJyaWRlVG9rZW4/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4ob3ZlcnJpZGVUb2tlbik7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gRmFjZWJvb2sgYWNjZXNzIHRva2VuIGF2YWlsYWJsZS4gUGxlYXNlIHJlY29ubmVjdCB5b3VyIEZhY2Vib29rIGFjY291bnQuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCBhY2Nlc3NUb2tlblRvVXNlID0gdG9rZW47XG4gICAgICBsZXQgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9tZS9waG90b3NgO1xuICAgICAgXG4gICAgICAvLyBJZiBhIHBhZ2UgSUQgaXMgcHJvdmlkZWQsIGdldCB0aGUgcGFnZSBhY2Nlc3MgdG9rZW5cbiAgICAgIGlmIChwYWdlSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBwYWdlIElEOicsIHBhZ2VJZCk7XG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlblJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS8ke3BhZ2VJZH0/ZmllbGRzPWFjY2Vzc190b2tlbiZhY2Nlc3NfdG9rZW49JHt0b2tlbn1gXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwYWdlVG9rZW5EYXRhID0gYXdhaXQgcGFnZVRva2VuUmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFwYWdlVG9rZW5SZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBhZ2UgYWNjZXNzIHRva2VuOicsIHBhZ2VUb2tlbkRhdGEpO1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHBhZ2VUb2tlbkRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgcGFnZSBhY2Nlc3MgdG9rZW4nO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBwYWdlIGFjY2VzcyB0b2tlbjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFjY2Vzc1Rva2VuVG9Vc2UgPSBwYWdlVG9rZW5EYXRhLmFjY2Vzc190b2tlbjtcbiAgICAgICAgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS8ke3BhZ2VJZH0vcGhvdG9zYDtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBpbWFnZSB1cGxvYWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyB1c2VyIGFjY2VzcyB0b2tlbiBmb3IgaW1hZ2UgdXBsb2FkIHRvIHBlcnNvbmFsIGZlZWQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRm9yIEZhY2Vib29rIHBob3RvIHVwbG9hZCwgd2UgbmVlZCB0byBzZW5kIGFzIGZvcm0gZGF0YVxuICAgICAgLy8gRmlyc3QsIGNvbnZlcnQgYmFzZTY0IHRvIGJ1ZmZlciBmb3Igc2VydmVyLXNpZGUgdXNhZ2VcbiAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oYmFzZTY0SW1hZ2UsICdiYXNlNjQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc291cmNlJywgbmV3IEJsb2IoW2ltYWdlQnVmZmVyXSwgeyB0eXBlOiAnaW1hZ2UvcG5nJyB9KSk7XG4gICAgICBpZiAoY2FwdGlvbikge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NhcHRpb24nLCBjYXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYWNjZXNzX3Rva2VuJywgYWNjZXNzVG9rZW5Ub1VzZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRpbmcgaW1hZ2UgdG8gRmFjZWJvb2s6JywgeyB1cmwsIGhhc0NhcHRpb246ICEhY2FwdGlvbiB9KTtcbiAgICAgIFxuICAgICAgLy8gVXBsb2FkIHRvIEZhY2Vib29rXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGFcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gdXBsb2FkIGltYWdlIHRvIEZhY2Vib29rJztcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZSB8fCByZXNwb25zZURhdGEuZXJyb3IudHlwZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgLy8gTG9nIGFkZGl0aW9uYWwgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFjZWJvb2sgQVBJIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VEYXRhLmVycm9yLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIGZidHJhY2VfaWQ6IHJlc3BvbnNlRGF0YS5lcnJvci5mYnRyYWNlX2lkLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnSW1hZ2UgdXBsb2FkZWQgdG8gRmFjZWJvb2sgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgZmFjZWJvb2tfcG9zdF9pZDogcmVzcG9uc2VEYXRhLnBvc3RfaWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZSB0byBGYWNlYm9vazonLCBlcnJvcik7XG4gICAgICAvLyBSZS10aHJvdyB3aXRoIG1vcmUgdXNlci1mcmllbmRseSBtZXNzYWdlXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEltYWdlIHVwbG9hZCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignSW1hZ2UgdXBsb2FkIGZhaWxlZDogVW5rbm93biBlcnJvciBvY2N1cnJlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFB1Ymxpc2ggcG9zdCB0byBGYWNlYm9vayAodXNlciBmZWVkIG9yIHBhZ2UpXG4gIGFzeW5jIHB1Ymxpc2hQb3N0KGNvbnRlbnQ6IHN0cmluZywgcGFnZUlkPzogc3RyaW5nLCBvdmVycmlkZVRva2VuPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKG92ZXJyaWRlVG9rZW4pO1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUuIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIGF0dGVtcHRpbmcgdG8gcHVibGlzaFxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGVUb2tlbih0b2tlbik7XG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gaXMgaW52YWxpZDogJHt2YWxpZGF0aW9uLmVycm9yIHx8ICdVbmtub3duIGVycm9yJ30uIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgYWNjZXNzVG9rZW5Ub1VzZSA9IHRva2VuO1xuICAgICAgbGV0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbWUvZmVlZGA7XG4gICAgICBcbiAgICAgIC8vIElmIGEgcGFnZSBJRCBpcyBwcm92aWRlZCwgZ2V0IHRoZSBwYWdlIGFjY2VzcyB0b2tlblxuICAgICAgaWYgKHBhZ2VJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcGFnZSBhY2Nlc3MgdG9rZW4gZm9yIHBhZ2UgSUQ6JywgcGFnZUlkKTtcbiAgICAgICAgY29uc3QgcGFnZVRva2VuUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHt0aGlzLmJhc2VVcmx9LyR7cGFnZUlkfT9maWVsZHM9YWNjZXNzX3Rva2VuJmFjY2Vzc190b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlbkRhdGEgPSBhd2FpdCBwYWdlVG9rZW5SZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBhZ2VUb2tlblJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGFnZSBhY2Nlc3MgdG9rZW46JywgcGFnZVRva2VuRGF0YSk7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcGFnZVRva2VuRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGdldCBwYWdlIGFjY2VzcyB0b2tlbic7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHBhZ2UgYWNjZXNzIHRva2VuOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYWNjZXNzVG9rZW5Ub1VzZSA9IHBhZ2VUb2tlbkRhdGEuYWNjZXNzX3Rva2VuO1xuICAgICAgICB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9LyR7cGFnZUlkfS9mZWVkYDtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBwdWJsaXNoaW5nJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgdXNlciBhY2Nlc3MgdG9rZW4gZm9yIHB1Ymxpc2hpbmcgdG8gcGVyc29uYWwgZmVlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIHRoZSBwb3N0IGRhdGFcbiAgICAgIGNvbnN0IHBvc3REYXRhOiBhbnkgPSB7XG4gICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXG4gICAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW5Ub1VzZVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1B1Ymxpc2hpbmcgdG8gRmFjZWJvb2s6JywgeyB1cmwsIGhhc01lc3NhZ2U6ICEhcG9zdERhdGEubWVzc2FnZSB9KTtcbiAgICAgIFxuICAgICAgLy8gUHVibGlzaCB0byBGYWNlYm9va1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBvc3REYXRhKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBwdWJsaXNoIHRvIEZhY2Vib29rJztcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZSB8fCByZXNwb25zZURhdGEuZXJyb3IudHlwZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgLy8gTG9nIGFkZGl0aW9uYWwgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFjZWJvb2sgQVBJIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VEYXRhLmVycm9yLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIGZidHJhY2VfaWQ6IHJlc3BvbnNlRGF0YS5lcnJvci5mYnRyYWNlX2lkLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUG9zdCBwdWJsaXNoZWQgdG8gRmFjZWJvb2sgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgZmFjZWJvb2tfcG9zdF9pZDogcmVzcG9uc2VEYXRhLmlkXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwdWJsaXNoaW5nIHRvIEZhY2Vib29rOicsIGVycm9yKTtcbiAgICAgIC8vIFJlLXRocm93IHdpdGggbW9yZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUHVibGlzaCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignUHVibGlzaCBmYWlsZWQ6IFVua25vd24gZXJyb3Igb2NjdXJyZWQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBUZXN0IEZhY2Vib29rIGNvbm5lY3Rpb25cbiAgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx7IGNvbm5lY3RlZDogYm9vbGVhbjsgdXNlcj86IGFueTsgcGFnZXM/OiBhbnlbXTsgdG9rZW5JbmZvPzogYW55IH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW4pO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHVzZXIgcHJvZmlsZVxuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0UHJvZmlsZSgpO1xuICAgICAgXG4gICAgICAvLyBHZXQgcGFnZXNcbiAgICAgIGNvbnN0IHBhZ2VzID0gYXdhaXQgdGhpcy5nZXRQYWdlcygpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIHVzZXI6IHByb2ZpbGUsXG4gICAgICAgIHBhZ2VzOiBwYWdlcyxcbiAgICAgICAgdG9rZW5JbmZvOiB2YWxpZGF0aW9uXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0ZXN0aW5nIEZhY2Vib29rIGNvbm5lY3Rpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiBmYWxzZSB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgZmFjZWJvb2tTZXJ2aWNlID0gbmV3IEZhY2Vib29rU2VydmljZSgpO1xuXG4vLyBFeHBvcnQgaW5kaXZpZHVhbCBmdW5jdGlvbnMgZm9yIGRpcmVjdCB1c2VcbmV4cG9ydCBjb25zdCBnZXRGYWNlYm9va1Rva2VuID0gKCkgPT4gZmFjZWJvb2tTZXJ2aWNlLmdldEFjY2Vzc1Rva2VuKCk7XG5leHBvcnQgY29uc3QgZ2V0RmFjZWJvb2tQYWdlcyA9ICgpID0+IGZhY2Vib29rU2VydmljZS5nZXRQYWdlcygpO1xuZXhwb3J0IGNvbnN0IGdldEZhY2Vib29rUHJvZmlsZSA9ICgpID0+IGZhY2Vib29rU2VydmljZS5nZXRQcm9maWxlKCk7XG5leHBvcnQgY29uc3QgcHVibGlzaFRvRmFjZWJvb2sgPSAoY29udGVudDogc3RyaW5nLCBwYWdlSWQ/OiBzdHJpbmcpID0+IFxuICBmYWNlYm9va1NlcnZpY2UucHVibGlzaFBvc3QoY29udGVudCwgcGFnZUlkKTtcbmV4cG9ydCBjb25zdCB0ZXN0RmFjZWJvb2tDb25uZWN0aW9uID0gKCkgPT4gZmFjZWJvb2tTZXJ2aWNlLnRlc3RDb25uZWN0aW9uKCk7Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwiRmFjZWJvb2tTZXJ2aWNlIiwiZ2V0QWNjZXNzVG9rZW4iLCJvdmVycmlkZVRva2VuIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZVRva2VuIiwidmFsaWQiLCJlcnJvciIsIkVycm9yIiwic3RvcmVkVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGVybWlzc2lvbnMiLCJyZW1vdmVJdGVtIiwiZGF0YSIsInNlc3Npb24iLCJzZXNzaW9uRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImZhY2Vib29rQWNjZXNzVG9rZW4iLCJwcm92aWRlcl90b2tlbiIsImZhbGxiYWNrRXJyb3IiLCJ0b2tlbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJiYXNlVXJsIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwibWVzc2FnZSIsImRlYnVnRXJyb3IiLCJnZXRQYWdlcyIsInJlcXVpcmVkUGVybWlzc2lvbnMiLCJtaXNzaW5nUGVybWlzc2lvbnMiLCJmaWx0ZXIiLCJwZXJtIiwiaW5jbHVkZXMiLCJ1c2VyUmVzcG9uc2UiLCJ1c2VyRGF0YSIsIm5hbWUiLCJ1c2VyRXJyb3IiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRQcm9maWxlIiwidXBsb2FkSW1hZ2UiLCJiYXNlNjRJbWFnZSIsImNhcHRpb24iLCJwYWdlSWQiLCJhY2Nlc3NUb2tlblRvVXNlIiwidXJsIiwicGFnZVRva2VuUmVzcG9uc2UiLCJwYWdlVG9rZW5EYXRhIiwiZXJyb3JNZXNzYWdlIiwiYWNjZXNzX3Rva2VuIiwiaW1hZ2VCdWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIkJsb2IiLCJ0eXBlIiwiaGFzQ2FwdGlvbiIsIm1ldGhvZCIsImJvZHkiLCJyZXNwb25zZURhdGEiLCJjb2RlIiwiZmJ0cmFjZV9pZCIsInN1Y2Nlc3MiLCJmYWNlYm9va19wb3N0X2lkIiwicG9zdF9pZCIsInB1Ymxpc2hQb3N0IiwiY29udGVudCIsInBvc3REYXRhIiwiaGFzTWVzc2FnZSIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJ0ZXN0Q29ubmVjdGlvbiIsImNvbm5lY3RlZCIsInByb2ZpbGUiLCJwYWdlcyIsInVzZXIiLCJ0b2tlbkluZm8iLCJmYWNlYm9va1NlcnZpY2UiLCJnZXRGYWNlYm9va1Rva2VuIiwiZ2V0RmFjZWJvb2tQYWdlcyIsImdldEZhY2Vib29rUHJvZmlsZSIsInB1Ymxpc2hUb0ZhY2Vib29rIiwidGVzdEZhY2Vib29rQ29ubmVjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/facebookService.ts\n"));

/***/ })

}]);