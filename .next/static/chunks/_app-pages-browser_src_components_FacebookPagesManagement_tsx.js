"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_components_FacebookPagesManagement_tsx"],{

/***/ "(app-pages-browser)/./src/components/FacebookPagesDebug.tsx":
/*!***********************************************!*\
  !*** ./src/components/FacebookPagesDebug.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FacebookPagesDebug; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// Facebook Pages Debug Component\n// This component helps diagnose Facebook pages loading issues\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction FacebookPagesDebug() {\n    _s();\n    const [debugInfo, setDebugInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        token: null,\n        tokenValid: null,\n        userProfile: null,\n        pages: null,\n        error: null,\n        loading: false\n    });\n    const testFacebookToken = async ()=>{\n        setDebugInfo((prev)=>({\n                ...prev,\n                loading: true,\n                error: null\n            }));\n        try {\n            // Get token from localStorage\n            const token = localStorage.getItem(\"facebook_access_token\");\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    token\n                }));\n            if (!token) {\n                setDebugInfo((prev)=>({\n                        ...prev,\n                        error: \"No Facebook token found\",\n                        loading: false\n                    }));\n                return;\n            }\n            // Test token validity\n            console.log(\"Testing token validity...\");\n            const userResponse = await fetch(\"https://graph.facebook.com/v19.0/me?access_token=\".concat(token, \"&fields=id,name,email\"));\n            const userData = await userResponse.json();\n            console.log(\"User data response:\", userData);\n            if (!userResponse.ok) {\n                setDebugInfo((prev)=>{\n                    var _userData_error;\n                    return {\n                        ...prev,\n                        tokenValid: false,\n                        error: ((_userData_error = userData.error) === null || _userData_error === void 0 ? void 0 : _userData_error.message) || \"Invalid token\",\n                        loading: false\n                    };\n                });\n                return;\n            }\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    tokenValid: true,\n                    userProfile: userData\n                }));\n            // Test pages fetch\n            console.log(\"Fetching Facebook pages...\");\n            const pagesResponse = await fetch(\"https://graph.facebook.com/v19.0/me/accounts?access_token=\".concat(token, \"&fields=name,id,category,picture,fan_count\"));\n            const pagesData = await pagesResponse.json();\n            console.log(\"Pages data response:\", pagesData);\n            if (!pagesResponse.ok) {\n                setDebugInfo((prev)=>{\n                    var _pagesData_error;\n                    return {\n                        ...prev,\n                        error: ((_pagesData_error = pagesData.error) === null || _pagesData_error === void 0 ? void 0 : _pagesData_error.message) || \"Failed to fetch pages\",\n                        loading: false\n                    };\n                });\n                return;\n            }\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    pages: pagesData.data || [],\n                    loading: false\n                }));\n        } catch (error) {\n            console.error(\"Debug error:\", error);\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    error: error.message,\n                    loading: false\n                }));\n        }\n    };\n    const clearFacebookTokens = ()=>{\n        localStorage.removeItem(\"facebook_access_token\");\n        localStorage.removeItem(\"facebook_auth_completed\");\n        setDebugInfo({\n            token: null,\n            tokenValid: null,\n            userProfile: null,\n            pages: null,\n            error: null,\n            loading: false\n        });\n    };\n    const reauthenticateWithFacebook = ()=>{\n        const redirectUrl = \"http://localhost:3001/auth/callback\";\n        window.location.href = \"https://qfpvsyhtijwxkmyrqswa.supabase.co/auth/v1/authorize?provider=facebook&redirect_to=\".concat(redirectUrl, \"&scopes=pages_show_list,pages_read_engagement,pages_manage_posts,pages_manage_metadata,pages_read_user_content\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-2xl font-bold text-white mb-6\",\n                children: \"Facebook Pages Debug\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                lineNumber: 89,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: testFacebookToken,\n                                disabled: debugInfo.loading,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg disabled:opacity-50\",\n                                children: debugInfo.loading ? \"Testing...\" : \"Test Facebook Connection\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 94,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearFacebookTokens,\n                                className: \"bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 rounded-lg\",\n                                children: \"Clear Tokens\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: reauthenticateWithFacebook,\n                                className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg\",\n                                children: \"Re-authenticate\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"Token Status\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Token Present: \",\n                                            debugInfo.token ? \"Yes\" : \"No\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Token Valid: \",\n                                            debugInfo.tokenValid === null ? \"Unknown\" : debugInfo.tokenValid ? \"Yes\" : \"No\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 122,\n                                        columnNumber: 13\n                                    }, this),\n                                    debugInfo.token && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Token Preview: \",\n                                            debugInfo.token.substring(0, 30),\n                                            \"...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 124,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 9\n                    }, this),\n                    debugInfo.userProfile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"User Profile\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 132,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Name: \",\n                                            debugInfo.userProfile.name\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"ID: \",\n                                            debugInfo.userProfile.id\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 135,\n                                        columnNumber: 15\n                                    }, this),\n                                    debugInfo.userProfile.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Email: \",\n                                            debugInfo.userProfile.email\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 131,\n                        columnNumber: 11\n                    }, this),\n                    debugInfo.pages !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"Pages Status\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 146,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-slate-400\",\n                                        children: [\n                                            \"Pages Found: \",\n                                            debugInfo.pages.length\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 15\n                                    }, this),\n                                    debugInfo.pages.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-slate-400 mb-1\",\n                                                children: \"Pages List:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 151,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                className: \"list-disc list-inside text-slate-400\",\n                                                children: debugInfo.pages.map((page, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: [\n                                                            page.name,\n                                                            \" (\",\n                                                            page.category,\n                                                            \")\"\n                                                        ]\n                                                    }, index, true, {\n                                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                        lineNumber: 154,\n                                                        columnNumber: 23\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 150,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-yellow-400\",\n                                                children: \"⚠ No Facebook pages found\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 160,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-slate-400 text-sm mt-1\",\n                                                children: \"This could mean you don't have any Facebook pages connected to your account.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                                lineNumber: 161,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 159,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 147,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 145,\n                        columnNumber: 11\n                    }, this),\n                    debugInfo.error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-500/20 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-red-300 mb-2\",\n                                children: \"Error\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-red-300 text-sm\",\n                                children: debugInfo.error\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 174,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-slate-900/50 p-4 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-white mb-2\",\n                                children: \"Troubleshooting Guide\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 180,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-slate-400 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If no pages found: Create a Facebook Page or use business account\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 182,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If token invalid: Re-authenticate with Facebook\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 183,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If permissions denied: Grant all requested scopes\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 184,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• If persistent issues: Check Facebook Developer Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                        lineNumber: 185,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n                lineNumber: 91,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesDebug.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, this);\n}\n_s(FacebookPagesDebug, \"y5WZarhvX6Mz63evWDeqPVA0vVw=\");\n_c = FacebookPagesDebug;\nvar _c;\n$RefreshReg$(_c, \"FacebookPagesDebug\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZhY2Vib29rUGFnZXNEZWJ1Zy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGlDQUFpQztBQUNqQyw4REFBOEQ7OztBQUlsQjtBQUU3QixTQUFTQzs7SUFDdEIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdILCtDQUFRQSxDQUFDO1FBQ3pDSSxPQUFPO1FBQ1BDLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsU0FBUztJQUNYO0lBRUEsTUFBTUMsb0JBQW9CO1FBQ3hCUCxhQUFhUSxDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7Z0JBQUVGLFNBQVM7Z0JBQU1ELE9BQU87WUFBSztRQUU1RCxJQUFJO1lBQ0YsOEJBQThCO1lBQzlCLE1BQU1KLFFBQVFRLGFBQWFDLE9BQU8sQ0FBQztZQUNuQ1YsYUFBYVEsQ0FBQUEsT0FBUztvQkFBRSxHQUFHQSxJQUFJO29CQUFFUDtnQkFBTTtZQUV2QyxJQUFJLENBQUNBLE9BQU87Z0JBQ1ZELGFBQWFRLENBQUFBLE9BQVM7d0JBQUUsR0FBR0EsSUFBSTt3QkFBRUgsT0FBTzt3QkFBMkJDLFNBQVM7b0JBQU07Z0JBQ2xGO1lBQ0Y7WUFFQSxzQkFBc0I7WUFDdEJLLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU1DLGVBQWUsTUFBTUMsTUFDekIsb0RBQTBELE9BQU5iLE9BQU07WUFHNUQsTUFBTWMsV0FBVyxNQUFNRixhQUFhRyxJQUFJO1lBQ3hDTCxRQUFRQyxHQUFHLENBQUMsdUJBQXVCRztZQUVuQyxJQUFJLENBQUNGLGFBQWFJLEVBQUUsRUFBRTtnQkFDcEJqQixhQUFhUSxDQUFBQTt3QkFBOENPOzJCQUFyQzt3QkFBRSxHQUFHUCxJQUFJO3dCQUFFTixZQUFZO3dCQUFPRyxPQUFPVSxFQUFBQSxrQkFBQUEsU0FBU1YsS0FBSyxjQUFkVSxzQ0FBQUEsZ0JBQWdCRyxPQUFPLEtBQUk7d0JBQWlCWixTQUFTO29CQUFN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d0I7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDSztnQ0FBR0wsV0FBVTswQ0FBZ0M7Ozs7OzswQ0FDOUMsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ007a0RBQUU7Ozs7OztrREFDSCw4REFBQ0E7a0RBQUU7Ozs7OztrREFDSCw4REFBQ0E7a0RBQUU7Ozs7OztrREFDSCw4REFBQ0E7a0RBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1mO0dBdkx3QnRDO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0ZhY2Vib29rUGFnZXNEZWJ1Zy50c3g/OTFmMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGYWNlYm9vayBQYWdlcyBEZWJ1ZyBDb21wb25lbnRcbi8vIFRoaXMgY29tcG9uZW50IGhlbHBzIGRpYWdub3NlIEZhY2Vib29rIHBhZ2VzIGxvYWRpbmcgaXNzdWVzXG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmFjZWJvb2tQYWdlc0RlYnVnKCkge1xuICBjb25zdCBbZGVidWdJbmZvLCBzZXREZWJ1Z0luZm9dID0gdXNlU3RhdGUoe1xuICAgIHRva2VuOiBudWxsLFxuICAgIHRva2VuVmFsaWQ6IG51bGwsXG4gICAgdXNlclByb2ZpbGU6IG51bGwsXG4gICAgcGFnZXM6IG51bGwsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgbG9hZGluZzogZmFsc2VcbiAgfSk7XG5cbiAgY29uc3QgdGVzdEZhY2Vib29rVG9rZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSkpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgdG9rZW4gfSkpO1xuICAgICAgXG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiAnTm8gRmFjZWJvb2sgdG9rZW4gZm91bmQnLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVGVzdCB0b2tlbiB2YWxpZGl0eVxuICAgICAgY29uc29sZS5sb2coJ1Rlc3RpbmcgdG9rZW4gdmFsaWRpdHkuLi4nKTtcbiAgICAgIGNvbnN0IHVzZXJSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE5LjAvbWU/YWNjZXNzX3Rva2VuPSR7dG9rZW59JmZpZWxkcz1pZCxuYW1lLGVtYWlsYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCB1c2VyUmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgZGF0YSByZXNwb25zZTonLCB1c2VyRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghdXNlclJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIHRva2VuVmFsaWQ6IGZhbHNlLCBlcnJvcjogdXNlckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ludmFsaWQgdG9rZW4nLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgdG9rZW5WYWxpZDogdHJ1ZSwgdXNlclByb2ZpbGU6IHVzZXJEYXRhIH0pKTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCBwYWdlcyBmZXRjaFxuICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIEZhY2Vib29rIHBhZ2VzLi4uJyk7XG4gICAgICBjb25zdCBwYWdlc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTkuMC9tZS9hY2NvdW50cz9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPW5hbWUsaWQsY2F0ZWdvcnkscGljdHVyZSxmYW5fY291bnRgXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBwYWdlc0RhdGEgPSBhd2FpdCBwYWdlc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQYWdlcyBkYXRhIHJlc3BvbnNlOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghcGFnZXNSZXNwb25zZS5vaykge1xuICAgICAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogcGFnZXNEYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggcGFnZXMnLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgcGFnZXM6IHBhZ2VzRGF0YS5kYXRhIHx8IFtdLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRGVidWcgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIGxvYWRpbmc6IGZhbHNlIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2xlYXJGYWNlYm9va1Rva2VucyA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2ZhY2Vib29rX2F1dGhfY29tcGxldGVkJyk7XG4gICAgc2V0RGVidWdJbmZvKHtcbiAgICAgIHRva2VuOiBudWxsLFxuICAgICAgdG9rZW5WYWxpZDogbnVsbCxcbiAgICAgIHVzZXJQcm9maWxlOiBudWxsLFxuICAgICAgcGFnZXM6IG51bGwsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcmVhdXRoZW50aWNhdGVXaXRoRmFjZWJvb2sgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVkaXJlY3RVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAxL2F1dGgvY2FsbGJhY2snO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYGh0dHBzOi8vcWZwdnN5aHRpand4a215cnFzd2Euc3VwYWJhc2UuY28vYXV0aC92MS9hdXRob3JpemU/cHJvdmlkZXI9ZmFjZWJvb2smcmVkaXJlY3RfdG89JHtyZWRpcmVjdFVybH0mc2NvcGVzPXBhZ2VzX3Nob3dfbGlzdCxwYWdlc19yZWFkX2VuZ2FnZW1lbnQscGFnZXNfbWFuYWdlX3Bvc3RzLHBhZ2VzX21hbmFnZV9tZXRhZGF0YSxwYWdlc19yZWFkX3VzZXJfY29udGVudGA7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCBwLTYgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBtYXgtdy00eGxcIj5cbiAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi02XCI+RmFjZWJvb2sgUGFnZXMgRGVidWc8L2gyPlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICB7LyogRGVidWcgQ29udHJvbHMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtM1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3Rlc3RGYWNlYm9va1Rva2VufVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2RlYnVnSW5mby5sb2FkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtkZWJ1Z0luZm8ubG9hZGluZyA/ICdUZXN0aW5nLi4uJyA6ICdUZXN0IEZhY2Vib29rIENvbm5lY3Rpb24nfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyRmFjZWJvb2tUb2tlbnN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBDbGVhciBUb2tlbnNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtyZWF1dGhlbnRpY2F0ZVdpdGhGYWNlYm9va31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBSZS1hdXRoZW50aWNhdGVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogVG9rZW4gU3RhdHVzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMC81MCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItMlwiPlRva2VuIFN0YXR1czwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMFwiPlRva2VuIFByZXNlbnQ6IHtkZWJ1Z0luZm8udG9rZW4gPyAnWWVzJyA6ICdObyd9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5Ub2tlbiBWYWxpZDoge2RlYnVnSW5mby50b2tlblZhbGlkID09PSBudWxsID8gJ1Vua25vd24nIDogZGVidWdJbmZvLnRva2VuVmFsaWQgPyAnWWVzJyA6ICdObyd9PC9wPlxuICAgICAgICAgICAge2RlYnVnSW5mby50b2tlbiAmJiAoXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+VG9rZW4gUHJldmlldzoge2RlYnVnSW5mby50b2tlbi5zdWJzdHJpbmcoMCwgMzApfS4uLjwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFVzZXIgUHJvZmlsZSAqL31cbiAgICAgICAge2RlYnVnSW5mby51c2VyUHJvZmlsZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS05MDAvNTAgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItMlwiPlVzZXIgUHJvZmlsZTwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5OYW1lOiB7ZGVidWdJbmZvLnVzZXJQcm9maWxlLm5hbWV9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMFwiPklEOiB7ZGVidWdJbmZvLnVzZXJQcm9maWxlLmlkfTwvcD5cbiAgICAgICAgICAgICAge2RlYnVnSW5mby51c2VyUHJvZmlsZS5lbWFpbCAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5FbWFpbDoge2RlYnVnSW5mby51c2VyUHJvZmlsZS5lbWFpbH08L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBQYWdlcyBTdGF0dXMgKi99XG4gICAgICAgIHtkZWJ1Z0luZm8ucGFnZXMgIT09IG51bGwgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtOTAwLzUwIHAtNCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIG1iLTJcIj5QYWdlcyBTdGF0dXM8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+UGFnZXMgRm91bmQ6IHtkZWJ1Z0luZm8ucGFnZXMubGVuZ3RofTwvcD5cbiAgICAgICAgICAgICAge2RlYnVnSW5mby5wYWdlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgbWItMVwiPlBhZ2VzIExpc3Q6PC9wPlxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZGlzYyBsaXN0LWluc2lkZSB0ZXh0LXNsYXRlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7ZGVidWdJbmZvLnBhZ2VzLm1hcCgocGFnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+e3BhZ2UubmFtZX0gKHtwYWdlLmNhdGVnb3J5fSk8L2xpPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy00MDBcIj7imqAgTm8gRmFjZWJvb2sgcGFnZXMgZm91bmQ8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgVGhpcyBjb3VsZCBtZWFuIHlvdSBkb24ndCBoYXZlIGFueSBGYWNlYm9vayBwYWdlcyBjb25uZWN0ZWQgdG8geW91ciBhY2NvdW50LlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogRXJyb3IgRGlzcGxheSAqL31cbiAgICAgICAge2RlYnVnSW5mby5lcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAwLzIwIHAtNCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXJlZC0zMDAgbWItMlwiPkVycm9yPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTMwMCB0ZXh0LXNtXCI+e2RlYnVnSW5mby5lcnJvcn08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogVHJvdWJsZXNob290aW5nIEd1aWRlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMC81MCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItMlwiPlRyb3VibGVzaG9vdGluZyBHdWlkZTwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNDAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHA+4oCiIElmIG5vIHBhZ2VzIGZvdW5kOiBDcmVhdGUgYSBGYWNlYm9vayBQYWdlIG9yIHVzZSBidXNpbmVzcyBhY2NvdW50PC9wPlxuICAgICAgICAgICAgPHA+4oCiIElmIHRva2VuIGludmFsaWQ6IFJlLWF1dGhlbnRpY2F0ZSB3aXRoIEZhY2Vib29rPC9wPlxuICAgICAgICAgICAgPHA+4oCiIElmIHBlcm1pc3Npb25zIGRlbmllZDogR3JhbnQgYWxsIHJlcXVlc3RlZCBzY29wZXM8L3A+XG4gICAgICAgICAgICA8cD7igKIgSWYgcGVyc2lzdGVudCBpc3N1ZXM6IENoZWNrIEZhY2Vib29rIERldmVsb3BlciBEYXNoYm9hcmQ8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwiRmFjZWJvb2tQYWdlc0RlYnVnIiwiZGVidWdJbmZvIiwic2V0RGVidWdJbmZvIiwidG9rZW4iLCJ0b2tlblZhbGlkIiwidXNlclByb2ZpbGUiLCJwYWdlcyIsImVycm9yIiwibG9hZGluZyIsInRlc3RGYWNlYm9va1Rva2VuIiwicHJldiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwidXNlclJlc3BvbnNlIiwiZmV0Y2giLCJ1c2VyRGF0YSIsImpzb24iLCJvayIsIm1lc3NhZ2UiLCJwYWdlc1Jlc3BvbnNlIiwicGFnZXNEYXRhIiwiZGF0YSIsImNsZWFyRmFjZWJvb2tUb2tlbnMiLCJyZW1vdmVJdGVtIiwicmVhdXRoZW50aWNhdGVXaXRoRmFjZWJvb2siLCJyZWRpcmVjdFVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiaDMiLCJwIiwic3Vic3RyaW5nIiwibmFtZSIsImlkIiwiZW1haWwiLCJsZW5ndGgiLCJ1bCIsIm1hcCIsInBhZ2UiLCJpbmRleCIsImxpIiwiY2F0ZWdvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FacebookPagesDebug.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/FacebookPagesManagement.tsx":
/*!****************************************************!*\
  !*** ./src/components/FacebookPagesManagement.tsx ***!
  \****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FacebookPagesManagement; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _services_facebookService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/facebookService */ \"(app-pages-browser)/./src/services/facebookService.ts\");\n/* harmony import */ var _components_FacebookPagesDebug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/FacebookPagesDebug */ \"(app-pages-browser)/./src/components/FacebookPagesDebug.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction FacebookPagesManagement() {\n    _s();\n    const [facebookToken, setFacebookToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [facebookPages, setFacebookPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [authError, setAuthError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [connectionStatus, setConnectionStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"testing\");\n    const [showDebug, setShowDebug] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchFacebookData = async ()=>{\n            try {\n                console.log(\"Fetching Facebook data...\");\n                setLoading(true);\n                setError(null);\n                setAuthError(null);\n                // Check if we have a Facebook token at all\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (!storedToken) {\n                    console.log(\"No Facebook token found in localStorage\");\n                    setConnectionStatus(\"disconnected\");\n                    setAuthError(\"No Facebook access token found. Please connect your Facebook account.\");\n                    setLoading(false);\n                    return;\n                }\n                console.log(\"Facebook token found in localStorage, length:\", storedToken.length);\n                // Test Facebook connection first\n                setConnectionStatus(\"testing\");\n                const connectionResult = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.testConnection();\n                if (!connectionResult.connected) {\n                    console.log(\"Not connected to Facebook\");\n                    setConnectionStatus(\"disconnected\");\n                    if (connectionResult.tokenInfo && !connectionResult.tokenInfo.valid) {\n                        setAuthError(\"Facebook token is invalid: \".concat(connectionResult.tokenInfo.error || \"Unknown error\", \". Please reconnect your Facebook account.\"));\n                    } else {\n                        setAuthError(\"Unable to connect to Facebook. Please try reconnecting your account.\");\n                    }\n                    setLoading(false);\n                    return;\n                }\n                setConnectionStatus(\"connected\");\n                console.log(\"Connected to Facebook, fetching token...\");\n                // Get Facebook token\n                const token = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.getAccessToken();\n                if (token) {\n                    setFacebookToken(token);\n                    console.log(\"Token retrieved, fetching pages...\");\n                    // Fetch Facebook pages\n                    const pages = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.getPages();\n                    setFacebookPages(pages);\n                    console.log(\"Pages fetched:\", pages.length);\n                    // If we have no pages, show a specific message\n                    if (pages.length === 0) {\n                        console.log(\"No pages found for this Facebook account\");\n                        setAuthError(\"No Facebook pages found. This could mean:\\n\" + \"1. Your Facebook account is a personal account without business pages\\n\" + \"2. Your token lacks pages_show_list permission\\n\" + \"3. You don't have any Facebook pages\\n\\n\" + \"Try reconnecting your Facebook account to ensure proper permissions.\");\n                    }\n                } else {\n                    console.log(\"No token found\");\n                    setAuthError(\"No Facebook access token found. Please reconnect your Facebook account.\");\n                }\n            } catch (err) {\n                console.error(\"Error fetching Facebook data:\", err);\n                setAuthError(err.message || \"Failed to fetch Facebook data. Please try reconnecting your account.\");\n                setConnectionStatus(\"disconnected\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchFacebookData();\n    }, []);\n    const handleConnectFacebook = async ()=>{\n        try {\n            // Use localhost:3001 to match our current development server\n            const redirectUrl = \"http://localhost:3001/auth/callback\";\n            // Redirect to Supabase OAuth\n            window.location.href = \"https://qfpvsyhtijwxkmyrqswa.supabase.co/auth/v1/authorize?provider=facebook&redirect_to=\".concat(redirectUrl, \"&scopes=pages_show_list,pages_read_engagement,pages_manage_posts,pages_manage_metadata,pages_read_user_content\");\n        } catch (err) {\n            console.error(\"Facebook OAuth error:\", err);\n            setError(\"Failed to initiate Facebook login\");\n        }\n    };\n    const handleTestConnection = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // First, do a basic test\n            const result = await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.testConnection();\n            if (result.connected) {\n                setConnectionStatus(\"connected\");\n                setFacebookToken(await _services_facebookService__WEBPACK_IMPORTED_MODULE_3__.facebookService.getAccessToken());\n                setFacebookPages(result.pages || []);\n                alert(\"Successfully connected to Facebook!\");\n            } else {\n                setConnectionStatus(\"disconnected\");\n                setError(\"not_connected\");\n            }\n        } catch (err) {\n            console.error(\"Error testing connection:\", err);\n            setError(err.message || \"Failed to test connection\");\n            setConnectionStatus(\"disconnected\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleDebugConnection = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // Get token from localStorage\n            const token = localStorage.getItem(\"facebook_access_token\");\n            if (!token) {\n                alert(\"No Facebook token found in localStorage. Please connect to Facebook first.\");\n                setLoading(false);\n                return;\n            }\n            // Call the debug API endpoint\n            const response = await fetch(\"/api/facebook/debug\", {\n                method: \"GET\",\n                headers: {\n                    \"x-facebook-token\": token\n                }\n            });\n            const debugData = await response.json();\n            if (response.ok) {\n                // Display debug information in a more user-friendly way\n                let debugMessage = \"Facebook Debug Information:\\n\\n\";\n                debugMessage += \"Session exists: \".concat(debugData.sessionExists ? \"Yes\" : \"No\", \"\\n\");\n                debugMessage += \"Token from session: \".concat(debugData.facebookTokenFromSession ? \"Yes\" : \"No\", \"\\n\");\n                debugMessage += \"Token from header: \".concat(debugData.facebookTokenFromHeader ? \"Yes\" : \"No\", \"\\n\");\n                if (debugData.tokenValidation) {\n                    debugMessage += \"Token valid: \".concat(debugData.tokenValidation.isValid ? \"Yes\" : \"No\", \"\\n\");\n                }\n                debugMessage += \"User profile accessible: \".concat(debugData.userProfileAccessible ? \"Yes\" : \"No\", \"\\n\");\n                if (debugData.userProfile) {\n                    debugMessage += \"User: \".concat(debugData.userProfile.name, \" (ID: \").concat(debugData.userProfile.id, \")\\n\");\n                }\n                debugMessage += \"Pages accessible: \".concat(debugData.pagesAccessible ? \"Yes\" : \"No\", \"\\n\");\n                debugMessage += \"Pages count: \".concat(debugData.pagesCount || 0, \"\\n\");\n                if (debugData.pagesCount === 0 && debugData.pagesEmptyReasons) {\n                    debugMessage += \"\\nPossible reasons for no pages:\\n\";\n                    debugData.pagesEmptyReasons.forEach((reason, index)=>{\n                        debugMessage += \"\".concat(index + 1, \". \").concat(reason, \"\\n\");\n                    });\n                }\n                if (debugData.tokenTestError) {\n                    debugMessage += \"\\nToken test error: \".concat(debugData.tokenTestError, \"\\n\");\n                }\n                alert(debugMessage);\n            } else {\n                alert(\"Debug API error: \".concat(debugData.error || \"Unknown error\"));\n            }\n        } catch (err) {\n            console.error(\"Error debugging connection:\", err);\n            alert(\"Error debugging connection: \".concat(err.message || \"Unknown error\"));\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-6\",\n                    children: \"Facebook Pages\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 202,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-slate-400\",\n                    children: \"Loading Facebook pages...\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n            lineNumber: 201,\n            columnNumber: 7\n        }, this);\n    }\n    if (error === \"not_connected\" || connectionStatus === \"disconnected\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-6\",\n                    children: \"Facebook Pages\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 211,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-yellow-400 mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-16 h-16 mx-auto\",\n                                    fill: \"currentColor\",\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl font-semibold text-white mb-2\",\n                                children: \"Connect to Facebook\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 219,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-slate-400 mb-6\",\n                                children: \"Connect your Facebook account to manage your pages and post content.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 220,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleConnectFacebook,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg flex items-center justify-center mx-auto mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5 mr-2\",\n                                        fill: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Connect with Facebook\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2 justify-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const token = localStorage.getItem(\"facebook_access_token\");\n                                            const completed = localStorage.getItem(\"facebook_auth_completed\");\n                                            console.log(\"LocalStorage check:\", {\n                                                token,\n                                                completed\n                                            });\n                                            alert(\"Token: \".concat(token ? \"Found\" : \"Not found\", \", Completed: \").concat(completed));\n                                        },\n                                        className: \"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Debug: Check LocalStorage\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 233,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            const token = localStorage.getItem(\"facebook_access_token\");\n                                            if (token) {\n                                                try {\n                                                    var _data_error;\n                                                    const response = await fetch(\"https://graph.facebook.com/v19.0/me?access_token=\".concat(token));\n                                                    const data = await response.json();\n                                                    alert(\"Token test result: \".concat(response.ok ? \"Valid\" : \"Invalid\", \" - \").concat(data.name || ((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Unknown\"));\n                                                } catch (err) {\n                                                    alert(\"Token test failed: \".concat(err.message));\n                                                }\n                                            } else {\n                                                alert(\"No token found in localStorage\");\n                                            }\n                                        },\n                                        className: \"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Test Token\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 244,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 213,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 212,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n            lineNumber: 210,\n            columnNumber: 7\n        }, this);\n    }\n    if ((error || authError) && error !== \"not_connected\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-white mb-6\",\n                    children: \"Facebook Pages\"\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 273,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-500/20 text-red-300 p-4 rounded-lg mb-6 whitespace-pre-line\",\n                    children: authError || error\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 274,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleTestConnection,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg mr-2\",\n                                children: \"Try Again\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleConnectFacebook,\n                                className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg\",\n                                children: \"Reconnect Facebook\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 277,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n            lineNumber: 272,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-2xl font-bold text-white mb-6\",\n                children: \"Facebook Pages\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 299,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-slate-400 mb-6 max-w-2xl\",\n                children: \"Manage your connected Facebook pages. Select which pages you want to post to.\"\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 300,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleTestConnection,\n                                className: \"bg-slate-700 hover:bg-slate-600 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                children: \"Refresh\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 306,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowDebug(!showDebug),\n                                className: \"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                children: showDebug ? \"Hide Debug\" : \"Show Debug\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 312,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 305,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleConnectFacebook,\n                        className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                        children: \"Add Pages\"\n                    }, void 0, false, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 319,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 304,\n                columnNumber: 7\n            }, this),\n            showDebug && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FacebookPagesDebug__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                    lineNumber: 329,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 328,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-slate-800 p-6 rounded-xl border border-slate-700 max-w-4xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4 flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: \"Connected Pages\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 335,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleTestConnection,\n                                        className: \"bg-slate-700 hover:bg-slate-600 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                        children: \"Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleConnectFacebook,\n                                        className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-3 py-1 rounded-lg text-sm\",\n                                        children: \"Add Pages\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 343,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 334,\n                        columnNumber: 9\n                    }, this),\n                    facebookPages.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: facebookPages.map((page)=>{\n                            var _page_picture_data, _page_picture;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-slate-900/80 p-4 rounded-lg flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-4\",\n                                        children: [\n                                            ((_page_picture = page.picture) === null || _page_picture === void 0 ? void 0 : (_page_picture_data = _page_picture.data) === null || _page_picture_data === void 0 ? void 0 : _page_picture_data.url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: page.picture.data.url,\n                                                alt: page.name,\n                                                className: \"w-10 h-10 rounded-full mr-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 358,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-bold text-white\",\n                                                    children: page.name.charAt(0)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                    lineNumber: 365,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 364,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"font-medium text-white\",\n                                                        children: page.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                        lineNumber: 369,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-slate-400\",\n                                                        children: page.category\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                        lineNumber: 370,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 368,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 356,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs font-medium text-green-400 bg-green-900/50 px-2 py-1 rounded-full\",\n                                        children: \"Connected\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 374,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, page.id, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 355,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 353,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-slate-400 mb-4\",\n                                children: \"No Facebook pages found.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-slate-400 text-sm mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mb-2\",\n                                        children: \"This could mean:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 384,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"list-disc list-inside space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"You don't have any Facebook pages connected to your account\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 386,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Your Facebook account is a personal account without pages\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 387,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Your Facebook token doesn't have permission to access pages\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 388,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"There was an issue fetching your pages from Facebook\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                                lineNumber: 389,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 385,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 383,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-yellow-500/20 p-3 rounded-lg mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-yellow-300 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Note:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                            lineNumber: 394,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" Facebook requires business pages for API access. Personal profiles cannot be used for posting via the API.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                    lineNumber: 393,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 392,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleTestConnection,\n                                        className: \"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Try Again\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 398,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleDebugConnection,\n                                        className: \"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Debug Connection\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 404,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            // Test the current token first\n                                            const token = localStorage.getItem(\"facebook_access_token\");\n                                            if (token) {\n                                                try {\n                                                    const response = await fetch(\"https://graph.facebook.com/v19.0/me?access_token=\".concat(token));\n                                                    const data = await response.json();\n                                                    if (response.ok) {\n                                                        alert(\"Token is valid for user: \".concat(data.name));\n                                                    } else {\n                                                        var _data_error;\n                                                        alert(\"Token invalid: \".concat(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Unknown error\"));\n                                                    }\n                                                } catch (err) {\n                                                    alert(\"Token test failed: \".concat(err.message));\n                                                }\n                                            }\n                                        },\n                                        className: \"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Test Token\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 410,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleConnectFacebook,\n                                        className: \"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg text-sm\",\n                                        children: \"Reconnect Facebook\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                        lineNumber: 432,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                                lineNumber: 397,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 381,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-6 flex justify-end\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>{\n                                // Save selected pages to localStorage\n                                const selectedPages = facebookPages.filter((page)=>page.selected);\n                                localStorage.setItem(\"facebook_selected_pages\", JSON.stringify(selectedPages));\n                                alert(\"Page selection saved successfully!\");\n                            },\n                            className: \"bg-sky-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-sky-600 text-sm\",\n                            children: \"Save Changes\"\n                        }, void 0, false, {\n                            fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                            lineNumber: 443,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n                lineNumber: 333,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/test/startups/zenith/src/components/FacebookPagesManagement.tsx\",\n        lineNumber: 298,\n        columnNumber: 5\n    }, this);\n}\n_s(FacebookPagesManagement, \"fyj3BrH2Sw+GzbG6JAOBCsnKQqg=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = FacebookPagesManagement;\nvar _c;\n$RefreshReg$(_c, \"FacebookPagesManagement\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ZhY2Vib29rUGFnZXNNYW5hZ2VtZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFNEM7QUFDQTtBQUNpQjtBQUNJO0FBRWxELFNBQVNLOztJQUN0QixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHUCwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDUSxlQUFlQyxpQkFBaUIsR0FBR1QsK0NBQVFBLENBQVEsRUFBRTtJQUM1RCxNQUFNLENBQUNVLFNBQVNDLFdBQVcsR0FBR1gsK0NBQVFBLENBQVU7SUFDaEQsTUFBTSxDQUFDWSxPQUFPQyxTQUFTLEdBQUdiLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUNjLFdBQVdDLGFBQWEsR0FBR2YsK0NBQVFBLENBQWdCO0lBQzFELE1BQU0sQ0FBQ2dCLGtCQUFrQkMsb0JBQW9CLEdBQUdqQiwrQ0FBUUEsQ0FBMkM7SUFDbkcsTUFBTSxDQUFDa0IsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQVU7SUFDcEQsTUFBTW9CLFNBQVNsQiwwREFBU0E7SUFFeEJELGdEQUFTQSxDQUFDO1FBQ1IsTUFBTW9CLG9CQUFvQjtZQUN4QixJQUFJO2dCQUNGQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1paLFdBQVc7Z0JBQ1hFLFNBQVM7Z0JBQ1RFLGFBQWE7Z0JBRWIsMkNBQTJDO2dCQUMzQyxNQUFNUyxjQUFjQyxhQUFhQyxPQUFPLENBQUM7Z0JBQ3pDLElBQUksQ0FBQ0YsYUFBYTtvQkFDaEJGLFFBQVFDLEdBQUcsQ0FBQztvQkFDWk4sb0JBQW9CO29CQUNwQkYsYUFBYTtvQkFDYkosV0FBVztvQkFDWDtnQkFDRjtnQkFFQVcsUUFBUUMsR0FBRyxDQUFDLGlEQUFpREMsWUFBWUcsTUFBTTtnQkFFL0UsaUNBQWlDO2dCQUNqQ1Ysb0JBQW9CO2dCQUNwQixNQUFNVyxtQkFBbUIsTUFBTXpCLHNFQUFlQSxDQUFDMEIsY0FBYztnQkFFN0QsSUFBSSxD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Q0FDL0IsTUFBTWxELFFBQVFSLGFBQWFDLE9BQU8sQ0FBQzs0Q0FDbkMsSUFBSU8sT0FBTztnREFDVCxJQUFJO29EQUNGLE1BQU1lLFdBQVcsTUFBTUMsTUFBTSxvREFBMEQsT0FBTmhCO29EQUNqRixNQUFNb0QsT0FBTyxNQUFNckMsU0FBU0ssSUFBSTtvREFDaEMsSUFBSUwsU0FBU00sRUFBRSxFQUFFO3dEQUNmUixNQUFNLDRCQUFzQyxPQUFWdUMsS0FBS3RCLElBQUk7b0RBQzdDLE9BQU87NERBQ21Cc0I7d0RBQXhCdkMsTUFBTSxrQkFBeUQsT0FBdkN1QyxFQUFBQSxjQUFBQSxLQUFLekUsS0FBSyxjQUFWeUUsa0NBQUFBLFlBQVkvQyxPQUFPLEtBQUk7b0RBQ2pEO2dEQUNGLEVBQUUsT0FBT0QsS0FBSztvREFDWlMsTUFBTSxzQkFBa0MsT0FBWlQsSUFBSUMsT0FBTztnREFDekM7NENBQ0Y7d0NBQ0Y7d0NBQ0FvQyxXQUFVO2tEQUNYOzs7Ozs7a0RBR0QsOERBQUNRO3dDQUNDQyxTQUFTNUM7d0NBQ1RtQyxXQUFVO2tEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBT1AsOERBQUNGO3dCQUFJRSxXQUFVO2tDQUNiLDRFQUFDUTs0QkFDQ0MsU0FBUztnQ0FDUCxzQ0FBc0M7Z0NBQ3RDLE1BQU1nQixnQkFBZ0IzRixjQUFjNEYsTUFBTSxDQUFDYixDQUFBQSxPQUFRQSxLQUFLYyxRQUFRO2dDQUNoRTVFLGFBQWE2RSxPQUFPLENBQUMsMkJBQTJCQyxLQUFLQyxTQUFTLENBQUNMO2dDQUMvRHJELE1BQU07NEJBQ1I7NEJBQ0E0QixXQUFVO3NDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9YO0dBbGN3QnJFOztRQVFQSCxzREFBU0E7OztLQVJGRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9GYWNlYm9va1BhZ2VzTWFuYWdlbWVudC50c3g/ZWI0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgZmFjZWJvb2tTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9mYWNlYm9va1NlcnZpY2UnO1xuaW1wb3J0IEZhY2Vib29rUGFnZXNEZWJ1ZyBmcm9tICdAL2NvbXBvbmVudHMvRmFjZWJvb2tQYWdlc0RlYnVnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmFjZWJvb2tQYWdlc01hbmFnZW1lbnQoKSB7XG4gIGNvbnN0IFtmYWNlYm9va1Rva2VuLCBzZXRGYWNlYm9va1Rva2VuXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmFjZWJvb2tQYWdlcywgc2V0RmFjZWJvb2tQYWdlc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2F1dGhFcnJvciwgc2V0QXV0aEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29ubmVjdGlvblN0YXR1cywgc2V0Q29ubmVjdGlvblN0YXR1c10gPSB1c2VTdGF0ZTwnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ3Rlc3RpbmcnPigndGVzdGluZycpO1xuICBjb25zdCBbc2hvd0RlYnVnLCBzZXRTaG93RGVidWddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoRmFjZWJvb2tEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIEZhY2Vib29rIGRhdGEuLi4nKTtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIHNldEF1dGhFcnJvcihudWxsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBGYWNlYm9vayB0b2tlbiBhdCBhbGxcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmICghc3RvcmVkVG9rZW4pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gRmFjZWJvb2sgdG9rZW4gZm91bmQgaW4gbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgc2V0QXV0aEVycm9yKCdObyBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gZm91bmQuIFBsZWFzZSBjb25uZWN0IHlvdXIgRmFjZWJvb2sgYWNjb3VudC4nKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWNlYm9vayB0b2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UsIGxlbmd0aDonLCBzdG9yZWRUb2tlbi5sZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGVzdCBGYWNlYm9vayBjb25uZWN0aW9uIGZpcnN0XG4gICAgICAgIHNldENvbm5lY3Rpb25TdGF0dXMoJ3Rlc3RpbmcnKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvblJlc3VsdCA9IGF3YWl0IGZhY2Vib29rU2VydmljZS50ZXN0Q29ubmVjdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uUmVzdWx0LmNvbm5lY3RlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3QgY29ubmVjdGVkIHRvIEZhY2Vib29rJyk7XG4gICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgaWYgKGNvbm5lY3Rpb25SZXN1bHQudG9rZW5JbmZvICYmICFjb25uZWN0aW9uUmVzdWx0LnRva2VuSW5mby52YWxpZCkge1xuICAgICAgICAgICAgc2V0QXV0aEVycm9yKGBGYWNlYm9vayB0b2tlbiBpcyBpbnZhbGlkOiAke2Nvbm5lY3Rpb25SZXN1bHQudG9rZW5JbmZvLmVycm9yIHx8ICdVbmtub3duIGVycm9yJ30uIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBdXRoRXJyb3IoJ1VuYWJsZSB0byBjb25uZWN0IHRvIEZhY2Vib29rLiBQbGVhc2UgdHJ5IHJlY29ubmVjdGluZyB5b3VyIGFjY291bnQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnY29ubmVjdGVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gRmFjZWJvb2ssIGZldGNoaW5nIHRva2VuLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgRmFjZWJvb2sgdG9rZW5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBmYWNlYm9va1NlcnZpY2UuZ2V0QWNjZXNzVG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgc2V0RmFjZWJvb2tUb2tlbih0b2tlbik7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHJldHJpZXZlZCwgZmV0Y2hpbmcgcGFnZXMuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGZXRjaCBGYWNlYm9vayBwYWdlc1xuICAgICAgICAgIGNvbnN0IHBhZ2VzID0gYXdhaXQgZmFjZWJvb2tTZXJ2aWNlLmdldFBhZ2VzKCk7XG4gICAgICAgICAgc2V0RmFjZWJvb2tQYWdlcyhwYWdlcyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIGZldGNoZWQ6JywgcGFnZXMubGVuZ3RoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIHBhZ2VzLCBzaG93IGEgc3BlY2lmaWMgbWVzc2FnZVxuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBwYWdlcyBmb3VuZCBmb3IgdGhpcyBGYWNlYm9vayBhY2NvdW50Jyk7XG4gICAgICAgICAgICBzZXRBdXRoRXJyb3IoJ05vIEZhY2Vib29rIHBhZ2VzIGZvdW5kLiBUaGlzIGNvdWxkIG1lYW46XFxuJyArXG4gICAgICAgICAgICAgICcxLiBZb3VyIEZhY2Vib29rIGFjY291bnQgaXMgYSBwZXJzb25hbCBhY2NvdW50IHdpdGhvdXQgYnVzaW5lc3MgcGFnZXNcXG4nICtcbiAgICAgICAgICAgICAgJzIuIFlvdXIgdG9rZW4gbGFja3MgcGFnZXNfc2hvd19saXN0IHBlcm1pc3Npb25cXG4nICtcbiAgICAgICAgICAgICAgJzMuIFlvdSBkb25cXCd0IGhhdmUgYW55IEZhY2Vib29rIHBhZ2VzXFxuXFxuJyArXG4gICAgICAgICAgICAgICdUcnkgcmVjb25uZWN0aW5nIHlvdXIgRmFjZWJvb2sgYWNjb3VudCB0byBlbnN1cmUgcHJvcGVyIHBlcm1pc3Npb25zLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdG9rZW4gZm91bmQnKTtcbiAgICAgICAgICBzZXRBdXRoRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBmb3VuZC4gUGxlYXNlIHJlY29ubmVjdCB5b3VyIEZhY2Vib29rIGFjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBGYWNlYm9vayBkYXRhOicsIGVycik7XG4gICAgICAgIHNldEF1dGhFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIEZhY2Vib29rIGRhdGEuIFBsZWFzZSB0cnkgcmVjb25uZWN0aW5nIHlvdXIgYWNjb3VudC4nKTtcbiAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hGYWNlYm9va0RhdGEoKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNvbm5lY3RGYWNlYm9vayA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGxvY2FsaG9zdDozMDAxIHRvIG1hdGNoIG91ciBjdXJyZW50IGRldmVsb3BtZW50IHNlcnZlclxuICAgICAgY29uc3QgcmVkaXJlY3RVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAxL2F1dGgvY2FsbGJhY2snO1xuXG4gICAgICAvLyBSZWRpcmVjdCB0byBTdXBhYmFzZSBPQXV0aFxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgaHR0cHM6Ly9xZnB2c3lodGlqd3hrbXlycXN3YS5zdXBhYmFzZS5jby9hdXRoL3YxL2F1dGhvcml6ZT9wcm92aWRlcj1mYWNlYm9vayZyZWRpcmVjdF90bz0ke3JlZGlyZWN0VXJsfSZzY29wZXM9cGFnZXNfc2hvd19saXN0LHBhZ2VzX3JlYWRfZW5nYWdlbWVudCxwYWdlc19tYW5hZ2VfcG9zdHMscGFnZXNfbWFuYWdlX21ldGFkYXRhLHBhZ2VzX3JlYWRfdXNlcl9jb250ZW50YDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhY2Vib29rIE9BdXRoIGVycm9yOicsIGVycik7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGluaXRpYXRlIEZhY2Vib29rIGxvZ2luJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRlc3RDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0LCBkbyBhIGJhc2ljIHRlc3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZhY2Vib29rU2VydmljZS50ZXN0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LmNvbm5lY3RlZCkge1xuICAgICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0RmFjZWJvb2tUb2tlbihhd2FpdCBmYWNlYm9va1NlcnZpY2UuZ2V0QWNjZXNzVG9rZW4oKSk7XG4gICAgICAgIHNldEZhY2Vib29rUGFnZXMocmVzdWx0LnBhZ2VzIHx8IFtdKTtcbiAgICAgICAgYWxlcnQoJ1N1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gRmFjZWJvb2shJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0RXJyb3IoJ25vdF9jb25uZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRlc3RpbmcgY29ubmVjdGlvbjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB0ZXN0IGNvbm5lY3Rpb24nKTtcbiAgICAgIHNldENvbm5lY3Rpb25TdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVidWdDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0b2tlbiBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICBcbiAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgYWxlcnQoJ05vIEZhY2Vib29rIHRva2VuIGZvdW5kIGluIGxvY2FsU3RvcmFnZS4gUGxlYXNlIGNvbm5lY3QgdG8gRmFjZWJvb2sgZmlyc3QuJyk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENhbGwgdGhlIGRlYnVnIEFQSSBlbmRwb2ludFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9mYWNlYm9vay9kZWJ1ZycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICd4LWZhY2Vib29rLXRva2VuJzogdG9rZW5cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRlYnVnRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIC8vIERpc3BsYXkgZGVidWcgaW5mb3JtYXRpb24gaW4gYSBtb3JlIHVzZXItZnJpZW5kbHkgd2F5XG4gICAgICAgIGxldCBkZWJ1Z01lc3NhZ2UgPSAnRmFjZWJvb2sgRGVidWcgSW5mb3JtYXRpb246XFxuXFxuJztcbiAgICAgICAgZGVidWdNZXNzYWdlICs9IGBTZXNzaW9uIGV4aXN0czogJHtkZWJ1Z0RhdGEuc2Vzc2lvbkV4aXN0cyA/ICdZZXMnIDogJ05vJ31cXG5gO1xuICAgICAgICBkZWJ1Z01lc3NhZ2UgKz0gYFRva2VuIGZyb20gc2Vzc2lvbjogJHtkZWJ1Z0RhdGEuZmFjZWJvb2tUb2tlbkZyb21TZXNzaW9uID8gJ1llcycgOiAnTm8nfVxcbmA7XG4gICAgICAgIGRlYnVnTWVzc2FnZSArPSBgVG9rZW4gZnJvbSBoZWFkZXI6ICR7ZGVidWdEYXRhLmZhY2Vib29rVG9rZW5Gcm9tSGVhZGVyID8gJ1llcycgOiAnTm8nfVxcbmA7XG4gICAgICAgIFxuICAgICAgICBpZiAoZGVidWdEYXRhLnRva2VuVmFsaWRhdGlvbikge1xuICAgICAgICAgIGRlYnVnTWVzc2FnZSArPSBgVG9rZW4gdmFsaWQ6ICR7ZGVidWdEYXRhLnRva2VuVmFsaWRhdGlvbi5pc1ZhbGlkID8gJ1llcycgOiAnTm8nfVxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRlYnVnTWVzc2FnZSArPSBgVXNlciBwcm9maWxlIGFjY2Vzc2libGU6ICR7ZGVidWdEYXRhLnVzZXJQcm9maWxlQWNjZXNzaWJsZSA/ICdZZXMnIDogJ05vJ31cXG5gO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRlYnVnRGF0YS51c2VyUHJvZmlsZSkge1xuICAgICAgICAgIGRlYnVnTWVzc2FnZSArPSBgVXNlcjogJHtkZWJ1Z0RhdGEudXNlclByb2ZpbGUubmFtZX0gKElEOiAke2RlYnVnRGF0YS51c2VyUHJvZmlsZS5pZH0pXFxuYDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZGVidWdNZXNzYWdlICs9IGBQYWdlcyBhY2Nlc3NpYmxlOiAke2RlYnVnRGF0YS5wYWdlc0FjY2Vzc2libGUgPyAnWWVzJyA6ICdObyd9XFxuYDtcbiAgICAgICAgZGVidWdNZXNzYWdlICs9IGBQYWdlcyBjb3VudDogJHtkZWJ1Z0RhdGEucGFnZXNDb3VudCB8fCAwfVxcbmA7XG4gICAgICAgIFxuICAgICAgICBpZiAoZGVidWdEYXRhLnBhZ2VzQ291bnQgPT09IDAgJiYgZGVidWdEYXRhLnBhZ2VzRW1wdHlSZWFzb25zKSB7XG4gICAgICAgICAgZGVidWdNZXNzYWdlICs9ICdcXG5Qb3NzaWJsZSByZWFzb25zIGZvciBubyBwYWdlczpcXG4nO1xuICAgICAgICAgIGRlYnVnRGF0YS5wYWdlc0VtcHR5UmVhc29ucy5mb3JFYWNoKChyZWFzb246IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgZGVidWdNZXNzYWdlICs9IGAke2luZGV4ICsgMX0uICR7cmVhc29ufVxcbmA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkZWJ1Z0RhdGEudG9rZW5UZXN0RXJyb3IpIHtcbiAgICAgICAgICBkZWJ1Z01lc3NhZ2UgKz0gYFxcblRva2VuIHRlc3QgZXJyb3I6ICR7ZGVidWdEYXRhLnRva2VuVGVzdEVycm9yfVxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFsZXJ0KGRlYnVnTWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChgRGVidWcgQVBJIGVycm9yOiAke2RlYnVnRGF0YS5lcnJvciB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWJ1Z2dpbmcgY29ubmVjdGlvbjonLCBlcnIpO1xuICAgICAgYWxlcnQoYEVycm9yIGRlYnVnZ2luZyBjb25uZWN0aW9uOiAke2Vyci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi02XCI+RmFjZWJvb2sgUGFnZXM8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMFwiPkxvYWRpbmcgRmFjZWJvb2sgcGFnZXMuLi48L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yID09PSAnbm90X2Nvbm5lY3RlZCcgfHwgY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTZcIj5GYWNlYm9vayBQYWdlczwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtODAwIHAtNiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIG1heC13LTR4bFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy00MDAgbWItNFwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMTYgaC0xNiBteC1hdXRvXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTI0IDEyLjA3M2MwLTYuNjI3LTUuMzczLTEyLTEyLTEycy0xMiA1LjM3My0xMiAxMmMwIDUuOTkgNC4zODggMTAuOTU0IDEwLjEyNSAxMS44NTR2LTguMzg1SDcuMDc4di0zLjQ3aDMuMDQ3VjkuNDNjMC0zLjAwNyAxLjc5Mi00LjY2OSA0LjUzMy00LjY2OSAxLjMxMiAwIDIuNjg2LjIzNSAyLjY4Ni4yMzV2Mi45NTNIMTUuODNjLTEuNDkxIDAtMS45NTYuOTI1LTEuOTU2IDEuODc0djIuMjVoMy4zMjhsLS41MzIgMy40N2gtMi43OTZ2OC4zODVDMTkuNjEyIDIzLjAyNyAyNCAxOC4wNjIgMjQgMTIuMDczelwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+Q29ubmVjdCB0byBGYWNlYm9vazwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMCBtYi02XCI+XG4gICAgICAgICAgICAgIENvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50IHRvIG1hbmFnZSB5b3VyIHBhZ2VzIGFuZCBwb3N0IGNvbnRlbnQuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbm5lY3RGYWNlYm9va31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTYgcHktMyByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG8gbWItNFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTI0IDEyLjA3M2MwLTYuNjI3LTUuMzczLTEyLTEyLTEycy0xMiA1LjM3My0xMiAxMmMwIDUuOTkgNC4zODggMTAuOTU0IDEwLjEyNSAxMS44NTR2LTguMzg1SDcuMDc4di0zLjQ3aDMuMDQ3VjkuNDNjMC0zLjAwNyAxLjc5Mi00LjY2OSA0LjUzMy00LjY2OSAxLjMxMiAwIDIuNjg2LjIzNSAyLjY4Ni4yMzV2Mi45NTNIMTUuODNjLTEuNDkxIDAtMS45NTYuOTI1LTEuOTU2IDEuODc0djIuMjVoMy4zMjhsLS41MzIgMy40N2gtMi43OTZ2OC4zODVDMTkuNjEyIDIzLjAyNyAyNCAxOC4wNjIgMjQgMTIuMDczelwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIENvbm5lY3Qgd2l0aCBGYWNlYm9va1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2F1dGhfY29tcGxldGVkJyk7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYWxTdG9yYWdlIGNoZWNrOicsIHsgdG9rZW4sIGNvbXBsZXRlZCB9KTtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0KGBUb2tlbjogJHt0b2tlbiA/ICdGb3VuZCcgOiAnTm90IGZvdW5kJ30sIENvbXBsZXRlZDogJHtjb21wbGV0ZWR9YCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBEZWJ1ZzogQ2hlY2sgTG9jYWxTdG9yYWdlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTkuMC9tZT9hY2Nlc3NfdG9rZW49JHt0b2tlbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGBUb2tlbiB0ZXN0IHJlc3VsdDogJHtyZXNwb25zZS5vayA/ICdWYWxpZCcgOiAnSW52YWxpZCd9IC0gJHtkYXRhLm5hbWUgfHwgZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93bid9YCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGBUb2tlbiB0ZXN0IGZhaWxlZDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ05vIHRva2VuIGZvdW5kIGluIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS02MDAgaG92ZXI6YmctZ3JheS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgVGVzdCBUb2tlblxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoKGVycm9yIHx8IGF1dGhFcnJvcikgJiYgZXJyb3IgIT09ICdub3RfY29ubmVjdGVkJykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNlwiPkZhY2Vib29rIFBhZ2VzPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAwLzIwIHRleHQtcmVkLTMwMCBwLTQgcm91bmRlZC1sZyBtYi02IHdoaXRlc3BhY2UtcHJlLWxpbmVcIj5cbiAgICAgICAgICB7YXV0aEVycm9yIHx8IGVycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS04MDAgcC02IHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDAgbWF4LXctNHhsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS00XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRlc3RDb25uZWN0aW9ufVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgbXItMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFRyeSBBZ2FpblxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbm5lY3RGYWNlYm9va31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBSZWNvbm5lY3QgRmFjZWJvb2tcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNlwiPkZhY2Vib29rIFBhZ2VzPC9oMj5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIG1iLTYgbWF4LXctMnhsXCI+XG4gICAgICAgIE1hbmFnZSB5b3VyIGNvbm5lY3RlZCBGYWNlYm9vayBwYWdlcy4gU2VsZWN0IHdoaWNoIHBhZ2VzIHlvdSB3YW50IHRvIHBvc3QgdG8uXG4gICAgICA8L3A+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVGVzdENvbm5lY3Rpb259XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBSZWZyZXNoXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0RlYnVnKCFzaG93RGVidWcpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c2hvd0RlYnVnID8gJ0hpZGUgRGVidWcnIDogJ1Nob3cgRGVidWcnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbm5lY3RGYWNlYm9va31cbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgPlxuICAgICAgICAgIEFkZCBQYWdlc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7c2hvd0RlYnVnICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgPEZhY2Vib29rUGFnZXNEZWJ1ZyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtODAwIHAtNiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIG1heC13LTR4bFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+Q29ubmVjdGVkIFBhZ2VzPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVGVzdENvbm5lY3Rpb259XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS02MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTMgcHktMSByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBSZWZyZXNoXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29ubmVjdEZhY2Vib29rfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQWRkIFBhZ2VzXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7ZmFjZWJvb2tQYWdlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICB7ZmFjZWJvb2tQYWdlcy5tYXAoKHBhZ2U6IGFueSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17cGFnZS5pZH0gY2xhc3NOYW1lPVwiYmctc2xhdGUtOTAwLzgwIHAtNCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgIHtwYWdlLnBpY3R1cmU/LmRhdGE/LnVybCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e3BhZ2UucGljdHVyZS5kYXRhLnVybH0gXG4gICAgICAgICAgICAgICAgICAgICAgYWx0PXtwYWdlLm5hbWV9IFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgbXItM1wiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctYmx1ZS02MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtd2hpdGVcIj57cGFnZS5uYW1lLmNoYXJBdCgwKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtd2hpdGVcIj57cGFnZS5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTQwMFwiPntwYWdlLmNhdGVnb3J5fTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmVlbi00MDAgYmctZ3JlZW4tOTAwLzUwIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgIENvbm5lY3RlZFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgbWItNFwiPk5vIEZhY2Vib29rIHBhZ2VzIGZvdW5kLjwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbSBtYi00XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5UaGlzIGNvdWxkIG1lYW46PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1kaXNjIGxpc3QtaW5zaWRlIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIDxsaT5Zb3UgZG9uJ3QgaGF2ZSBhbnkgRmFjZWJvb2sgcGFnZXMgY29ubmVjdGVkIHRvIHlvdXIgYWNjb3VudDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPllvdXIgRmFjZWJvb2sgYWNjb3VudCBpcyBhIHBlcnNvbmFsIGFjY291bnQgd2l0aG91dCBwYWdlczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPllvdXIgRmFjZWJvb2sgdG9rZW4gZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHBhZ2VzPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VGhlcmUgd2FzIGFuIGlzc3VlIGZldGNoaW5nIHlvdXIgcGFnZXMgZnJvbSBGYWNlYm9vazwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmcteWVsbG93LTUwMC8yMCBwLTMgcm91bmRlZC1sZyBtYi00XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTMwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgPHN0cm9uZz5Ob3RlOjwvc3Ryb25nPiBGYWNlYm9vayByZXF1aXJlcyBidXNpbmVzcyBwYWdlcyBmb3IgQVBJIGFjY2Vzcy4gUGVyc29uYWwgcHJvZmlsZXMgY2Fubm90IGJlIHVzZWQgZm9yIHBvc3RpbmcgdmlhIHRoZSBBUEkuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUZXN0Q29ubmVjdGlvbn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHgtNCBweS0yIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBUcnkgQWdhaW5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWJ1Z0Nvbm5lY3Rpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERlYnVnIENvbm5lY3Rpb25cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBUZXN0IHRoZSBjdXJyZW50IHRva2VuIGZpcnN0XG4gICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYWNlYm9va19hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxOS4wL21lP2FjY2Vzc190b2tlbj0ke3Rva2VufWApO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChgVG9rZW4gaXMgdmFsaWQgZm9yIHVzZXI6ICR7ZGF0YS5uYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChgVG9rZW4gaW52YWxpZDogJHtkYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGBUb2tlbiB0ZXN0IGZhaWxlZDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS02MDAgaG92ZXI6YmctZ3JheS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgVGVzdCBUb2tlblxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbm5lY3RGYWNlYm9va31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlY29ubmVjdCBGYWNlYm9va1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBTYXZlIHNlbGVjdGVkIHBhZ2VzIHRvIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFBhZ2VzID0gZmFjZWJvb2tQYWdlcy5maWx0ZXIocGFnZSA9PiBwYWdlLnNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZhY2Vib29rX3NlbGVjdGVkX3BhZ2VzJywgSlNPTi5zdHJpbmdpZnkoc2VsZWN0ZWRQYWdlcykpO1xuICAgICAgICAgICAgICBhbGVydCgnUGFnZSBzZWxlY3Rpb24gc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXNreS01MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB4LTQgcHktMiByb3VuZGVkLWxnIGhvdmVyOmJnLXNreS02MDAgdGV4dC1zbVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgU2F2ZSBDaGFuZ2VzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwiZmFjZWJvb2tTZXJ2aWNlIiwiRmFjZWJvb2tQYWdlc0RlYnVnIiwiRmFjZWJvb2tQYWdlc01hbmFnZW1lbnQiLCJmYWNlYm9va1Rva2VuIiwic2V0RmFjZWJvb2tUb2tlbiIsImZhY2Vib29rUGFnZXMiLCJzZXRGYWNlYm9va1BhZ2VzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiYXV0aEVycm9yIiwic2V0QXV0aEVycm9yIiwiY29ubmVjdGlvblN0YXR1cyIsInNldENvbm5lY3Rpb25TdGF0dXMiLCJzaG93RGVidWciLCJzZXRTaG93RGVidWciLCJyb3V0ZXIiLCJmZXRjaEZhY2Vib29rRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzdG9yZWRUb2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJsZW5ndGgiLCJjb25uZWN0aW9uUmVzdWx0IiwidGVzdENvbm5lY3Rpb24iLCJjb25uZWN0ZWQiLCJ0b2tlbkluZm8iLCJ2YWxpZCIsInRva2VuIiwiZ2V0QWNjZXNzVG9rZW4iLCJwYWdlcyIsImdldFBhZ2VzIiwiZXJyIiwibWVzc2FnZSIsImhhbmRsZUNvbm5lY3RGYWNlYm9vayIsInJlZGlyZWN0VXJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaGFuZGxlVGVzdENvbm5lY3Rpb24iLCJyZXN1bHQiLCJhbGVydCIsImhhbmRsZURlYnVnQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiZGVidWdEYXRhIiwianNvbiIsIm9rIiwiZGVidWdNZXNzYWdlIiwic2Vzc2lvbkV4aXN0cyIsImZhY2Vib29rVG9rZW5Gcm9tU2Vzc2lvbiIsImZhY2Vib29rVG9rZW5Gcm9tSGVhZGVyIiwidG9rZW5WYWxpZGF0aW9uIiwiaXNWYWxpZCIsInVzZXJQcm9maWxlQWNjZXNzaWJsZSIsInVzZXJQcm9maWxlIiwibmFtZSIsImlkIiwicGFnZXNBY2Nlc3NpYmxlIiwicGFnZXNDb3VudCIsInBhZ2VzRW1wdHlSZWFzb25zIiwiZm9yRWFjaCIsInJlYXNvbiIsImluZGV4IiwidG9rZW5UZXN0RXJyb3IiLCJkaXYiLCJoMiIsImNsYXNzTmFtZSIsInAiLCJzdmciLCJmaWxsIiwidmlld0JveCIsInBhdGgiLCJkIiwiaDMiLCJidXR0b24iLCJvbkNsaWNrIiwiY29tcGxldGVkIiwiZGF0YSIsIm1hcCIsInBhZ2UiLCJwaWN0dXJlIiwidXJsIiwiaW1nIiwic3JjIiwiYWx0Iiwic3BhbiIsImNoYXJBdCIsImNhdGVnb3J5IiwidWwiLCJsaSIsInN0cm9uZyIsInNlbGVjdGVkUGFnZXMiLCJmaWx0ZXIiLCJzZWxlY3RlZCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/FacebookPagesManagement.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/services/facebookService.ts":
/*!*****************************************!*\
  !*** ./src/services/facebookService.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   facebookService: function() { return /* binding */ facebookService; },\n/* harmony export */   getFacebookPages: function() { return /* binding */ getFacebookPages; },\n/* harmony export */   getFacebookProfile: function() { return /* binding */ getFacebookProfile; },\n/* harmony export */   getFacebookToken: function() { return /* binding */ getFacebookToken; },\n/* harmony export */   publishToFacebook: function() { return /* binding */ publishToFacebook; },\n/* harmony export */   testFacebookConnection: function() { return /* binding */ testFacebookConnection; }\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./src/lib/supabaseClient.ts\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n// Facebook Integration Service\n// This service provides a unified interface for all Facebook operations\n\nclass FacebookService {\n    // Get Facebook access token from session or localStorage with better error handling\n    async getAccessToken(overrideToken) {\n        try {\n            console.log(\"=== GET ACCESS TOKEN START ===\");\n            // If an override token is provided (e.g., from server-side API), use it\n            if (overrideToken) {\n                console.log(\"Using override token, length:\", overrideToken.length);\n                // Validate the token before returning\n                const validation = await this.validateToken(overrideToken);\n                if (validation.valid) {\n                    console.log(\"Override token validated successfully\");\n                    return overrideToken;\n                } else {\n                    console.log(\"Override token is invalid:\", validation.error);\n                    throw new Error(\"Invalid override token: \".concat(validation.error));\n                }\n            }\n            // Try to get from localStorage first (most reliable for client-side)\n            if (true) {\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (storedToken) {\n                    console.log(\"Token found in localStorage, length:\", storedToken.length);\n                    // Validate token before returning\n                    const validation = await this.validateToken(storedToken);\n                    if (validation.valid) {\n                        console.log(\"Token validated successfully\");\n                        if (validation.permissions) {\n                            console.log(\"Token permissions:\", validation.permissions);\n                        }\n                        return storedToken;\n                    } else {\n                        console.log(\"Stored token is invalid, removing it:\", validation.error);\n                        localStorage.removeItem(\"facebook_access_token\");\n                    }\n                }\n            }\n            // Get the current user's session\n            const { data: { session }, error: sessionError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getSession();\n            if (sessionError) {\n                console.error(\"Session error:\", sessionError);\n            // Don't throw error, try localStorage fallback\n            }\n            if (!session) {\n                console.log(\"No active Supabase session\");\n            } else {\n                console.log(\"Supabase session found\");\n                // Get the provider token (Facebook access token)\n                const facebookAccessToken = session.provider_token;\n                if (facebookAccessToken) {\n                    console.log(\"Token found in Supabase session, length:\", facebookAccessToken.length);\n                    // Validate the token before returning\n                    const validation = await this.validateToken(facebookAccessToken);\n                    if (validation.valid) {\n                        console.log(\"Session token validated successfully\");\n                        return facebookAccessToken;\n                    } else {\n                        console.log(\"Session token is invalid:\", validation.error);\n                    }\n                }\n            }\n            // Last resort: check localStorage again\n            if (true) {\n                const storedToken = localStorage.getItem(\"facebook_access_token\");\n                if (storedToken) {\n                    console.log(\"Emergency fallback: Token found in localStorage, length:\", storedToken.length);\n                    return storedToken;\n                }\n            }\n            console.log(\"No Facebook access token found anywhere\");\n            return null;\n        } catch (error) {\n            console.error(\"Error getting Facebook access token:\", error);\n            // Try absolute fallback\n            try {\n                if (true) {\n                    const storedToken = localStorage.getItem(\"facebook_access_token\");\n                    if (storedToken) {\n                        console.log(\"Absolute emergency fallback: Token found in localStorage, length:\", storedToken.length);\n                        return storedToken;\n                    }\n                }\n            } catch (fallbackError) {\n                console.error(\"Absolute fallback failed:\", fallbackError);\n            }\n            return null;\n        }\n    }\n    // Validate Facebook access token with detailed information\n    async validateToken(token) {\n        try {\n            // First, check basic token validity\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email\"));\n            if (!response.ok) {\n                var _errorData_error;\n                const errorData = await response.json();\n                return {\n                    valid: false,\n                    error: ((_errorData_error = errorData.error) === null || _errorData_error === void 0 ? void 0 : _errorData_error.message) || \"Token invalid\"\n                };\n            }\n            // If basic validation passes, check permissions\n            try {\n                // Check what permissions the token has\n                // Note: For debug_token, we need to use the app access token, but for simplicity,\n                // we'll skip this for now and just return valid\n                console.log(\"Token validation passed, skipping detailed permission check for now\");\n            } catch (debugError) {\n                console.log(\"Could not check token permissions:\", debugError);\n            // Still return valid since basic validation passed\n            }\n            return {\n                valid: true\n            };\n        } catch (error) {\n            console.error(\"Error validating Facebook token:\", error);\n            return {\n                valid: false,\n                error: error.message || \"Token validation failed\"\n            };\n        }\n    }\n    // Get user's Facebook pages with enhanced error handling and fallbacks\n    async getPages() {\n        try {\n            console.log(\"=== GET PAGES METHOD START ===\");\n            // Try to get token from session first\n            let token = null;\n            try {\n                token = await this.getAccessToken();\n                console.log(\"Token from getAccessToken():\", token ? \"Found\" : \"Not found\");\n            } catch (sessionError) {\n                console.log(\"Session token retrieval failed:\", sessionError.message);\n            }\n            // Fallback to direct localStorage access\n            if (!token) {\n                console.log(\"Trying direct localStorage access...\");\n                if (true) {\n                    const storedToken = localStorage.getItem(\"facebook_access_token\");\n                    if (storedToken) {\n                        token = storedToken;\n                        console.log(\"Token found directly in localStorage\");\n                    }\n                }\n            }\n            if (!token) {\n                throw new Error(\"No Facebook access token available from session or localStorage\");\n            }\n            console.log(\"Using token for pages request\");\n            // Validate token first\n            const validation = await this.validateToken(token);\n            console.log(\"Token validity check:\", validation);\n            if (!validation.valid) {\n                throw new Error(\"Facebook access token is invalid or expired: \".concat(validation.error));\n            }\n            // Check if token has required permissions\n            if (validation.permissions) {\n                const requiredPermissions = [\n                    \"pages_show_list\",\n                    \"pages_read_engagement\",\n                    \"pages_manage_posts\"\n                ];\n                const missingPermissions = requiredPermissions.filter((perm)=>!validation.permissions.includes(perm));\n                if (missingPermissions.length > 0) {\n                    console.log(\"Warning: Token missing required permissions:\", missingPermissions);\n                } else {\n                    console.log(\"Token has all required permissions\");\n                }\n            }\n            // Get user profile to confirm token works\n            try {\n                const userResponse = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email\"));\n                const userData = await userResponse.json();\n                if (!userResponse.ok) {\n                    var _userData_error;\n                    console.error(\"User profile API error:\", userData);\n                    throw new Error(((_userData_error = userData.error) === null || _userData_error === void 0 ? void 0 : _userData_error.message) || \"Failed to fetch user profile\");\n                }\n                console.log(\"User profile retrieved:\", userData.name);\n            } catch (userError) {\n                console.error(\"Error fetching user profile:\", userError);\n            // Continue anyway as we might still get pages\n            }\n            // Get pages using the token\n            console.log(\"Fetching Facebook pages with token...\");\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me/accounts?access_token=\").concat(token, \"&fields=name,id,category,picture,fan_count\"));\n            const data = await response.json();\n            console.log(\"Pages API response:\", data);\n            if (!response.ok) {\n                var _data_error;\n                console.error(\"Facebook pages API error:\", data);\n                throw new Error(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Failed to fetch Facebook pages\");\n            }\n            // Additional debugging - check if we have an empty data array\n            if (data && data.data && Array.isArray(data.data)) {\n                console.log(\"Pages retrieved successfully:\", data.data.length);\n                if (data.data.length === 0) {\n                    console.log(\"Warning: No pages found. This might be due to:\");\n                    console.log(\"1. User has no Facebook pages\");\n                    console.log(\"2. Token lacks pages_show_list permission\");\n                    console.log(\"3. User account is not a business account with page access\");\n                }\n                return data.data;\n            } else {\n                console.log(\"Unexpected response format:\", data);\n                return [];\n            }\n        } catch (error) {\n            console.error(\"Error fetching Facebook pages:\", error);\n            throw error;\n        }\n    }\n    // Get user's Facebook profile\n    async getProfile() {\n        try {\n            const token = await this.getAccessToken();\n            if (!token) {\n                throw new Error(\"No Facebook access token available\");\n            }\n            const response = await fetch(\"\".concat(this.baseUrl, \"/me?access_token=\").concat(token, \"&fields=id,name,email,picture\"));\n            const data = await response.json();\n            if (!response.ok) {\n                var _data_error;\n                throw new Error(((_data_error = data.error) === null || _data_error === void 0 ? void 0 : _data_error.message) || \"Failed to fetch Facebook profile\");\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error fetching Facebook profile:\", error);\n            throw error;\n        }\n    }\n    // Upload image to Facebook\n    async uploadImage(base64Image) {\n        let caption = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\", pageId = arguments.length > 2 ? arguments[2] : void 0, overrideToken = arguments.length > 3 ? arguments[3] : void 0;\n        try {\n            const token = await this.getAccessToken(overrideToken);\n            if (!token) {\n                throw new Error(\"No Facebook access token available. Please reconnect your Facebook account.\");\n            }\n            let accessTokenToUse = token;\n            let url = \"\".concat(this.baseUrl, \"/me/photos\");\n            // If a page ID is provided, get the page access token\n            if (pageId) {\n                console.log(\"Fetching page access token for page ID:\", pageId);\n                const pageTokenResponse = await fetch(\"\".concat(this.baseUrl, \"/\").concat(pageId, \"?fields=access_token&access_token=\").concat(token));\n                const pageTokenData = await pageTokenResponse.json();\n                if (!pageTokenResponse.ok) {\n                    var _pageTokenData_error;\n                    console.error(\"Error fetching page access token:\", pageTokenData);\n                    const errorMessage = ((_pageTokenData_error = pageTokenData.error) === null || _pageTokenData_error === void 0 ? void 0 : _pageTokenData_error.message) || \"Failed to get page access token\";\n                    throw new Error(\"Failed to get page access token: \".concat(errorMessage));\n                }\n                accessTokenToUse = pageTokenData.access_token;\n                url = \"\".concat(this.baseUrl, \"/\").concat(pageId, \"/photos\");\n                console.log(\"Using page access token for image upload\");\n            } else {\n                console.log(\"Using user access token for image upload to personal feed\");\n            }\n            // For Facebook photo upload, we need to send as form data\n            // First, convert base64 to buffer for server-side usage\n            const imageBuffer = Buffer.from(base64Image, \"base64\");\n            const formData = new FormData();\n            formData.append(\"source\", new Blob([\n                imageBuffer\n            ], {\n                type: \"image/png\"\n            }));\n            if (caption) {\n                formData.append(\"caption\", caption);\n            }\n            formData.append(\"access_token\", accessTokenToUse);\n            console.log(\"Uploading image to Facebook:\", {\n                url,\n                hasCaption: !!caption\n            });\n            // Upload to Facebook\n            const response = await fetch(url, {\n                method: \"POST\",\n                body: formData\n            });\n            const responseData = await response.json();\n            if (!response.ok) {\n                let errorMessage = \"Failed to upload image to Facebook\";\n                if (responseData && responseData.error) {\n                    errorMessage = responseData.error.message || responseData.error.type || errorMessage;\n                    // Log additional error details for debugging\n                    console.error(\"Facebook API error details:\", {\n                        type: responseData.error.type,\n                        code: responseData.error.code,\n                        fbtrace_id: responseData.error.fbtrace_id,\n                        message: responseData.error.message\n                    });\n                }\n                throw new Error(\"Facebook API error: \".concat(errorMessage));\n            }\n            console.log(\"Image uploaded to Facebook successfully:\", responseData);\n            return {\n                success: true,\n                data: responseData,\n                facebook_post_id: responseData.post_id\n            };\n        } catch (error) {\n            console.error(\"Error uploading image to Facebook:\", error);\n            // Re-throw with more user-friendly message\n            if (error instanceof Error) {\n                throw new Error(\"Image upload failed: \".concat(error.message));\n            }\n            throw new Error(\"Image upload failed: Unknown error occurred\");\n        }\n    }\n    // Publish post to Facebook (user feed or page)\n    async publishPost(content, pageId, overrideToken) {\n        try {\n            const token = await this.getAccessToken(overrideToken);\n            if (!token) {\n                throw new Error(\"No Facebook access token available. Please reconnect your Facebook account.\");\n            }\n            // Validate the token before attempting to publish\n            const validation = await this.validateToken(token);\n            if (!validation.valid) {\n                throw new Error(\"Facebook access token is invalid: \".concat(validation.error || \"Unknown error\", \". Please reconnect your Facebook account.\"));\n            }\n            let accessTokenToUse = token;\n            let url = \"\".concat(this.baseUrl, \"/me/feed\");\n            // If a page ID is provided, get the page access token\n            if (pageId) {\n                console.log(\"Fetching page access token for page ID:\", pageId);\n                const pageTokenResponse = await fetch(\"\".concat(this.baseUrl, \"/\").concat(pageId, \"?fields=access_token&access_token=\").concat(token));\n                const pageTokenData = await pageTokenResponse.json();\n                if (!pageTokenResponse.ok) {\n                    var _pageTokenData_error;\n                    console.error(\"Error fetching page access token:\", pageTokenData);\n                    const errorMessage = ((_pageTokenData_error = pageTokenData.error) === null || _pageTokenData_error === void 0 ? void 0 : _pageTokenData_error.message) || \"Failed to get page access token\";\n                    throw new Error(\"Failed to get page access token: \".concat(errorMessage));\n                }\n                accessTokenToUse = pageTokenData.access_token;\n                url = \"\".concat(this.baseUrl, \"/\").concat(pageId, \"/feed\");\n                console.log(\"Using page access token for publishing\");\n            } else {\n                console.log(\"Using user access token for publishing to personal feed\");\n            }\n            // Prepare the post data\n            const postData = {\n                message: content,\n                access_token: accessTokenToUse\n            };\n            console.log(\"Publishing to Facebook:\", {\n                url,\n                hasMessage: !!postData.message\n            });\n            // Publish to Facebook\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(postData)\n            });\n            const responseData = await response.json();\n            if (!response.ok) {\n                let errorMessage = \"Failed to publish to Facebook\";\n                if (responseData && responseData.error) {\n                    errorMessage = responseData.error.message || responseData.error.type || errorMessage;\n                    // Log additional error details for debugging\n                    console.error(\"Facebook API error details:\", {\n                        type: responseData.error.type,\n                        code: responseData.error.code,\n                        fbtrace_id: responseData.error.fbtrace_id,\n                        message: responseData.error.message\n                    });\n                }\n                throw new Error(\"Facebook API error: \".concat(errorMessage));\n            }\n            console.log(\"Post published to Facebook successfully:\", responseData);\n            return {\n                success: true,\n                data: responseData,\n                facebook_post_id: responseData.id\n            };\n        } catch (error) {\n            console.error(\"Error publishing to Facebook:\", error);\n            // Re-throw with more user-friendly message\n            if (error instanceof Error) {\n                throw new Error(\"Publish failed: \".concat(error.message));\n            }\n            throw new Error(\"Publish failed: Unknown error occurred\");\n        }\n    }\n    // Test Facebook connection\n    async testConnection() {\n        try {\n            const token = await this.getAccessToken();\n            if (!token) {\n                return {\n                    connected: false\n                };\n            }\n            // Validate token\n            const validation = await this.validateToken(token);\n            if (!validation.valid) {\n                return {\n                    connected: false\n                };\n            }\n            // Get user profile\n            const profile = await this.getProfile();\n            // Get pages\n            const pages = await this.getPages();\n            return {\n                connected: true,\n                user: profile,\n                pages: pages,\n                tokenInfo: validation\n            };\n        } catch (error) {\n            console.error(\"Error testing Facebook connection:\", error);\n            return {\n                connected: false\n            };\n        }\n    }\n    constructor(){\n        this.baseUrl = \"https://graph.facebook.com/v19.0\";\n    }\n}\n// Export singleton instance\nconst facebookService = new FacebookService();\n// Export individual functions for direct use\nconst getFacebookToken = ()=>facebookService.getAccessToken();\nconst getFacebookPages = ()=>facebookService.getPages();\nconst getFacebookProfile = ()=>facebookService.getProfile();\nconst publishToFacebook = (content, pageId)=>facebookService.publishPost(content, pageId);\nconst testFacebookConnection = ()=>facebookService.testConnection();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9mYWNlYm9va1NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7QUFDL0Isd0VBQXdFO0FBRXhCO0FBRWhELE1BQU1DO0lBR0osb0ZBQW9GO0lBQ3BGLE1BQU1DLGVBQWVDLGFBQXNCLEVBQTBCO1FBQ25FLElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDO1lBRVosd0VBQXdFO1lBQ3hFLElBQUlGLGVBQWU7Z0JBQ2pCQyxRQUFRQyxHQUFHLENBQUMsaUNBQWlDRixjQUFjRyxNQUFNO2dCQUNqRSxzQ0FBc0M7Z0JBQ3RDLE1BQU1DLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0w7Z0JBQzVDLElBQUlJLFdBQVdFLEtBQUssRUFBRTtvQkFDcEJMLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPRjtnQkFDVCxPQUFPO29CQUNMQyxRQUFRQyxHQUFHLENBQUMsOEJBQThCRSxXQUFXRyxLQUFLO29CQUMxRCxNQUFNLElBQUlDLE1BQU0sMkJBQTRDLE9BQWpCSixXQUFXRyxLQUFLO2dCQUM3RDtZQUNGO1lBRUEscUVBQXFFO1lBQ3JFLElBQUksSUFBa0IsRUFBYTtnQkFDakMsTUFBTUUsY0FBY0MsYUFBYUMsT0FBTyxDQUFDO2dCQUN6QyxJQUFJRixhQUFhO29CQUNmUixRQUFRQyxHQUFHLENBQUMsd0NBQXdDTyxZQUFZTixNQUFNO29CQUN0RSxrQ0FBa0M7b0JBQ2xDLE1BQU1DLGFBQWEsTUFBTSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0k7b0JBQzVDLElBQUlMLFdBQVdFLEtBQUssRUFBRTt3QkFDcEJMLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWixJQUFJRSxXQUFXUSxXQUFXLEVBQUU7NEJBQzFCWCxRQUFRQyxHQUFHLENBQUMsc0JBQXNCRSxXQUFXUSxXQUFXO3dCQUMxRDt3QkFDQSxPQUFPSDtvQkFDVCxPQUFPO3dCQUNMUixRQUFRQyxHQUFHLENBQUMseUNBQXlDRSxX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QUFnQnRELFFBQVEsR0FBRztBQUMxRCxNQUFNeUQscUJBQXFCLElBQU1ILGdCQUFnQjFDLFVBQVUsR0FBRztBQUM5RCxNQUFNOEMsb0JBQW9CLENBQUNqQixTQUFpQnpCLFNBQ2pEc0MsZ0JBQWdCZCxXQUFXLENBQUNDLFNBQVN6QixRQUFRO0FBQ3hDLE1BQU0yQyx5QkFBeUIsSUFBTUwsZ0JBQWdCTixjQUFjLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NlcnZpY2VzL2ZhY2Vib29rU2VydmljZS50cz9lNDY5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZhY2Vib29rIEludGVncmF0aW9uIFNlcnZpY2Vcbi8vIFRoaXMgc2VydmljZSBwcm92aWRlcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBhbGwgRmFjZWJvb2sgb3BlcmF0aW9uc1xuXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcblxuY2xhc3MgRmFjZWJvb2tTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxOS4wJztcblxuICAvLyBHZXQgRmFjZWJvb2sgYWNjZXNzIHRva2VuIGZyb20gc2Vzc2lvbiBvciBsb2NhbFN0b3JhZ2Ugd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgYXN5bmMgZ2V0QWNjZXNzVG9rZW4ob3ZlcnJpZGVUb2tlbj86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnPT09IEdFVCBBQ0NFU1MgVE9LRU4gU1RBUlQgPT09Jyk7XG4gICAgICBcbiAgICAgIC8vIElmIGFuIG92ZXJyaWRlIHRva2VuIGlzIHByb3ZpZGVkIChlLmcuLCBmcm9tIHNlcnZlci1zaWRlIEFQSSksIHVzZSBpdFxuICAgICAgaWYgKG92ZXJyaWRlVG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG92ZXJyaWRlIHRva2VuLCBsZW5ndGg6Jywgb3ZlcnJpZGVUb2tlbi5sZW5ndGgpO1xuICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIHJldHVybmluZ1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZVRva2VuKG92ZXJyaWRlVG9rZW4pO1xuICAgICAgICBpZiAodmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdPdmVycmlkZSB0b2tlbiB2YWxpZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgcmV0dXJuIG92ZXJyaWRlVG9rZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ092ZXJyaWRlIHRva2VuIGlzIGludmFsaWQ6JywgdmFsaWRhdGlvbi5lcnJvcik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG92ZXJyaWRlIHRva2VuOiAke3ZhbGlkYXRpb24uZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGdldCBmcm9tIGxvY2FsU3RvcmFnZSBmaXJzdCAobW9zdCByZWxpYWJsZSBmb3IgY2xpZW50LXNpZGUpXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UsIGxlbmd0aDonLCBzdG9yZWRUb2tlbi5sZW5ndGgpO1xuICAgICAgICAgIC8vIFZhbGlkYXRlIHRva2VuIGJlZm9yZSByZXR1cm5pbmdcbiAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZVRva2VuKHN0b3JlZFRva2VuKTtcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLnBlcm1pc3Npb25zKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBwZXJtaXNzaW9uczonLCB2YWxpZGF0aW9uLnBlcm1pc3Npb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRUb2tlbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JlZCB0b2tlbiBpcyBpbnZhbGlkLCByZW1vdmluZyBpdDonLCB2YWxpZGF0aW9uLmVycm9yKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmYWNlYm9va19hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHVzZXIncyBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGVycm9yOicsIHNlc3Npb25FcnJvcik7XG4gICAgICAgIC8vIERvbid0IHRocm93IGVycm9yLCB0cnkgbG9jYWxTdG9yYWdlIGZhbGxiYWNrXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYWN0aXZlIFN1cGFiYXNlIHNlc3Npb24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZSBzZXNzaW9uIGZvdW5kJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgdGhlIHByb3ZpZGVyIHRva2VuIChGYWNlYm9vayBhY2Nlc3MgdG9rZW4pXG4gICAgICAgIGNvbnN0IGZhY2Vib29rQWNjZXNzVG9rZW4gPSBzZXNzaW9uLnByb3ZpZGVyX3Rva2VuO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZhY2Vib29rQWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gZm91bmQgaW4gU3VwYWJhc2Ugc2Vzc2lvbiwgbGVuZ3RoOicsIGZhY2Vib29rQWNjZXNzVG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIHJldHVybmluZ1xuICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4oZmFjZWJvb2tBY2Nlc3NUb2tlbik7XG4gICAgICAgICAgaWYgKHZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHJldHVybiBmYWNlYm9va0FjY2Vzc1Rva2VuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiB0b2tlbiBpcyBpbnZhbGlkOicsIHZhbGlkYXRpb24uZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBMYXN0IHJlc29ydDogY2hlY2sgbG9jYWxTdG9yYWdlIGFnYWluXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2tfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWVyZ2VuY3kgZmFsbGJhY2s6IFRva2VuIGZvdW5kIGluIGxvY2FsU3RvcmFnZSwgbGVuZ3RoOicsIHN0b3JlZFRva2VuLmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZFRva2VuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdObyBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gZm91bmQgYW55d2hlcmUnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIEZhY2Vib29rIGFjY2VzcyB0b2tlbjonLCBlcnJvcik7XG4gICAgICAvLyBUcnkgYWJzb2x1dGUgZmFsbGJhY2tcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Fic29sdXRlIGVtZXJnZW5jeSBmYWxsYmFjazogVG9rZW4gZm91bmQgaW4gbG9jYWxTdG9yYWdlLCBsZW5ndGg6Jywgc3RvcmVkVG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRUb2tlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQWJzb2x1dGUgZmFsbGJhY2sgZmFpbGVkOicsIGZhbGxiYWNrRXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gVmFsaWRhdGUgRmFjZWJvb2sgYWNjZXNzIHRva2VuIHdpdGggZGV0YWlsZWQgaW5mb3JtYXRpb25cbiAgYXN5bmMgdmFsaWRhdGVUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx7dmFsaWQ6IGJvb2xlYW47IHBlcm1pc3Npb25zPzogc3RyaW5nW107IGVycm9yPzogc3RyaW5nfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCwgY2hlY2sgYmFzaWMgdG9rZW4gdmFsaWRpdHlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke3RoaXMuYmFzZVVybH0vbWU/YWNjZXNzX3Rva2VuPSR7dG9rZW59JmZpZWxkcz1pZCxuYW1lLGVtYWlsYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Rva2VuIGludmFsaWQnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIGJhc2ljIHZhbGlkYXRpb24gcGFzc2VzLCBjaGVjayBwZXJtaXNzaW9uc1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgd2hhdCBwZXJtaXNzaW9ucyB0aGUgdG9rZW4gaGFzXG4gICAgICAgIC8vIE5vdGU6IEZvciBkZWJ1Z190b2tlbiwgd2UgbmVlZCB0byB1c2UgdGhlIGFwcCBhY2Nlc3MgdG9rZW4sIGJ1dCBmb3Igc2ltcGxpY2l0eSxcbiAgICAgICAgLy8gd2UnbGwgc2tpcCB0aGlzIGZvciBub3cgYW5kIGp1c3QgcmV0dXJuIHZhbGlkXG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiB2YWxpZGF0aW9uIHBhc3NlZCwgc2tpcHBpbmcgZGV0YWlsZWQgcGVybWlzc2lvbiBjaGVjayBmb3Igbm93Jyk7XG4gICAgICB9IGNhdGNoIChkZWJ1Z0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgY2hlY2sgdG9rZW4gcGVybWlzc2lvbnM6JywgZGVidWdFcnJvcik7XG4gICAgICAgIC8vIFN0aWxsIHJldHVybiB2YWxpZCBzaW5jZSBiYXNpYyB2YWxpZGF0aW9uIHBhc3NlZFxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBGYWNlYm9vayB0b2tlbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdUb2tlbiB2YWxpZGF0aW9uIGZhaWxlZCdcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHVzZXIncyBGYWNlYm9vayBwYWdlcyB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nIGFuZCBmYWxsYmFja3NcbiAgYXN5bmMgZ2V0UGFnZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnPT09IEdFVCBQQUdFUyBNRVRIT0QgU1RBUlQgPT09Jyk7XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBnZXQgdG9rZW4gZnJvbSBzZXNzaW9uIGZpcnN0XG4gICAgICBsZXQgdG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmcm9tIGdldEFjY2Vzc1Rva2VuKCk6JywgdG9rZW4gPyAnRm91bmQnIDogJ05vdCBmb3VuZCcpO1xuICAgICAgfSBjYXRjaCAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIHRva2VuIHJldHJpZXZhbCBmYWlsZWQ6Jywgc2Vzc2lvbkVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBkaXJlY3QgbG9jYWxTdG9yYWdlIGFjY2Vzc1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIGRpcmVjdCBsb2NhbFN0b3JhZ2UgYWNjZXNzLi4uJyk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZhY2Vib29rX2FjY2Vzc190b2tlbicpO1xuICAgICAgICAgIGlmIChzdG9yZWRUb2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBzdG9yZWRUb2tlbjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBkaXJlY3RseSBpbiBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUgZnJvbSBzZXNzaW9uIG9yIGxvY2FsU3RvcmFnZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgdG9rZW4gZm9yIHBhZ2VzIHJlcXVlc3QnKTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW4gZmlyc3RcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW4pO1xuICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkaXR5IGNoZWNrOicsIHZhbGlkYXRpb24pO1xuICAgICAgXG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gaXMgaW52YWxpZCBvciBleHBpcmVkOiAke3ZhbGlkYXRpb24uZXJyb3J9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRva2VuIGhhcyByZXF1aXJlZCBwZXJtaXNzaW9uc1xuICAgICAgaWYgKHZhbGlkYXRpb24ucGVybWlzc2lvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRQZXJtaXNzaW9ucyA9IFsncGFnZXNfc2hvd19saXN0JywgJ3BhZ2VzX3JlYWRfZW5nYWdlbWVudCcsICdwYWdlc19tYW5hZ2VfcG9zdHMnXTtcbiAgICAgICAgY29uc3QgbWlzc2luZ1Blcm1pc3Npb25zID0gcmVxdWlyZWRQZXJtaXNzaW9ucy5maWx0ZXIoXG4gICAgICAgICAgcGVybSA9PiAhdmFsaWRhdGlvbi5wZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1pc3NpbmdQZXJtaXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1dhcm5pbmc6IFRva2VuIG1pc3NpbmcgcmVxdWlyZWQgcGVybWlzc2lvbnM6JywgbWlzc2luZ1Blcm1pc3Npb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gaGFzIGFsbCByZXF1aXJlZCBwZXJtaXNzaW9ucycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCB1c2VyIHByb2ZpbGUgdG8gY29uZmlybSB0b2tlbiB3b3Jrc1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9tZT9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPWlkLG5hbWUsZW1haWxgXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IHVzZXJSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXVzZXJSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgcHJvZmlsZSBBUEkgZXJyb3I6JywgdXNlckRhdGEpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcih1c2VyRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHVzZXIgcHJvZmlsZScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlIHJldHJpZXZlZDonLCB1c2VyRGF0YS5uYW1lKTtcbiAgICAgIH0gY2F0Y2ggKHVzZXJFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6JywgdXNlckVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgYW55d2F5IGFzIHdlIG1pZ2h0IHN0aWxsIGdldCBwYWdlc1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgcGFnZXMgdXNpbmcgdGhlIHRva2VuXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgRmFjZWJvb2sgcGFnZXMgd2l0aCB0b2tlbi4uLicpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9tZS9hY2NvdW50cz9hY2Nlc3NfdG9rZW49JHt0b2tlbn0mZmllbGRzPW5hbWUsaWQsY2F0ZWdvcnkscGljdHVyZSxmYW5fY291bnRgXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIEFQSSByZXNwb25zZTonLCBkYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWNlYm9vayBwYWdlcyBBUEkgZXJyb3I6JywgZGF0YSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggRmFjZWJvb2sgcGFnZXMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkaXRpb25hbCBkZWJ1Z2dpbmcgLSBjaGVjayBpZiB3ZSBoYXZlIGFuIGVtcHR5IGRhdGEgYXJyYXlcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGEuZGF0YSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1BhZ2VzIHJldHJpZXZlZCBzdWNjZXNzZnVsbHk6JywgZGF0YS5kYXRhLmxlbmd0aCk7XG4gICAgICAgIGlmIChkYXRhLmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1dhcm5pbmc6IE5vIHBhZ2VzIGZvdW5kLiBUaGlzIG1pZ2h0IGJlIGR1ZSB0bzonKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMS4gVXNlciBoYXMgbm8gRmFjZWJvb2sgcGFnZXMnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMi4gVG9rZW4gbGFja3MgcGFnZXNfc2hvd19saXN0IHBlcm1pc3Npb24nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnMy4gVXNlciBhY2NvdW50IGlzIG5vdCBhIGJ1c2luZXNzIGFjY291bnQgd2l0aCBwYWdlIGFjY2VzcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhLmRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5leHBlY3RlZCByZXNwb25zZSBmb3JtYXQ6JywgZGF0YSk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgRmFjZWJvb2sgcGFnZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHVzZXIncyBGYWNlYm9vayBwcm9maWxlXG4gIGFzeW5jIGdldFByb2ZpbGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gRmFjZWJvb2sgYWNjZXNzIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHt0aGlzLmJhc2VVcmx9L21lP2FjY2Vzc190b2tlbj0ke3Rva2VufSZmaWVsZHM9aWQsbmFtZSxlbWFpbCxwaWN0dXJlYFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIEZhY2Vib29rIHByb2ZpbGUnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEZhY2Vib29rIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBsb2FkIGltYWdlIHRvIEZhY2Vib29rXG4gIGFzeW5jIHVwbG9hZEltYWdlKGJhc2U2NEltYWdlOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZyA9ICcnLCBwYWdlSWQ/OiBzdHJpbmcsIG92ZXJyaWRlVG9rZW4/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4ob3ZlcnJpZGVUb2tlbik7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gRmFjZWJvb2sgYWNjZXNzIHRva2VuIGF2YWlsYWJsZS4gUGxlYXNlIHJlY29ubmVjdCB5b3VyIEZhY2Vib29rIGFjY291bnQuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCBhY2Nlc3NUb2tlblRvVXNlID0gdG9rZW47XG4gICAgICBsZXQgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9tZS9waG90b3NgO1xuICAgICAgXG4gICAgICAvLyBJZiBhIHBhZ2UgSUQgaXMgcHJvdmlkZWQsIGdldCB0aGUgcGFnZSBhY2Nlc3MgdG9rZW5cbiAgICAgIGlmIChwYWdlSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBwYWdlIElEOicsIHBhZ2VJZCk7XG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlblJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS8ke3BhZ2VJZH0/ZmllbGRzPWFjY2Vzc190b2tlbiZhY2Nlc3NfdG9rZW49JHt0b2tlbn1gXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwYWdlVG9rZW5EYXRhID0gYXdhaXQgcGFnZVRva2VuUmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFwYWdlVG9rZW5SZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBhZ2UgYWNjZXNzIHRva2VuOicsIHBhZ2VUb2tlbkRhdGEpO1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHBhZ2VUb2tlbkRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgcGFnZSBhY2Nlc3MgdG9rZW4nO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBwYWdlIGFjY2VzcyB0b2tlbjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFjY2Vzc1Rva2VuVG9Vc2UgPSBwYWdlVG9rZW5EYXRhLmFjY2Vzc190b2tlbjtcbiAgICAgICAgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS8ke3BhZ2VJZH0vcGhvdG9zYDtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBpbWFnZSB1cGxvYWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyB1c2VyIGFjY2VzcyB0b2tlbiBmb3IgaW1hZ2UgdXBsb2FkIHRvIHBlcnNvbmFsIGZlZWQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRm9yIEZhY2Vib29rIHBob3RvIHVwbG9hZCwgd2UgbmVlZCB0byBzZW5kIGFzIGZvcm0gZGF0YVxuICAgICAgLy8gRmlyc3QsIGNvbnZlcnQgYmFzZTY0IHRvIGJ1ZmZlciBmb3Igc2VydmVyLXNpZGUgdXNhZ2VcbiAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oYmFzZTY0SW1hZ2UsICdiYXNlNjQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc291cmNlJywgbmV3IEJsb2IoW2ltYWdlQnVmZmVyXSwgeyB0eXBlOiAnaW1hZ2UvcG5nJyB9KSk7XG4gICAgICBpZiAoY2FwdGlvbikge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NhcHRpb24nLCBjYXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYWNjZXNzX3Rva2VuJywgYWNjZXNzVG9rZW5Ub1VzZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRpbmcgaW1hZ2UgdG8gRmFjZWJvb2s6JywgeyB1cmwsIGhhc0NhcHRpb246ICEhY2FwdGlvbiB9KTtcbiAgICAgIFxuICAgICAgLy8gVXBsb2FkIHRvIEZhY2Vib29rXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGFcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gdXBsb2FkIGltYWdlIHRvIEZhY2Vib29rJztcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZSB8fCByZXNwb25zZURhdGEuZXJyb3IudHlwZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgLy8gTG9nIGFkZGl0aW9uYWwgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFjZWJvb2sgQVBJIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VEYXRhLmVycm9yLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIGZidHJhY2VfaWQ6IHJlc3BvbnNlRGF0YS5lcnJvci5mYnRyYWNlX2lkLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnSW1hZ2UgdXBsb2FkZWQgdG8gRmFjZWJvb2sgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgZmFjZWJvb2tfcG9zdF9pZDogcmVzcG9uc2VEYXRhLnBvc3RfaWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZSB0byBGYWNlYm9vazonLCBlcnJvcik7XG4gICAgICAvLyBSZS10aHJvdyB3aXRoIG1vcmUgdXNlci1mcmllbmRseSBtZXNzYWdlXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEltYWdlIHVwbG9hZCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignSW1hZ2UgdXBsb2FkIGZhaWxlZDogVW5rbm93biBlcnJvciBvY2N1cnJlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFB1Ymxpc2ggcG9zdCB0byBGYWNlYm9vayAodXNlciBmZWVkIG9yIHBhZ2UpXG4gIGFzeW5jIHB1Ymxpc2hQb3N0KGNvbnRlbnQ6IHN0cmluZywgcGFnZUlkPzogc3RyaW5nLCBvdmVycmlkZVRva2VuPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKG92ZXJyaWRlVG9rZW4pO1xuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEZhY2Vib29rIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUuIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSB0aGUgdG9rZW4gYmVmb3JlIGF0dGVtcHRpbmcgdG8gcHVibGlzaFxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGVUb2tlbih0b2tlbik7XG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gaXMgaW52YWxpZDogJHt2YWxpZGF0aW9uLmVycm9yIHx8ICdVbmtub3duIGVycm9yJ30uIFBsZWFzZSByZWNvbm5lY3QgeW91ciBGYWNlYm9vayBhY2NvdW50LmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgYWNjZXNzVG9rZW5Ub1VzZSA9IHRva2VuO1xuICAgICAgbGV0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbWUvZmVlZGA7XG4gICAgICBcbiAgICAgIC8vIElmIGEgcGFnZSBJRCBpcyBwcm92aWRlZCwgZ2V0IHRoZSBwYWdlIGFjY2VzcyB0b2tlblxuICAgICAgaWYgKHBhZ2VJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcGFnZSBhY2Nlc3MgdG9rZW4gZm9yIHBhZ2UgSUQ6JywgcGFnZUlkKTtcbiAgICAgICAgY29uc3QgcGFnZVRva2VuUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHt0aGlzLmJhc2VVcmx9LyR7cGFnZUlkfT9maWVsZHM9YWNjZXNzX3Rva2VuJmFjY2Vzc190b2tlbj0ke3Rva2VufWBcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlbkRhdGEgPSBhd2FpdCBwYWdlVG9rZW5SZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBhZ2VUb2tlblJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGFnZSBhY2Nlc3MgdG9rZW46JywgcGFnZVRva2VuRGF0YSk7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcGFnZVRva2VuRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGdldCBwYWdlIGFjY2VzcyB0b2tlbic7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHBhZ2UgYWNjZXNzIHRva2VuOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYWNjZXNzVG9rZW5Ub1VzZSA9IHBhZ2VUb2tlbkRhdGEuYWNjZXNzX3Rva2VuO1xuICAgICAgICB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9LyR7cGFnZUlkfS9mZWVkYDtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHBhZ2UgYWNjZXNzIHRva2VuIGZvciBwdWJsaXNoaW5nJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgdXNlciBhY2Nlc3MgdG9rZW4gZm9yIHB1Ymxpc2hpbmcgdG8gcGVyc29uYWwgZmVlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIHRoZSBwb3N0IGRhdGFcbiAgICAgIGNvbnN0IHBvc3REYXRhOiBhbnkgPSB7XG4gICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXG4gICAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW5Ub1VzZVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1B1Ymxpc2hpbmcgdG8gRmFjZWJvb2s6JywgeyB1cmwsIGhhc01lc3NhZ2U6ICEhcG9zdERhdGEubWVzc2FnZSB9KTtcbiAgICAgIFxuICAgICAgLy8gUHVibGlzaCB0byBGYWNlYm9va1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBvc3REYXRhKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBwdWJsaXNoIHRvIEZhY2Vib29rJztcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZSB8fCByZXNwb25zZURhdGEuZXJyb3IudHlwZSB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgLy8gTG9nIGFkZGl0aW9uYWwgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFjZWJvb2sgQVBJIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VEYXRhLmVycm9yLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIGZidHJhY2VfaWQ6IHJlc3BvbnNlRGF0YS5lcnJvci5mYnRyYWNlX2lkLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWNlYm9vayBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUG9zdCBwdWJsaXNoZWQgdG8gRmFjZWJvb2sgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgZmFjZWJvb2tfcG9zdF9pZDogcmVzcG9uc2VEYXRhLmlkXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwdWJsaXNoaW5nIHRvIEZhY2Vib29rOicsIGVycm9yKTtcbiAgICAgIC8vIFJlLXRocm93IHdpdGggbW9yZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUHVibGlzaCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignUHVibGlzaCBmYWlsZWQ6IFVua25vd24gZXJyb3Igb2NjdXJyZWQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBUZXN0IEZhY2Vib29rIGNvbm5lY3Rpb25cbiAgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx7IGNvbm5lY3RlZDogYm9vbGVhbjsgdXNlcj86IGFueTsgcGFnZXM/OiBhbnlbXTsgdG9rZW5JbmZvPzogYW55IH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW4pO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHVzZXIgcHJvZmlsZVxuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0UHJvZmlsZSgpO1xuICAgICAgXG4gICAgICAvLyBHZXQgcGFnZXNcbiAgICAgIGNvbnN0IHBhZ2VzID0gYXdhaXQgdGhpcy5nZXRQYWdlcygpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIHVzZXI6IHByb2ZpbGUsXG4gICAgICAgIHBhZ2VzOiBwYWdlcyxcbiAgICAgICAgdG9rZW5JbmZvOiB2YWxpZGF0aW9uXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0ZXN0aW5nIEZhY2Vib29rIGNvbm5lY3Rpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiBmYWxzZSB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgZmFjZWJvb2tTZXJ2aWNlID0gbmV3IEZhY2Vib29rU2VydmljZSgpO1xuXG4vLyBFeHBvcnQgaW5kaXZpZHVhbCBmdW5jdGlvbnMgZm9yIGRpcmVjdCB1c2VcbmV4cG9ydCBjb25zdCBnZXRGYWNlYm9va1Rva2VuID0gKCkgPT4gZmFjZWJvb2tTZXJ2aWNlLmdldEFjY2Vzc1Rva2VuKCk7XG5leHBvcnQgY29uc3QgZ2V0RmFjZWJvb2tQYWdlcyA9ICgpID0+IGZhY2Vib29rU2VydmljZS5nZXRQYWdlcygpO1xuZXhwb3J0IGNvbnN0IGdldEZhY2Vib29rUHJvZmlsZSA9ICgpID0+IGZhY2Vib29rU2VydmljZS5nZXRQcm9maWxlKCk7XG5leHBvcnQgY29uc3QgcHVibGlzaFRvRmFjZWJvb2sgPSAoY29udGVudDogc3RyaW5nLCBwYWdlSWQ/OiBzdHJpbmcpID0+IFxuICBmYWNlYm9va1NlcnZpY2UucHVibGlzaFBvc3QoY29udGVudCwgcGFnZUlkKTtcbmV4cG9ydCBjb25zdCB0ZXN0RmFjZWJvb2tDb25uZWN0aW9uID0gKCkgPT4gZmFjZWJvb2tTZXJ2aWNlLnRlc3RDb25uZWN0aW9uKCk7Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwiRmFjZWJvb2tTZXJ2aWNlIiwiZ2V0QWNjZXNzVG9rZW4iLCJvdmVycmlkZVRva2VuIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZVRva2VuIiwidmFsaWQiLCJlcnJvciIsIkVycm9yIiwic3RvcmVkVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGVybWlzc2lvbnMiLCJyZW1vdmVJdGVtIiwiZGF0YSIsInNlc3Npb24iLCJzZXNzaW9uRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImZhY2Vib29rQWNjZXNzVG9rZW4iLCJwcm92aWRlcl90b2tlbiIsImZhbGxiYWNrRXJyb3IiLCJ0b2tlbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJiYXNlVXJsIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwibWVzc2FnZSIsImRlYnVnRXJyb3IiLCJnZXRQYWdlcyIsInJlcXVpcmVkUGVybWlzc2lvbnMiLCJtaXNzaW5nUGVybWlzc2lvbnMiLCJmaWx0ZXIiLCJwZXJtIiwiaW5jbHVkZXMiLCJ1c2VyUmVzcG9uc2UiLCJ1c2VyRGF0YSIsIm5hbWUiLCJ1c2VyRXJyb3IiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRQcm9maWxlIiwidXBsb2FkSW1hZ2UiLCJiYXNlNjRJbWFnZSIsImNhcHRpb24iLCJwYWdlSWQiLCJhY2Nlc3NUb2tlblRvVXNlIiwidXJsIiwicGFnZVRva2VuUmVzcG9uc2UiLCJwYWdlVG9rZW5EYXRhIiwiZXJyb3JNZXNzYWdlIiwiYWNjZXNzX3Rva2VuIiwiaW1hZ2VCdWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIkJsb2IiLCJ0eXBlIiwiaGFzQ2FwdGlvbiIsIm1ldGhvZCIsImJvZHkiLCJyZXNwb25zZURhdGEiLCJjb2RlIiwiZmJ0cmFjZV9pZCIsInN1Y2Nlc3MiLCJmYWNlYm9va19wb3N0X2lkIiwicG9zdF9pZCIsInB1Ymxpc2hQb3N0IiwiY29udGVudCIsInBvc3REYXRhIiwiaGFzTWVzc2FnZSIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJ0ZXN0Q29ubmVjdGlvbiIsImNvbm5lY3RlZCIsInByb2ZpbGUiLCJwYWdlcyIsInVzZXIiLCJ0b2tlbkluZm8iLCJmYWNlYm9va1NlcnZpY2UiLCJnZXRGYWNlYm9va1Rva2VuIiwiZ2V0RmFjZWJvb2tQYWdlcyIsImdldEZhY2Vib29rUHJvZmlsZSIsInB1Ymxpc2hUb0ZhY2Vib29rIiwidGVzdEZhY2Vib29rQ29ubmVjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/facebookService.ts\n"));

/***/ })

}]);