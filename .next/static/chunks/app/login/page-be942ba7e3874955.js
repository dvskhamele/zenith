(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1816:function(e,s,r){Promise.resolve().then(r.bind(r,8991))},9376:function(e,s,r){"use strict";var o=r(5475);r.o(o,"useRouter")&&r.d(s,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(s,{useSearchParams:function(){return o.useSearchParams}})},8991:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return a}});var o=r(7437),t=r(2265),n=r(9376),i=r(8123);function a(){let[e,s]=(0,t.useState)(""),[r,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u,g]=(0,t.useState)(null),d=(0,n.useRouter)(),h=async s=>{s.preventDefault(),console.log("Login page: Submitting login form",{email:e}),c(!0),g(null);try{let s=await (0,i.pH)(e,r);console.log("Login page: Login successful",s),console.log("Login page: Redirecting to dashboard"),d.push("/dashboard")}catch(e){console.error("Login page: Login error",e),g(e instanceof Error?e.message:"An unknown error occurred")}finally{c(!1)}},f=async()=>{console.log("Login page: Initiating Facebook login");try{await (0,i.eu)()}catch(e){console.error("Login page: Facebook login error",e),g(e instanceof Error?e.message:"Failed to initiate Facebook login")}};return(0,o.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl text-center max-w-md w-full border border-slate-700",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),(0,o.jsx)("p",{className:"text-slate-400 mb-6",children:"Sign in to your account"}),u&&(0,o.jsx)("div",{className:"mb-4 p-2 bg-red-500/20 text-red-300 rounded text-sm",children:u}),(0,o.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"Email",className:"w-full p-3 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500",required:!0,disabled:l})}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"password",value:r,onChange:e=>a(e.target.value),placeholder:"Password",className:"w-full p-3 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500",required:!0,disabled:l})}),(0,o.jsx)("button",{type:"submit",className:"w-full bg-sky-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-sky-600 transition-colors disabled:opacity-50",disabled:l,children:l?"Signing In...":"Sign In"})]}),(0,o.jsx)("div",{className:"my-6",children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,o.jsx)("div",{className:"w-full border-t border-slate-600"})}),(0,o.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,o.jsx)("span",{className:"px-2 bg-slate-800 text-slate-400",children:"Or continue with"})})]})}),(0,o.jsxs)("button",{onClick:f,className:"w-full bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",disabled:l,children:[(0,o.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Log in with Facebook"]}),(0,o.jsxs)("p",{className:"text-sm text-slate-400 mt-6",children:["Don't have an account?"," ",(0,o.jsx)("a",{href:"/register",className:"text-sky-400 hover:underline",children:"Register"})]})]})})}},8123:function(e,s,r){"use strict";r.d(s,{TX:function(){return a},a$:function(){return t},eu:function(){return i},pH:function(){return n},ts:function(){return l}});var o=r(6634);async function t(e,s){console.log("Registering user with email:",e);let{data:r,error:t}=await o.O.auth.signUp({email:e,password:s});if(t)throw console.error("Registration error:",t),Error(t.message);return console.log("Registration successful:",r),r}async function n(e,s){console.log("Logging in user with email:",e);let{data:r,error:t}=await o.O.auth.signInWithPassword({email:e,password:s});if(t)throw console.error("Login error:",t),Error(t.message);return console.log("Login successful:",r),r}async function i(){let e="".concat(window.location.origin,"/auth/callback");console.log("Initiating Facebook OAuth with redirect URL:",e);let{data:s,error:r}=await o.O.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:e,queryParams:{scope:"public_profile,email,pages_show_list,pages_manage_posts"}}});if(r){if(console.error("Facebook OAuth error:",r),console.error("Error details:",{message:r.message,status:r.status,name:r.name}),r.message.includes("external provider")){console.log("Trying with basic scopes...");let{data:s,error:r}=await o.O.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:e,queryParams:{scope:"public_profile,email,pages_show_list,pages_manage_posts"}}});if(r)throw console.error("Retry failed:",r),Error(r.message);return console.log("Retry successful:",s),s}throw Error(r.message)}return console.log("Facebook OAuth initiated successfully:",s),s}async function a(){console.log("Logging out user");let{error:e}=await o.O.auth.signOut();if(e)throw console.error("Logout error:",e),Error(e.message);return console.log("Logout successful"),!0}async function l(){console.log("Getting current user");let{data:e,error:s}=await o.O.auth.getUser();if(s)throw console.error("Get user error:",s),Error(s.message);return console.log("Current user:",e.user),e.user}},6634:function(e,s,r){"use strict";r.d(s,{O:function(){return o}});let o=(0,r(8439).eI)("https://qfpvsyhtijwxkmyrqswa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}},function(e){e.O(0,[439,971,117,744],function(){return e(e.s=1816)}),_N_E=e.O()}]);