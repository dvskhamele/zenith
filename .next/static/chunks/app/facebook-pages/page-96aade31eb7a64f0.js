(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{1602:function(e,o,n){Promise.resolve().then(n.bind(n,7750))},9376:function(e,o,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(o,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(o,{useSearchParams:function(){return r.useSearchParams}})},7750:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return c}});var r=n(7437),t=n(2265),s=n(9376);function c(){let[e,o]=(0,t.useState)(null),[n,c]=(0,t.useState)(null),l=(0,s.useRouter)();(0,t.useEffect)(()=>{console.log("=== Facebook Pages Page Debug Info ===");let e=localStorage.getItem("facebook_access_token"),n=localStorage.getItem("facebook_auth_completed");console.log("Facebook access token from localStorage:",e),console.log("Facebook auth completed flag:",n),e?(o(e),c({tokenLength:e.length,authCompleted:"true"===n}),setTimeout(()=>{l.push("/dashboard")},2e3)):(console.log("No Facebook access token found"),l.push("/login"))},[l]);let a=async()=>{if(e)try{let o=await fetch("https://graph.facebook.com/v19.0/me?access_token=".concat(e)),n=await o.json();console.log("Token test response:",n),alert("Token valid! User: ".concat(n.name||"Unknown"))}catch(e){console.error("Token test failed:",e),alert("Token test failed. Check console for details.")}};return(0,r.jsxs)("div",{style:{padding:"20px",fontFamily:"sans-serif"},children:[(0,r.jsx)("h1",{children:"Facebook Pages Management"}),e?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{color:"green"},children:"✓ Access token found! Redirecting to dashboard..."}),(0,r.jsxs)("p",{children:["Token length: ",null==n?void 0:n.tokenLength," characters"]}),(0,r.jsxs)("p",{children:["Auth completed: ",(null==n?void 0:n.authCompleted)?"Yes":"No"]}),(0,r.jsxs)("div",{style:{marginTop:"20px"},children:[(0,r.jsx)("button",{onClick:a,style:{padding:"10px 15px",backgroundColor:"#4267B2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Test Token Validity"}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("facebook_access_token"),localStorage.removeItem("facebook_auth_completed"),o(null),c(null),console.log("Tokens cleared from localStorage"),alert("Tokens cleared!")},style:{padding:"10px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Tokens"})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{color:"red"},children:"✗ No access token found."}),(0,r.jsx)("p",{children:"Please log in with Facebook first."}),(0,r.jsx)("button",{onClick:()=>l.push("/login"),style:{padding:"10px 15px",backgroundColor:"#4267B2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Log in with Facebook"})]}),(0,r.jsxs)("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,r.jsx)("h3",{children:"Debug Information"}),(0,r.jsx)("p",{children:"Check browser console for detailed logs."}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:"8px 12px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Refresh Page"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1602)}),_N_E=e.O()}]);