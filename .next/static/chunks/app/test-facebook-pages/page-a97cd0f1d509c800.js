(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{3541:function(e,s,t){Promise.resolve().then(t.bind(t,8359))},8359:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var a=t(7437),l=t(2265);function n(){let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),r=async()=>{n(!0),o(null),s([]);try{console.log("Testing Facebook pages API...");let e=await fetch("/api/facebook/pages"),t=await e.json();console.log("Pages API response:",t),e.ok&&t.success?s(t.pages):o(t.error||"Failed to fetch Facebook pages")}catch(e){console.error("Error testing Facebook pages:",e),o(e.message)}finally{n(!1)}};return(0,l.useEffect)(()=>{r()},[]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Facebook Pages Test"}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Facebook Pages API Test"}),(0,a.jsx)("button",{onClick:r,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg disabled:opacity-50",children:t?"Testing...":"Test Pages API"})]}),c&&(0,a.jsxs)("div",{className:"bg-red-500/20 text-red-300 p-4 rounded-lg mb-4",children:["Error: ",c]}),t?(0,a.jsx)("p",{className:"text-slate-400",children:"Loading Facebook pages..."}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-slate-400 mb-4",children:["Found ",e.length," Facebook pages"]}),e.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{var s,t;return(0,a.jsx)("div",{className:"bg-slate-700 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(null===(t=e.picture)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.url)?(0,a.jsx)("img",{src:e.picture.data.url,alt:e.name,className:"w-12 h-12 rounded-full"}):(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg font-bold text-white",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:e.category}),e.fan_count&&(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.fan_count," fans"]})]})]})},e.id)})}):(0,a.jsx)("p",{className:"text-slate-400",children:"No Facebook pages found."})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manual Debugging"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-white mb-2",children:"Test Token Manually"}),(0,a.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Run this in your browser console:"}),(0,a.jsx)("pre",{className:"bg-slate-900 p-3 rounded-lg text-sm text-slate-300 overflow-x-auto",children:"const token = localStorage.getItem('facebook_access_token');\nfetch(`https://graph.facebook.com/v19.0/me/accounts?access_token=${token}&fields=name,id,category,picture,fan_count`)\n  .then(res => res.json())\n  .then(data => console.log('Pages:', data));"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-white mb-2",children:"Check Token Permissions"}),(0,a.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Visit Facebook Access Token Debugger:"}),(0,a.jsx)("a",{href:"https://developers.facebook.com/tools/debug/accesstoken/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"https://developers.facebook.com/tools/debug/accesstoken/"})]})]})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3541)}),_N_E=e.O()}]);